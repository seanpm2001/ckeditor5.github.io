/**
 * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
var _NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,_Mathfloor=Math.floor,_Mathmax=Math.max,_Mathmin=Math.min;(function(o){function r(d){if(s[d])return s[d].exports;var u=s[d]={i:d,l:!1,exports:{}};return o[d].call(u.exports,u,u.exports,r),u.l=!0,u.exports}var s={};return r.m=o,r.c=s,r.i=function(d){return d},r.d=function(d,u,f){r.o(d,u)||Object.defineProperty(d,u,{configurable:!1,enumerable:!0,get:f})},r.n=function(d){var u=d&&d.__esModule?function(){return d['default']}:function(){return d};return r.d(u,'a',u),u},r.o=function(d,u){return Object.prototype.hasOwnProperty.call(d,u)},r.p='',r(r.s=527)})([function(o,r){'use strict';class d extends Error{constructor(u,f){f&&(u+=' '+JSON.stringify(f)),super(u),this.name='CKEditorError',this.data=f}static isCKEditorError(u){return u instanceof d}}r.a=d},function(o,r,s){'use strict';var d=s(33),u=s(19),f=s(62),h=s(0),w=s(25);class C{constructor(T,P){if(!T.is('element')&&!T.is('documentFragment'))throw new h.a('model-position-root-invalid: Position root invalid.');if(!(P instanceof Array)||0===P.length)throw new h.a('model-position-path-incorrect: Position path must be an Array with at least one item.',{path:P});P=T.getPath().concat(P),T=T.root,this.root=T,this.path=P}get offset(){return s.i(u.a)(this.path)}set offset(T){this.path[this.path.length-1]=T}get parent(){let T=this.root;for(let P=0;P<this.path.length-1;P++)T=T.getChild(T.offsetToIndex(this.path[P]));return T}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){let T=this.parent.getChild(this.index);return T instanceof w.a&&T.startOffset<this.offset?T:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(T){if(this.root!=T.root)return'different';const P=s.i(f.a)(this.path,T.path);return'same'===P?'same':'prefix'===P?'before':'extension'===P?'after':this.path[P]<T.path[P]?'before':'after'}getLastMatchingPosition(T,P={}){P.startPosition=this;const S=new d.a(P);return S.skip(T),S.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeNode:!0})}getCommonPath(T){if(this.root!=T.root)return[];let P=s.i(f.a)(this.path,T.path),S='string'==typeof P?_Mathmin(this.path.length,T.path.length):P;return this.path.slice(0,S)}getShiftedBy(T){let P=C.createFromPosition(this),S=P.offset+T;return P.offset=0>S?0:S,P}isAfter(T){return'after'==this.compareWith(T)}isBefore(T){return'before'==this.compareWith(T)}isEqual(T){return'same'==this.compareWith(T)}isTouching(T){let P=null,S=null,E=this.compareWith(T);switch(E){case'same':return!0;case'before':P=C.createFromPosition(this),S=C.createFromPosition(T);break;case'after':P=C.createFromPosition(T),S=C.createFromPosition(this);break;default:return!1;}for(let O=P.parent;P.path.length+S.path.length;){if(P.isEqual(S))return!0;if(P.path.length>S.path.length){if(P.offset!==O.maxOffset)return!1;P.path=P.path.slice(0,-1),O=O.parent,P.offset++}else{if(0!==S.offset)return!1;S.path=S.path.slice(0,-1)}}}_getTransformedByDeletion(T,P){let S=C.createFromPosition(this);if(this.root!=T.root)return S;if('same'==s.i(f.a)(T.getParentPath(),this.getParentPath())){if(T.offset<this.offset){if(T.offset+P>this.offset)return null;S.offset-=P}}else if('prefix'==s.i(f.a)(T.getParentPath(),this.getParentPath())){const E=T.path.length-1;if(T.offset<=this.path[E]){if(T.offset+P>this.path[E])return null;S.path[E]-=P}}return S}_getTransformedByInsertion(T,P,S){let E=C.createFromPosition(this);if(this.root!=T.root)return E;if('same'==s.i(f.a)(T.getParentPath(),this.getParentPath()))(T.offset<this.offset||T.offset==this.offset&&S)&&(E.offset+=P);else if('prefix'==s.i(f.a)(T.getParentPath(),this.getParentPath())){const O=T.path.length-1;T.offset<=this.path[O]&&(E.path[O]+=P)}return E}_getTransformedByMove(T,P,S,E,O){let V=this._getTransformedByDeletion(T,S);return P=P._getTransformedByDeletion(T,S),V=null===V||O&&V.isEqual(T)?this._getCombined(T,P):V._getTransformedByInsertion(P,S,E),V}_getCombined(T,P){const S=T.path.length-1;let E=C.createFromPosition(P);return E.offset=E.offset+this.path[S]-T.offset,E.path=E.path.concat(this.path.slice(S+1)),E}static createAt(T,P){if(T instanceof C)return this.createFromPosition(T);const S=T;if('end'==P)P=S.maxOffset;else{if('before'==P)return this.createBefore(S);if('after'==P)return this.createAfter(S);P||(P=0)}return this.createFromParentAndOffset(S,P)}static createAfter(T){if(!T.parent)throw new h.a('model-position-after-root: You can not make position after root.',{root:T});return this.createFromParentAndOffset(T.parent,T.endOffset)}static createBefore(T){if(!T.parent)throw new h.a('model-position-before-root: You can not make position before root.',{root:T});return this.createFromParentAndOffset(T.parent,T.startOffset)}static createFromParentAndOffset(T,P){if(!T.is('element')&&!T.is('documentFragment'))throw new h.a('model-position-parent-incorrect: Position parent have to be a element or document fragment.');const S=T.getPath();return S.push(P),new this(T.root,S)}static createFromPosition(T){return new this(T.root,T.path.slice())}static fromJSON(T,P){if('$graveyard'===T.root)return new C(P.graveyard,T.path);if(!P.hasRoot(T.root))throw new h.a('model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.',{rootName:T.root});return new C(P.getRoot(T.root),T.path)}}r.a=C},function(o,r,s){'use strict';var d=s(31),u=s(4);class f{constructor(h){this.editor=h}init(){}afterInit(){}destroy(){}}r.a=f,s.i(u.a)(f,d.a)},function(o,r,s){'use strict';var d=s(1),u=s(33),f=s(0);class h{constructor(w,C=null){this.start=d.a.createFromPosition(w),this.end=C?d.a.createFromPosition(C):d.a.createFromPosition(w)}*[Symbol.iterator](){yield*new u.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}containsPosition(w){return w.isAfter(this.start)&&w.isBefore(this.end)}containsRange(w){return this.containsPosition(w.start)&&this.containsPosition(w.end)}isEqual(w){return this.start.isEqual(w.start)&&this.end.isEqual(w.end)}isIntersecting(w){return this.start.isBefore(w.end)&&this.end.isAfter(w.start)}getDifference(w){const C=[];return this.isIntersecting(w)?(this.containsPosition(w.start)&&C.push(new h(this.start,w.start)),this.containsPosition(w.end)&&C.push(new h(w.end,this.end))):C.push(h.createFromRange(this)),C}getIntersection(w){if(this.isIntersecting(w)){let C=this.start,T=this.end;return this.containsPosition(w.start)&&(C=w.start),this.containsPosition(w.end)&&(T=w.end),new h(C,T)}return null}getMinimalFlatRanges(){const w=[],C=this.start.getCommonPath(this.end).length;let T=d.a.createFromPosition(this.start),P=T.parent;for(;T.path.length>C+1;){let S=P.maxOffset-T.offset;0!=S&&w.push(new h(T,T.getShiftedBy(S))),T.path=T.path.slice(0,-1),T.offset++,P=P.parent}for(;T.path.length<=this.end.path.length;){let S=this.end.path[T.path.length-1],E=S-T.offset;0!=E&&w.push(new h(T,T.getShiftedBy(E))),T.offset=S,T.path.push(0)}return w}getWalker(w={}){return w.boundaries=this,new u.a(w)}*getItems(w={}){w.boundaries=this,w.ignoreElementEnd=!0;const C=new u.a(w);for(let T of C)yield T.item}*getPositions(w={}){w.boundaries=this;const C=new u.a(w);yield C.position;for(let T of C)yield T.nextPosition}getTransformedByDelta(w){let C=[h.createFromRange(this)];const T=new Set(['insert','move','remove','reinsert']);for(let P of w.operations)if(T.has(P.type))for(let S=0;S<C.length;S++){const E=C[S]._getTransformedByDocumentChange(P.type,w.type,P.targetPosition||P.position,P.howMany||P.nodes.maxOffset,P.sourcePosition);C.splice(S,1,...E),S+=E.length-1}return C}getTransformedByDeltas(w){let C=[h.createFromRange(this)];for(let T of w)for(let P=0,S;P<C.length;P++)S=C[P].getTransformedByDelta(T),C.splice(P,1,...S),P+=S.length-1;for(let T=0;T<C.length;T++){const P=C[T];for(let S=T+1;S<C.length;S++){const E=C[S];(P.containsRange(E)||E.containsRange(P)||P.isEqual(E))&&C.splice(S,1)}}return C}_getTransformedByDocumentChange(w,C,T,P,S){if('insert'==w)return this._getTransformedByInsertion(T,P,!1,!1);const E=h.createFromPositionAndShift(S,P);if('merge'==C&&this.isCollapsed&&(this.start.isEqual(E.start)||this.start.isEqual(E.end)))return[new h(T.getShiftedBy(this.start.offset))];if('move'==w){if(E.containsPosition(this.start)&&this.containsPosition(E.end)&&this.end.isAfter(T)){let O=this.start._getCombined(S,T._getTransformedByDeletion(S,P));const V=this.end._getTransformedByMove(S,T,P,!1,!1);return[new h(O,V)]}if(E.containsPosition(this.end)&&this.containsPosition(E.start)&&this.start.isBefore(T)){const O=this.start._getTransformedByMove(S,T,P,!0,!1);let V=this.end._getCombined(S,T._getTransformedByDeletion(S,P));return[new h(O,V)]}}return this._getTransformedByMove(S,T,P)}_getTransformedByInsertion(w,C,T=!1,P=!1){if(T&&this.containsPosition(w))return[new h(this.start,w),new h(w._getTransformedByInsertion(w,C,!0),this.end._getTransformedByInsertion(w,C,this.isCollapsed))];const S=h.createFromRange(this);let E=!!S.isCollapsed||!P,O=!!S.isCollapsed||P;return S.start=S.start._getTransformedByInsertion(w,C,E),S.end=S.end._getTransformedByInsertion(w,C,O),[S]}_getTransformedByMove(w,C,T){if(this.isCollapsed){const R=this.start._getTransformedByMove(w,C,T,!0,!1);return[new h(R)]}let P;const S=new h(w,w.getShiftedBy(T)),E=this.getDifference(S);let O=null;const V=this.getIntersection(S);1==E.length?O=new h(E[0].start._getTransformedByDeletion(w,T),E[0].end._getTransformedByDeletion(w,T)):2==E.length&&(O=new h(this.start,this.end._getTransformedByDeletion(w,T)));const F=C._getTransformedByDeletion(w,T);return P=O?O._getTransformedByInsertion(F,T,null!==V):[],V&&P.push(new h(V.start._getCombined(S.start,F),V.end._getCombined(S.start,F))),P}static createFromPositionAndShift(w,C){const T=w,P=w.getShiftedBy(C);return 0<C?new this(T,P):new this(P,T)}static createFromParentsAndOffsets(w,C,T,P){return new this(d.a.createFromParentAndOffset(w,C),d.a.createFromParentAndOffset(T,P))}static createFromRange(w){return new this(w.start,w.end)}static createIn(w){return this.createFromParentsAndOffsets(w,0,w,w.maxOffset)}static createOn(w){return this.createFromPositionAndShift(d.a.createBefore(w),w.offsetSize)}static createFromRanges(w){if(0===w.length)throw new f.a('range-create-from-ranges-empty-array: At least one range has to be passed.');else if(1==w.length)return this.createFromRange(w[0]);const C=w[0];w.sort((S,E)=>S.start.isAfter(E.start));const T=w.indexOf(C),P=new this(C.start,C.end);for(let S=T-1;0<=S&&w[S].end.isEqual(P.start);S++)P.start=d.a.createFromPosition(w[S].start);for(let S=T+1;S<w.length&&w[S].start.isEqual(P.end);S++)P.end=d.a.createFromPosition(w[S].end);return P}static fromJSON(w,C){return new this(d.a.fromJSON(w.start,C),d.a.fromJSON(w.end,C))}}r.a=h},function(o,r){'use strict';r.a=function(u,...f){f.forEach((h)=>{Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h)).forEach((w)=>{if(!(w in u.prototype)){const C=Object.getOwnPropertyDescriptor(h,w);C.enumerable=!1,Object.defineProperty(u.prototype,w,C)}})})}},function(o,r,s){'use strict';function d(T){return'string'==typeof T?[new h.a(T)]:(s.i(w.a)(T)||(T=[T]),Array.from(T).map((P)=>'string'==typeof P?new h.a(P):P))}var u=s(56),f=s(71),h=s(25),w=s(43);class C extends u.a{constructor(T,P,S){super(P),this.name=T,this._children=new f.a,S&&this.insertChildren(0,S)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(T,P=null){return P?'element'==T&&P==this.name:'element'==T||T==this.name}getChild(T){return this._children.getNode(T)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(T){return this._children.getNodeIndex(T)}getChildStartOffset(T){return this._children.getNodeStartOffset(T)}clone(T=!1){const P=T?Array.from(this._children).map((S)=>S.clone()):Array.from(this._children);return new C(this.name,this.getAttributes(),P)}offsetToIndex(T){return this._children.offsetToIndex(T)}appendChildren(T){this.insertChildren(this.childCount,T)}insertChildren(T,P){P=d(P);for(let S of P)S.parent=this;this._children.insertNodes(T,P)}removeChildren(T,P=1){const S=this._children.removeNodes(T,P);for(let E of S)E.parent=null;return S}getNodeByPath(T){let P=this;for(const S of T)P=P.getChild(S);return P}toJSON(){let T=super.toJSON();if(T.name=this.name,0<this._children.length){T.children=[];for(let P of this._children)T.children.push(P.toJSON())}return T}static fromJSON(T){let P=null;if(T.children){P=[];for(let S of T.children)S.name?P.push(C.fromJSON(S)):P.push(h.a.fromJSON(S))}return new C(T.name,T.attributes,P)}}r.a=C},function(o,r,s){'use strict';function d(ie){return!!ie&&((ie.value&&(ie=ie.value),Array.isArray(ie))?ie.some(d):!!(ie instanceof te))}function u(ie,oe){return ie.map((re)=>{return re instanceof te?re.getValue(oe):re})}function f(ie,oe,{node:re}){let se=u(ie,re);se=1==ie.length&&ie[0]instanceof ne?se[0]:se.reduce(R,''),I(se)?oe.remove():oe.set(se)}function h(ie){return{set(oe){ie.textContent=oe},remove(){ie.textContent=''}}}function w(ie,oe,re){return{set(se){ie.setAttributeNS(re,oe,se)},remove(){ie.removeAttributeNS(re,oe)}}}function C(ie,oe){return{set(re){ie.style[oe]=re},remove(){ie.style[oe]=null}}}function T(ie){const oe=s.i(J.a)(ie,(re)=>{if(re&&(re instanceof te||D(re)||L(re)||q(re)))return re});return oe}function P(ie){if('string'==typeof ie?ie=O(ie):ie.text&&V(ie),ie.on&&(ie.eventListeners=E(ie.on),delete ie.on),!ie.text){ie.attributes&&S(ie.attributes);const oe=new U.a;if(ie.children)if(q(ie.children))oe.add(ie.children);else for(let re of ie.children)D(re)||L(re)?oe.add(re):oe.add(new ee(re));ie.children=oe}return ie}function S(ie){for(let oe in ie)ie[oe].value&&(ie[oe].value=[].concat(ie[oe].value)),F(ie,oe)}function E(ie){for(let oe in ie)F(ie,oe);return ie}function O(ie){return{text:[ie]}}function V(ie){Array.isArray(ie.text)||(ie.text=[ie.text])}function F(ie,oe){Array.isArray(ie[oe])||(ie[oe]=[ie[oe]])}function R(ie,oe){return I(oe)?ie:I(ie)?oe:`${ie} ${oe}`}function N(ie,oe){for(let re in oe)ie[re]?ie[re].push(...oe[re]):ie[re]=oe[re]}function M(ie,oe){if(oe.attributes&&(!ie.attributes&&(ie.attributes={}),N(ie.attributes,oe.attributes)),oe.eventListeners&&(!ie.eventListeners&&(ie.eventListeners={}),N(ie.eventListeners,oe.eventListeners)),oe.text&&ie.text.push(...oe.text),oe.children&&oe.children.length){if(ie.children.length!=oe.children.length)throw new $.a('ui-template-extend-children-mismatch: The number of children in extended definition does not match.');let re=0;for(let se of oe.children)M(ie.children.get(re++),se)}}function I(ie){return!ie&&0!==ie}function L(ie){return ie instanceof Z.a}function D(ie){return ie instanceof ee}function q(ie){return ie instanceof G.a}function z(){return{children:[],bindings:[],attributes:{}}}function K(ie){return'class'==ie||'style'==ie}var $=s(0),H=s(4),W=s(7),U=s(78),Z=s(9),G=s(118),J=s(482),Q=s(15),Y=s(48);class ee{constructor(ie){Object.assign(this,P(T(ie))),this._isRendered=!1,this._revertData=null}render(){const ie=this._renderNode({intoFragment:!0});return this._isRendered=!0,ie}apply(ie){return this._revertData=z(),this._renderNode({node:ie,isApplying:!0,revertData:this._revertData}),ie}revert(ie){if(!this._revertData)throw new $.a('ui-template-revert-not-applied: Attempting reverting a template which has not been applied yet.');this._revertTemplateFromNode(ie,this._revertData)}static bind(ie,oe){return{to(re,se){return new ae({eventNameOrFunction:re,attribute:re,observable:ie,emitter:oe,callback:se})},if(re,se,le){return new ne({observable:ie,emitter:oe,attribute:re,valueIfTrue:se,callback:le})}}}static extend(ie,oe){ie._isRendered&&Y.a.warn('template-extend-render: Attempting to extend a template which has already been rendered.'),M(ie,P(T(oe)))}_renderNode(ie){let oe;if(oe=ie.node?this.tag&&this.text:this.tag?this.text:!this.text,oe)throw new $.a('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering new Node.');return this.text?this._renderText(ie):this._renderElement(ie)}_renderElement(ie){let oe=ie.node;return oe||(oe=ie.node=document.createElementNS(this.ns||'http://www.w3.org/1999/xhtml',this.tag)),this._renderAttributes(ie),this._renderElementChildren(ie),this._setUpListeners(ie),oe}_renderText(ie){let oe=ie.node;return oe?ie.revertData.text=oe.textContent:oe=ie.node=document.createTextNode(''),d(this.text)?this._bindToObservable({schema:this.text,updater:h(oe),data:ie}):oe.textContent=this.text.join(''),oe}_renderAttributes(ie){let oe,re,se,le;if(this.attributes){const de=ie.node,ce=ie.revertData;for(oe in this.attributes)if(se=de.getAttribute(oe),re=this.attributes[oe],ce&&(ce.attributes[oe]=se),le=s.i(Q.a)(re[0])&&re[0].ns?re[0].ns:null,d(re)){const ue=le?re[0].value:re;ce&&K(oe)&&ue.unshift(se),this._bindToObservable({schema:ue,updater:w(de,oe,le),data:ie})}else'style'==oe&&'string'!=typeof re[0]?this._renderStyleAttribute(re[0],ie):(ce&&se&&K(oe)&&re.unshift(se),re=re.map((ue)=>ue?ue.value||ue:ue).reduce((ue,me)=>ue.concat(me),[]).reduce(R,''),I(re)||de.setAttributeNS(le,oe,re))}}_renderStyleAttribute(ie,oe){const re=oe.node;for(let se in ie){const le=ie[se];d(le)?this._bindToObservable({schema:[le],updater:C(re,se),data:oe}):re.style[se]=le}}_renderElementChildren(ie){const oe=ie.node,re=ie.intoFragment?document.createDocumentFragment():oe,se=ie.isApplying;let le=0;for(let de of this.children)if(q(de)){if(!se){de.setParent(oe);for(let ce of de)re.appendChild(ce.element)}}else if(L(de))se||re.appendChild(de.element);else if(se){const ce=ie.revertData,ue=z();ce.children.push(ue),de._renderNode({node:re.childNodes[le++],isApplying:!0,revertData:ue})}else re.appendChild(de.render());ie.intoFragment&&oe.appendChild(re)}_setUpListeners(ie){if(this.eventListeners)for(let oe in this.eventListeners){const re=this.eventListeners[oe].map((se)=>{const[le,de]=oe.split('@');return se.activateDomEventListener(le,de,ie)});ie.revertData&&ie.revertData.bindings.push(re)}}_bindToObservable({schema:ie,updater:oe,data:re}){const se=re.revertData;f(ie,oe,re);const le=ie.filter((de)=>!I(de)).filter((de)=>de.observable).map((de)=>de.activateAttributeListener(ie,oe,re));se&&se.bindings.push(le)}_revertTemplateFromNode(ie,oe){for(let re of oe.bindings)for(let se of re)se();if(oe.text)return void(ie.textContent=oe.text);for(let re in oe.attributes){const se=oe.attributes[re];null===se?ie.removeAttribute(re):ie.setAttribute(re,se)}for(let re=0;re<oe.children.length;++re)this._revertTemplateFromNode(ie.childNodes[re],oe.children[re])}}r.a=ee,s.i(H.a)(ee,W.a);class te{constructor(ie){Object.assign(this,ie)}getValue(ie){const oe=this.observable[this.attribute];return this.callback?this.callback(oe,ie):oe}activateAttributeListener(ie,oe,re){const se=()=>f(ie,oe,re);return this.emitter.listenTo(this.observable,'change:'+this.attribute,se),()=>{this.emitter.stopListening(this.observable,'change:'+this.attribute,se)}}}class ae extends te{activateDomEventListener(ie,oe,re){const se=(le,de)=>{(!oe||de.target.matches(oe))&&('function'==typeof this.eventNameOrFunction?this.eventNameOrFunction(de):this.observable.fire(this.eventNameOrFunction,de))};return this.emitter.listenTo(re.node,ie,se),()=>{this.emitter.stopListening(re.node,ie,se)}}}class ne extends te{getValue(ie){const oe=super.getValue(ie);return!I(oe)&&(this.valueIfTrue||!0)}}},function(o,r,s){'use strict';function u(M,I){M[R]||(M[R]=I||s.i(O.a)())}function f(M){return M[R]}function h(M){return M._events||Object.defineProperty(M,'_events',{value:{}}),M._events}function w(){return{callbacks:[],childEvents:[]}}function C(M,I){const L=h(M);if(L[I])return;let D=I,q=null;const z=[];for(;''!==D&&!L[D];)L[D]=w(),z.push(L[D]),q&&L[D].childEvents.push(q),q=D,D=D.substr(0,D.lastIndexOf(':'));if(''!==D){for(let K of z)K.callbacks=L[D].callbacks.slice();L[D].childEvents.push(q)}}function T(M,I){const L=h(M)[I];if(!L)return[];let D=[L.callbacks];for(let q=0,z;q<L.childEvents.length;q++)z=T(M,L.childEvents[q]),D=D.concat(z);return D}function P(M,I){let L;return M._events&&(L=M._events[I])&&L.callbacks.length?L.callbacks:-1<I.indexOf(':')?P(M,I.substr(0,I.lastIndexOf(':'))):null}function S(M,I,L){for(let[D,q]of M){q?'function'==typeof q&&(q=q(I.name)):q=I.name;const z=new E.a(I.source,q);z.path=[...I.path],D.fire(z,...L)}}var E=s(400),O=s(70),V=s(501);r.b=function(M,I){return M[F]&&M[F][I]?M[F][I].emitter:null},r.c=u;const F=Symbol('listeningTo'),R=Symbol('emitterId'),N={on(M,I,L={}){C(this,M);const D=T(this,M),q=V.a.get(L.priority);I={callback:I,context:L.context||this,priority:q};for(let z of D){let K=!1;for(let $=0;$<z.length;$++)if(z[$].priority<q){z.splice($,0,I),K=!0;break}K||z.push(I)}},once(M,I,L){this.on(M,function(q){q.off(),I.apply(this,arguments)},L)},off(M,I,L){const D=T(this,M);for(let q of D)for(let z=0;z<q.length;z++)q[z].callback==I&&(L&&L!=q[z].context||(q.splice(z,1),z--))},listenTo(M,I,L,D){let q,z,K,$;this[F]||(this[F]={}),q=this[F],f(M)||u(M),z=f(M),(K=q[z])||(K=q[z]={emitter:M,callbacks:{}}),($=K.callbacks[I])||($=K.callbacks[I]=[]),$.push(L),M.on(I,L,D)},stopListening(M,I,L){let D=this[F],q=M&&f(M),z=D&&q&&D[q],K=z&&I&&z.callbacks[I];if(D&&(!M||z)&&(!I||K))if(L)M.off(I,L);else if(K){for(;L=K.pop();)M.off(I,L);delete z.callbacks[I]}else if(z){for(I in z.callbacks)this.stopListening(M,I);delete D[q]}else{for(q in D)this.stopListening(D[q].emitter);delete this[F]}},fire(M,...I){const L=M instanceof E.a?M:new E.a(this,M),D=L.name;let q=P(this,D);if(L.path.push(this),q){const z=[L,...I];q=Array.from(q);for(let K=0;K<q.length&&(q[K].callback.apply(q[K].context,z),L.off.called&&(delete L.off.called,this.off(D,q[K].callback,q[K].context)),!L.stop.called);K++);}if(this._delegations){const z=this._delegations.get(D),K=this._delegations.get('*');z&&S(z,L,I),K&&S(K,L,I)}},delegate(...M){return{to:(I,L)=>{this._delegations||(this._delegations=new Map);for(let D of M){let q=this._delegations.get(D);q?q.set(I,L):this._delegations.set(D,new Map([[I,L]]))}}}},stopDelegating(M,I){if(this._delegations)if(!M)this._delegations.clear();else if(!I)this._delegations.delete(M);else{const L=this._delegations.get(M);L&&L.delete(I)}}};r.a=N},function(o,r,s){'use strict';var u=s(191),f=s(16),w=_Mathmax;r.a=function(C,T){if('function'!=typeof C)throw new TypeError('Expected a function');return T=w(void 0===T?C.length-1:s.i(f.a)(T),0),function(){for(var P=arguments,S=-1,E=w(P.length-T,0),O=Array(E);++S<E;)O[S]=P[T+S];switch(T){case 0:return C.call(this,O);case 1:return C.call(this,P[0],O);case 2:return C.call(this,P[0],P[1],O);}var V=Array(T+1);for(S=-1;++S<T;)V[S]=P[S];return V[T]=O,s.i(u.a)(C,this,V)}}},function(o,r,s){'use strict';var d=s(0),u=s(118),f=s(6),h=s(79),w=s(31),C=s(78),T=s(4),P=s(43);class S{constructor(E){this.locale=E,this.t=E&&E.t,this.set('ready',!1),this._viewCollections=new C.a,this._unboundChildren=this.createCollection(),this._viewCollections.on('add',(O,V)=>{V.locale=E})}get element(){return this._element?this._element:this.template?(this._addTemplateChildren(),this._element=this.template.render()):null}set element(E){this._element=E}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=f.a.bind(this,this)}createCollection(){const E=new u.a;return this._viewCollections.add(E),E}addChildren(E){s.i(P.a)(E)||(E=[E]);for(let O of E)this._unboundChildren.add(O)}init(){if(this.ready)throw new d.a('ui-view-init-reinit: This View has already been initialized.');return Promise.resolve().then(()=>{return Promise.all(this._viewCollections.map((E)=>E.init()))}).then(()=>{this.ready=!0})}destroy(){this.stopListening();const E=this._viewCollections.map((O)=>O.destroy());return this._unboundChildren.clear(),this._viewCollections.clear(),this.element=this.template=this.locale=this.t=this._viewCollections=this._unboundChildren=null,Promise.all(E)}_addTemplateChildren(){const E=(O)=>{if(O.children)for(let V of O.children)V instanceof S?this.addChildren(V):E(V)};E(this.template)}}r.a=S,s.i(T.a)(S,h.a),s.i(T.a)(S,w.a)},function(o,r,s){'use strict';var u=s(422),f=s(423),h=s(225),w=s(12),C=s(493);r.a=function(T){return'function'==typeof T?T:null==T?h.a:'object'==typeof T?s.i(w.a)(T)?s.i(f.a)(T[0],T[1]):s.i(u.a)(T):s.i(C.a)(T)}},function(o,r,s){'use strict';function d(w,C){C.isEnabled=!1}var u=s(31),f=s(4);class h{constructor(w){this.editor=w,this.set('isEnabled',!0),this._checkEnabled&&this.on('refreshState',(C,T)=>{T.isEnabled=this._checkEnabled()})}destroy(){this.stopListening()}refreshState(){const w={isEnabled:!0};this.fire('refreshState',w),this.isEnabled=w.isEnabled}_execute(w){this.isEnabled&&this._doExecute(w)}_disable(){this.on('refreshState',d),this.refreshState()}_enable(){this.off('refreshState',d),this.refreshState()}_doExecute(){}}r.a=h,s.i(f.a)(h,u.a)},function(o,r){'use strict';var d=Array.isArray;r.a=d},function(o,r,s){'use strict';function u(L){if(!L.isFlat)throw new M.a('model-writer-remove-range-not-flat: Trying to remove a range that starts and ends in different element.');const D=L.start.parent;P(L.start),P(L.end);const q=D.removeChildren(L.start.index,L.end.index-L.start.index);return T(D,L.start.index),q}function C(L){const D=[];L instanceof Array||(L=[L]);for(let q=0;q<L.length;q++)if('string'==typeof L[q])D.push(new O.a(L[q]));else if(L[q]instanceof V.a)D.push(new O.a(L[q].data,L[q].getAttributes()));else if(L[q]instanceof R.a||L[q]instanceof N.a)for(let z of L[q])D.push(z);else L[q]instanceof E.a&&D.push(L[q]);for(let q=1;q<D.length;q++){const z=D[q],K=D[q-1];z instanceof O.a&&K instanceof O.a&&S(z,K)&&(D.splice(q-1,2,new O.a(K.data+z.data,K.getAttributes())),q--)}return D}function T(L,D){const q=L.getChild(D-1),z=L.getChild(D);if(q&&z&&q.is('text')&&z.is('text')&&S(q,z)){const K=new O.a(q.data+z.data,q.getAttributes());L.removeChildren(D-1,2),L.insertChildren(D-1,K)}}function P(L){const D=L.textNode,q=L.parent;if(D){const z=L.offset-D.startOffset,K=D.index;q.removeChildren(K,1);const $=new O.a(D.data.substr(0,z),D.getAttributes()),H=new O.a(D.data.substr(z),D.getAttributes());q.insertChildren(K,[$,H])}}function S(L,D){const q=L.getAttributes(),z=D.getAttributes();for(let K of q){if(K[1]!==D.getAttribute(K[0]))return!1;z.next()}return z.next().done}var E=s(56),O=s(25),V=s(58),F=s(3),R=s(49),N=s(71),M=s(0);r.c=u,r.b=C;r.a={insert:function(L,D){D=C(D);const q=D.reduce(($,H)=>$+H.offsetSize,0),z=L.parent;P(L);const K=L.index;return z.insertChildren(K,D),T(z,K+D.length),T(z,K),new F.a(L,L.getShiftedBy(q))},remove:u,move:function(L,D){if(!L.isFlat)throw new M.a('model-writer-move-range-not-flat: Trying to move a range that starts and ends in different element.');const q=this.remove(L);return D=D._getTransformedByDeletion(L.start,L.end.offset-L.start.offset),this.insert(D,q)},setAttribute:function(L,D,q){P(L.start),P(L.end);for(let z of L.getItems()){let K=z.is('textProxy')?z.textNode:z;null===q?K.removeAttribute(D):K.setAttribute(D,q),T(K.parent,K.index)}T(L.end.parent,L.end.index)},removeAttribute:function(L,D){this.setAttribute(L,D,null)},normalizeNodes:C}},function(o,r,s){'use strict';var u=s(95),f=s(46);r.a=function(h){return s.i(f.a)(h)&&s.i(u.a)(h)}},function(o,r){'use strict';r.a=function(u){var f=typeof u;return!!u&&('object'==f||'function'==f)}},function(o,r,s){'use strict';var u=s(495);r.a=function(f){var h=s.i(u.a)(f),w=h%1;return h===h?w?h-w:h:0}},function(o,r,s){'use strict';var u=s(0);r.b=function(h,w){if(f.prototype[h])throw new u.a('model-batch-register-taken: This batch method name is already taken.',{name:h});f.prototype[h]=w};class f{constructor(h,w='default'){this.document=h,this.deltas=[],this.type=w}get baseVersion(){return 0<this.deltas.length?this.deltas[0].baseVersion:null}addDelta(h){return h.batch=this,this.deltas.push(h),h}*getOperations(){for(let h of this.deltas)yield*h.operations}}r.a=f},function(o,r,s){'use strict';var d=s(0),u=s(313);const f=new Map;r.a=class{static fromJSON(w,C){if(!f.has(w.__className))throw new d.a('delta-fromjson-no-deserializer: This delta has no defined deserializer',{name:w.__className});let T=f.get(w.__className),P=new T;for(let S of w.operations)P.addOperation(u.a.fromJSON(S,C));return P}static register(w){f.set(w.className,w)}}},function(o,r){'use strict';r.a=function(u){var f=u?u.length:0;return f?u[f-1]:void 0}},function(o,r,s){'use strict';var d=s(94),u=s(18);class f{constructor(){this.batch=null,this.operations=[]}get baseVersion(){return 0<this.operations.length?this.operations[0].baseVersion:null}set baseVersion(h){for(let w of this.operations)w.baseVersion=h++}get _reverseDeltaClass(){return f}addOperation(h){return h.delta=this,this.operations.push(h),h}clone(){let h=new this.constructor;for(let w of this.operations)h.addOperation(w.clone());return h}getReversed(){let h=new this._reverseDeltaClass;for(let w of this.operations)h.addOperation(w.getReversed());h.operations.reverse();for(let w=0;w<h.operations.length;w++)h.operations[w].baseVersion=this.operations[this.operations.length-1].baseVersion+w+1;return h}toJSON(){let h=s.i(d.a)(this);return h.__className=this.constructor.className,delete h.batch,h}static get className(){return'engine.model.delta.Delta'}static get _priority(){return 0}}r.a=f,u.a.register(f)},function(o,r,s){'use strict';function d(O,V){const F=/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g;let R;for(O.clear();null!==(R=F.exec(V));)O.set(R[1],R[2].trim())}function u(O,V){const F=V.split(/\s+/);O.clear(),F.forEach((R)=>O.add(R))}function f(O){return'string'==typeof O?[new w.a(O)]:(s.i(T.a)(O)||(O=[O]),Array.from(O).map((V)=>'string'==typeof V?new w.a(V):V))}var h=s(75),w=s(29),C=s(270),T=s(43),P=s(97),S=s(166);class E extends h.a{constructor(O,V,F){if(super(),this.name=O,this._attrs=s.i(P.a)(V)?s.i(C.a)(V):new Map(V),this._children=[],F&&this.insertChildren(0,F),this._classes=new Set,this._attrs.has('class')){const R=this._attrs.get('class');u(this._classes,R),this._attrs.delete('class')}this._styles=new Map,this._attrs.has('style')&&(d(this._styles,this._attrs.get('style')),this._attrs.delete('style')),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(O,V=null){return V?'element'==O&&V==this.name:'element'==O||O==this.name}clone(O){const V=[];if(O)for(let R of this.getChildren())V.push(R.clone(O));const F=new this.constructor(this.name,this._attrs,V);return F._classes=new Set(this._classes),F._styles=new Map(this._styles),F._customProperties=new Map(this._customProperties),F.getFillerOffset=this.getFillerOffset,F}appendChildren(O){return this.insertChildren(this.childCount,O)}getChild(O){return this._children[O]}getChildIndex(O){return this._children.indexOf(O)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){0<this._classes.size&&(yield'class'),0<this._styles.size&&(yield'style');for(let O of this._attrs.keys())yield O}*getAttributes(){yield*this._attrs.entries(),0<this._classes.size&&(yield['class',this.getAttribute('class')]),0<this._styles.size&&(yield['style',this.getAttribute('style')])}getAttribute(O){if('class'==O)return 0<this._classes.size?[...this._classes].join(' '):void 0;if('style'==O){if(0<this._styles.size){let V='';for(let[F,R]of this._styles)V+=`${F}:${R};`;return V}return}return this._attrs.get(O)}hasAttribute(O){return'class'==O?0<this._classes.size:'style'==O?0<this._styles.size:this._attrs.has(O)}setAttribute(O,V){this._fireChange('attributes',this),'class'==O?u(this._classes,V):'style'==O?d(this._styles,V):this._attrs.set(O,V)}insertChildren(O,V){this._fireChange('children',this);let F=0;V=f(V);for(let R of V)R.parent=this,this._children.splice(O,0,R),O++,F++;return F}removeAttribute(O){return this._fireChange('attributes',this),'class'==O?!!(0<this._classes.size)&&(this._classes.clear(),!0):'style'==O?!!(0<this._styles.size)&&(this._styles.clear(),!0):this._attrs.delete(O)}removeChildren(O,V=1){this._fireChange('children',this);for(let F=O;F<O+V;F++)this._children[F].parent=null;return this._children.splice(O,V)}isSimilar(O){if(!(O instanceof E))return!1;if(this===O)return!0;if(this.name!=O.name)return!1;if(this._attrs.size!==O._attrs.size||this._classes.size!==O._classes.size||this._styles.size!==O._styles.size)return!1;for(let[V,F]of this._attrs)if(!O._attrs.has(V)||O._attrs.get(V)!==F)return!1;for(let V of this._classes)if(!O._classes.has(V))return!1;for(let[V,F]of this._styles)if(!O._styles.has(V)||O._styles.get(V)!==F)return!1;return!0}addClass(...O){this._fireChange('attributes',this),O.forEach((V)=>this._classes.add(V))}removeClass(...O){this._fireChange('attributes',this),O.forEach((V)=>this._classes.delete(V))}hasClass(...O){for(let V of O)if(!this._classes.has(V))return!1;return!0}getClassNames(){return this._classes.keys()}setStyle(O,V){if(this._fireChange('attributes',this),s.i(P.a)(O)){const F=Object.keys(O);for(let R of F)this._styles.set(R,O[R])}else this._styles.set(O,V)}getStyle(O){return this._styles.get(O)}getStyleNames(){return this._styles.keys()}hasStyle(...O){for(let V of O)if(!this._styles.has(V))return!1;return!0}removeStyle(...O){this._fireChange('attributes',this),O.forEach((V)=>this._styles.delete(V))}findAncestor(...O){const V=new S.a(...O);for(let F=this.parent;F;){if(V.match(F))return F;F=F.parent}return null}setCustomProperty(O,V){this._customProperties.set(O,V)}getCustomProperty(O){return this._customProperties.get(O)}removeCustomProperty(O){return this._customProperties.delete(O)}*getCustomProperties(){yield*this._customProperties.entries()}}r.a=E},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(374),h=s(23);class w extends d.a{constructor(C){super(C),this.set('label'),this.set('keystroke'),this.set('tooltip'),this.set('type','button'),this.set('isOn',!1),this.set('isEnabled',!0),this.set('withText',!1),this.set('icon'),this.set('tabindex',-1),this.bind('_tooltipString').to(this,'tooltip',this,'label',this,'keystroke',this._getTooltipString.bind(this));const T=this.bindTemplate;this.template=new u.a({tag:'button',attributes:{class:['ck-button',T.if('_tooltipString','ck-tooltip_s'),T.to('isEnabled',(P)=>P?'ck-enabled':'ck-disabled'),T.to('isOn',(P)=>P?'ck-on':'ck-off'),T.if('withText','ck-button_with-text')],type:T.to('type',(P)=>P?P:'button'),'data-ck-tooltip':[T.to('_tooltipString')],tabindex:T.to('tabindex')},children:[{tag:'span',attributes:{class:['ck-button__label']},children:[{text:T.to('label')}]}],on:{mousedown:T.to((P)=>{P.preventDefault()}),click:T.to((P)=>{this.isEnabled?this.fire('execute'):P.preventDefault()})}})}init(){let C=Promise.resolve();if(this.icon&&!this.iconView){const T=this.iconView=new f.a;T.bind('content').to(this,'icon'),this.element.insertBefore(T.element,this.element.firstChild),C=C.then(()=>this.addChildren(T))}return C.then(()=>super.init())}focus(){this.element.focus()}_getTooltipString(C,T,P){if(C){if('string'==typeof C)return C;if(P&&(P=s.i(h.b)(P)),C instanceof Function)return C(T,P);if(!0===C)return`${T}${P?` (${P})`:''}`}return!1}}r.a=w},function(o,r,s){'use strict';function d(S){let E;if('string'!=typeof S)E=S.keyCode+(S.altKey?P.alt:0)+(S.ctrlKey?P.ctrl:0)+(S.shiftKey?P.shift:0);else if(E=P[S.toLowerCase()],!E)throw new C.a('keyboard-unknown-key: Unknown key name.',{key:S});return E}function w(S){return S.split(/\s*\+\s*/)}var C=s(0),T=s(399);r.c=d,r.a=function(S){return'string'==typeof S&&(S=w(S)),S.map((E)=>'string'==typeof E?d(E):E).reduce((E,O)=>O+E,0)},r.b=function(S){const E=w(S);return T.a.mac&&'ctrl'==E[0].toLowerCase()?'\u2318'+(E[1]||''):S};const P=function(){const S={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let E=65;90>=E;E++){const O=String.fromCharCode(E);S[O.toLowerCase()]=E}for(let E=48;57>=E;E++)S[E-48]=E;for(let E=112;123>=E;E++)S['f'+(E-111)]=E;return S}();r.d=P},function(o,r,s){'use strict';function d(h,w,C,T,P){var S=-1,E=h.length;for(C||(C=f.a),P||(P=[]);++S<E;){var O=h[S];0<w&&C(O)?1<w?d(O,w-1,C,T,P):s.i(u.a)(P,O):!T&&(P[P.length]=O)}return P}var u=s(83),f=s(456);r.a=d},function(o,r,s){'use strict';var d=s(56);class u extends d.a{constructor(f,h){super(h),this.data=f||''}get offsetSize(){return this.data.length}is(f){return'text'==f}clone(){return new u(this.data,this.getAttributes())}toJSON(){let f=super.toJSON();return f.data=this.data,f}static fromJSON(f){return new u(f.data,f.attributes)}}r.a=u},function(o,r,s){'use strict';var d=s(51),u=s(62),f=s(0),h=s(74);class w{constructor(C,T){this.parent=C,this.offset=T}get nodeAfter(){return this.parent.is('text')?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is('text')?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const C=this.parent.is('text')?this.parent.data.length:this.parent.childCount;return this.offset===C}get root(){return this.parent.root}get editableElement(){let C=this.parent;for(;!(C instanceof h.a);)if(C.parent)C=C.parent;else return null;return C}getShiftedBy(C){let T=w.createFromPosition(this),P=T.offset+C;return T.offset=0>P?0:P,T}getLastMatchingPosition(C,T={}){T.startPosition=this;const P=new d.a(T);return P.skip(C),P.position}getAncestors(){return this.parent.is('documentFragment')?[this.parent]:this.parent.getAncestors({includeNode:!0})}isEqual(C){return this.parent==C.parent&&this.offset==C.offset}isBefore(C){return'before'==this.compareWith(C)}isAfter(C){return'after'==this.compareWith(C)}compareWith(C){if(this.isEqual(C))return'same';if(this.parent===C.parent)return 0>this.offset-C.offset?'before':'after';const T=this.getAncestors(),P=C.getAncestors(),S=s.i(u.a)(T,P);let E;switch(S){case 0:return'different';case'prefix':E=T.length-1;break;case'extension':E=P.length-1;break;default:E=S-1;}const O=T[E],V=T[E+1],F=P[E+1];if(O===this.parent){const N=this.offset-F.index;return 0>=N?'before':'after'}if(O===C.parent){const N=V.index-C.offset;return 0>N?'before':'after'}const R=V.index-F.index;return 0>R?'before':'after'}static createAt(C,T){if(C instanceof w)return this.createFromPosition(C);let P=C;if('end'==T)T=P.is('text')?P.data.length:P.childCount;else{if('before'==T)return this.createBefore(P);if('after'==T)return this.createAfter(P);T||(T=0)}return new w(P,T)}static createAfter(C){if(C.is('textProxy'))return new w(C.textNode,C.offsetInText+C.data.length);if(!C.parent)throw new f.a('view-position-after-root: You can not make position after root.',{root:C});return new w(C.parent,C.index+1)}static createBefore(C){if(C.is('textProxy'))return new w(C.textNode,C.offsetInText);if(!C.parent)throw new f.a('view-position-before-root: You can not make position before root.',{root:C});return new w(C.parent,C.index)}static createFromPosition(C){return new this(C.parent,C.offset)}}r.a=w},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=u.length,C=Array(w);++h<w;)C[h]=f(u[h],h,u);return C}},function(o,r,s){'use strict';var d=s(32),u=s(1),f=s(3),h=s(0),w=s(62),C=s(13);class T extends d.a{constructor(P,S,E,O){super(O),this.sourcePosition=u.a.createFromPosition(P),this.howMany=S,this.targetPosition=u.a.createFromPosition(E),this.isSticky=!1}get type(){return'move'}clone(){const P=new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);return P.isSticky=this.isSticky,P}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){let P=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);const S=new this.constructor(this.getMovedRangeStart(),this.howMany,P,this.baseVersion+1);return S.isSticky=this.isSticky,S}_execute(){let P=this.sourcePosition.parent,S=this.targetPosition.parent,E=this.sourcePosition.offset,O=this.targetPosition.offset;if(!P||!S)throw new h.a('move-operation-position-invalid: Source position or target position is invalid.');else if(E+this.howMany>P.maxOffset)throw new h.a('move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.');else if(P===S&&E<O&&O<E+this.howMany)throw new h.a('move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.');else if(this.sourcePosition.root==this.targetPosition.root&&'prefix'==s.i(w.a)(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){let F=this.sourcePosition.path.length-1;if(this.targetPosition.path[F]>=E&&this.targetPosition.path[F]<E+this.howMany)throw new h.a('move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.')}const V=C.a.move(f.a.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);return{sourcePosition:this.sourcePosition,range:V}}static get className(){return'engine.model.operation.MoveOperation'}static fromJSON(P,S){let E=u.a.fromJSON(P.sourcePosition,S),O=u.a.fromJSON(P.targetPosition,S);const V=new this(E,P.howMany,O,P.baseVersion);return P.isSticky&&(V.isSticky=!0),V}}r.a=T},function(o,r,s){'use strict';var d=s(75);class u extends d.a{constructor(f){super(),this._data=f}clone(){return new u(this.data)}is(f){return'text'==f}get data(){return this._data}set data(f){this._fireChange('text',this),this._data=f}isSimilar(f){return!!(f instanceof u)&&(this===f||this.data===f.data)}}r.a=u},function(o,r,s){'use strict';(function(d,u){var f=s(429),h={'function':!0,object:!0},w=h[typeof exports]&&exports&&!exports.nodeType?exports:void 0,C=h[typeof d]&&d&&!d.nodeType?d:void 0,T=s.i(f.a)(w&&C&&'object'==typeof u&&u),P=s.i(f.a)(h[typeof self]&&self),S=s.i(f.a)(h[typeof window]&&window),E=s.i(f.a)(h[typeof this]&&this),O=T||S!==(E&&E.window)&&S||P||E||Function('return this')();r.a=O}).call(r,s(272)(o),s(526))},function(o,r,s){'use strict';function d(I){F in I||(Object.defineProperty(I,F,{value:new Map}),Object.defineProperty(I,R,{value:new Map}),Object.defineProperty(I,N,{value:new Map}))}function u(...I){const L=h(...I),D=Array.from(this._bindings.keys()),q=D.length;if(!L.callback&&1<L.to.length)throw new E.a('observable-bind-to-no-callback: Binding multiple observables only possible with callback.');if(1<q&&L.callback)throw new E.a('observable-bind-to-extra-callback: Cannot bind multiple attributes and use a callback in one binding.');L.to.forEach((z)=>{if(z.attrs.length&&z.attrs.length!==q)throw new E.a('observable-bind-to-attrs-length: The number of attributes must match.');z.attrs.length||(z.attrs=this._bindAttrs)}),this._to=L.to,L.callback&&(this._bindings.get(D[0]).callback=L.callback),P(this._observable,this._to),C(this),this._bindAttrs.forEach((z)=>{T(this._observable,z)})}function f(I){return I.every((L)=>'string'==typeof L)}function h(...I){if(!I.length)throw new E.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.');const L={to:[]};let D;return'function'==typeof I[I.length-1]&&(L.callback=I.pop()),I.forEach((q)=>{if('string'==typeof q)D.attrs.push(q);else if('object'==typeof q)D={observable:q,attrs:[]},L.to.push(D);else throw new E.a('observable-bind-to-parse-error: Invalid argument syntax in `to()`.')}),L}function w(I,L,D,q){const z=I[R],K=z.get(D),$=K||{};$[q]||($[q]=new Set),$[q].add(L),K||z.set(D,$)}function C(I){let L;I._bindings.forEach((D,q)=>{I._to.forEach((z)=>{L=z.attrs[D.callback?0:I._bindAttrs.indexOf(q)],D.to.push([z.observable,L]),w(I._observable,D,z.observable,L)})})}function T(I,L){const D=I[N],q=D.get(L);let z;q.callback?z=q.callback.apply(I,q.to.map((K)=>K[0][K[1]])):(z=q.to[0],z=z[0][z[1]]),I.hasOwnProperty(L)?I[L]=z:I.set(L,z)}function P(I,L){L.forEach((D)=>{const q=I[R];let z;q.get(D.observable)||I.listenTo(D.observable,'change',(K,$)=>{z=q.get(D.observable)[$],z&&z.forEach((H)=>{T(I,H.attr)})})})}var S=s(7),E=s(0),O=s(45),V=s(15);const F=Symbol('attributes'),R=Symbol('boundObservables'),N=Symbol('boundAttributes'),M={set(I,L){if(s.i(V.a)(I))return void Object.keys(I).forEach((q)=>{this.set(q,I[q])},this);d(this);const D=this[F];if(I in this&&!D.has(I))throw new E.a('observable-set-cannot-override: Cannot override an existing property.');Object.defineProperty(this,I,{enumerable:!0,configurable:!0,get(){return D.get(I)},set(q){const z=D.get(I);z===q&&D.has(I)||(D.set(I,q),this.fire('change:'+I,I,q,z))}}),this[I]=L},bind(...I){if(!I.length||!f(I))throw new E.a('observable-bind-wrong-attrs: All attributes must be strings.');if(new Set(I).size!==I.length)throw new E.a('observable-bind-duplicate-attrs: Attributes must be unique.');d(this);const L=this[N];I.forEach((q)=>{if(L.has(q))throw new E.a('observable-bind-rebind: Cannot bind the same attribute more that once.')});const D=new Map;return I.forEach((q)=>{const z={attr:q,to:[]};L.set(q,z),D.set(q,z)}),{to:u,_observable:this,_bindAttrs:I,_to:[],_bindings:D}},unbind(...I){if(!(F in this))return;const L=this[N],D=this[R];if(I.length){if(!f(I))throw new E.a('observable-unbind-wrong-attrs: Attributes must be strings.');I.forEach((q)=>{const z=L.get(q);let K,$,H,W;z.to.forEach((U)=>{K=U[0],$=U[1],H=D.get(K),W=H[$],W.delete(z),W.size||delete H[$],Object.keys(H).length||(D.delete(K),this.stopListening(K,'change'))}),L.delete(q)})}else D.forEach((q,z)=>{this.stopListening(z,'change')}),D.clear(),L.clear()}};r.a=M,s.i(O.a)(M,S.a)},function(o,r,s){'use strict';var d=s(94);class u{constructor(f){this.baseVersion=f}toJSON(){const f=s.i(d.a)(this,!0);return f.__className=this.constructor.className,delete f.delta,f}static get className(){return'engine.model.operation.Operation'}static fromJSON(f){return new this(f.baseVersion)}}r.a=u},function(o,r,s){'use strict';function d(P,S,E,O,V){return{done:!1,value:{type:P,item:S,previousPosition:E,nextPosition:O,length:V}}}var u=s(25),f=s(58),h=s(5),w=s(1),C=s(0);class T{constructor(P={}){if(!P.boundaries&&!P.startPosition)throw new C.a('model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');const S=P.direction||'forward';if('forward'!=S&&'backward'!=S)throw new C.a('model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:S});this.direction=S,this.boundaries=P.boundaries||null,this.position=P.startPosition?w.a.createFromPosition(P.startPosition):w.a.createFromPosition(this.boundaries['backward'==this.direction?'end':'start']),this.singleCharacters=!!P.singleCharacters,this.shallow=!!P.shallow,this.ignoreElementEnd=!!P.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(P){let S,E,O,V;do O=this.position,V=this._visitedParent,({done:S,value:E}=this.next());while(!S&&P(E));S||(this.position=O,this._visitedParent=V)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){const P=this.position,S=w.a.createFromPosition(this.position),E=this._visitedParent;if(null===E.parent&&S.offset===E.maxOffset)return{done:!0};if(E===this._boundaryEndParent&&S.offset==this.boundaries.end.offset)return{done:!0};const O=S.textNode?S.textNode:S.nodeAfter;if(O instanceof h.a)return this.shallow?S.offset++:(S.path.push(0),this._visitedParent=O),this.position=S,d('elementStart',O,P,S,1);if(O instanceof u.a){let V,F;if(this.singleCharacters)V=1;else{let N=O.endOffset;this._boundaryEndParent==E&&this.boundaries.end.offset<N&&(N=this.boundaries.end.offset),V=N-S.offset}F=S.offset-O.startOffset;const R=new f.a(O,F,V);return S.offset+=V,this.position=S,d('text',R,P,S,V)}return S.path.pop(),S.offset++,this.position=S,this._visitedParent=E.parent,this.ignoreElementEnd?this._next():d('elementEnd',E,P,S)}_previous(){const P=this.position,S=w.a.createFromPosition(this.position),E=this._visitedParent;if(null===E.parent&&0===S.offset)return{done:!0};if(E==this._boundaryStartParent&&S.offset==this.boundaries.start.offset)return{done:!0};const O=S.textNode?S.textNode:S.nodeBefore;if(O instanceof h.a)return S.offset--,this.shallow?(this.position=S,d('elementStart',O,P,S,1)):(S.path.push(O.maxOffset),this.position=S,this._visitedParent=O,this.ignoreElementEnd?this._previous():d('elementEnd',O,P,S));if(O instanceof u.a){let V,F;if(this.singleCharacters)V=1;else{let N=O.startOffset;this._boundaryStartParent==E&&this.boundaries.start.offset>N&&(N=this.boundaries.start.offset),V=S.offset-N}F=S.offset-O.startOffset;const R=new f.a(O,F-V,V);return S.offset-=V,this.position=S,d('text',R,P,S,V)}return S.path.pop(),this.position=S,this._visitedParent=E.parent,d('elementStart',E,P,S,1)}}r.a=T},function(o,r,s){'use strict';function d(w){return w.item.is('attributeElement')||w.item.is('uiElement')}var u=s(26),f=s(51);class h{constructor(w,C=null){this.start=u.a.createFromPosition(w),this.end=C?u.a.createFromPosition(C):u.a.createFromPosition(w)}*[Symbol.iterator](){yield*new f.a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let w=this.start.getLastMatchingPosition(d,{direction:'backward'}),C=this.end.getLastMatchingPosition(d);return w.parent.is('text')&&w.isAtStart&&(w=u.a.createBefore(w.parent)),C.parent.is('text')&&C.isAtEnd&&(C=u.a.createAfter(C.parent)),new h(w,C)}getTrimmed(){let w=this.start.getLastMatchingPosition(d),C=this.end.getLastMatchingPosition(d,{direction:'backward'}),T=w.nodeAfter,P=C.nodeBefore;return T&&T.is('text')&&(w=new u.a(T,0)),P&&P.is('text')&&(C=new u.a(P,P.data.length)),new h(w,C)}isEqual(w){return this==w||this.start.isEqual(w.start)&&this.end.isEqual(w.end)}containsPosition(w){return w.isAfter(this.start)&&w.isBefore(this.end)}containsRange(w){return this.containsPosition(w.start)&&this.containsPosition(w.end)}getDifference(w){const C=[];return this.isIntersecting(w)?(this.containsPosition(w.start)&&C.push(new h(this.start,w.start)),this.containsPosition(w.end)&&C.push(new h(w.end,this.end))):C.push(h.createFromRange(this)),C}getIntersection(w){if(this.isIntersecting(w)){let C=this.start,T=this.end;return this.containsPosition(w.start)&&(C=w.start),this.containsPosition(w.end)&&(T=w.end),new h(C,T)}return null}getWalker(w={}){return w.boundaries=this,new f.a(w)}*getItems(w={}){w.boundaries=this,w.ignoreElementEnd=!0;const C=new f.a(w);for(let T of C)yield T.item}*getPositions(w={}){w.boundaries=this;const C=new f.a(w);yield C.position;for(let T of C)yield T.nextPosition}isIntersecting(w){return this.start.isBefore(w.end)&&this.end.isAfter(w.start)}static createFromParentsAndOffsets(w,C,T,P){return new this(new u.a(w,C),new u.a(T,P))}static createFromRange(w){return new this(w.start,w.end)}static createFromPositionAndShift(w,C){const T=w,P=w.getShiftedBy(C);return 0<C?new this(T,P):new this(P,T)}static createIn(w){return this.createFromParentsAndOffsets(w,0,w,w.childCount)}static createOn(w){return this.createFromPositionAndShift(u.a.createBefore(w),1)}}r.a=h},function(o,r){'use strict';r.a=function(u,f,h){var w=-1,C=u.length;0>f&&(f=-f>C?0:C+f),h=h>C?C:h,0>h&&(h+=C),C=f>h?0:h-f>>>0,f>>>=0;for(var T=Array(C);++w<C;)T[w]=u[w+f];return T}},function(o,r){'use strict';var f=/^(?:0|[1-9]\d*)$/;r.a=function(h,w){return w=null==w?9007199254740991:w,!!w&&('number'==typeof h||f.test(h))&&-1<h&&0==h%1&&h<w}},function(o,r,s){'use strict';var u=s(100),f=s(157),h=s(114),w=s(41),C=s(169),T=s(0);r.a=function(){return new P};class P{constructor(){this._dispatchers=[],this._from=null}for(...S){return this._dispatchers=S,this}fromElement(S){return this._from={type:'element',name:S,priority:null},this}fromAttribute(S){return this._from={type:'attribute',key:S,priority:null},this}fromMarker(S){return this._from={type:'marker',name:S,priority:null},this}withPriority(S){return this._from.priority=S,this}toElement(S){const E=null===this._from.priority?'normal':this._from.priority;for(let O of this._dispatchers)'element'==this._from.type?(S='string'==typeof S?new w.a(S):S,O.on('insert:'+this._from.name,s.i(u.a)(S),{priority:E})):'attribute'==this._from.type?(S='string'==typeof S?new h.a(S):S,O.on('addAttribute:'+this._from.key,s.i(u.b)(S),{priority:E}),O.on('changeAttribute:'+this._from.key,s.i(u.b)(S),{priority:E}),O.on('removeAttribute:'+this._from.key,s.i(u.c)(S),{priority:E}),O.on('selectionAttribute:'+this._from.key,s.i(f.a)(S),{priority:E})):(S='string'==typeof S?new h.a(S):S,O.on('addMarker:'+this._from.name,s.i(u.d)(S),{priority:E}),O.on('removeMarker:'+this._from.name,s.i(u.e)(S),{priority:E}),O.on('selectionMarker:'+this._from.name,s.i(f.b)(S),{priority:E}))}toStamp(S){for(let E of this._dispatchers){if('marker'!=this._from.type)throw new T.a('build-model-converter-non-marker-to-stamp: To-stamp conversion is supported only from model markers.');const O=null===this._from.priority?'normal':this._from.priority;S='string'==typeof S?new C.a(S):S,E.on('addMarker:'+this._from.name,s.i(u.f)(S),{priority:O}),E.on('removeMarker:'+this._from.name,s.i(u.g)(S),{priority:O})}}toAttribute(S,E){if('attribute'!=this._from.type)throw new T.a('build-model-converter-non-attribute-to-attribute: To-attribute conversion is supported only from model attributes.');let O=S?'string'==typeof S?E?function(){return{key:S,value:E}}:function(V){return{key:S,value:V}}:S:void 0;for(let V of this._dispatchers){const F={priority:this._from.priority||'normal'};V.on('addAttribute:'+this._from.key,s.i(u.h)(O),F),V.on('changeAttribute:'+this._from.key,s.i(u.h)(O),F),V.on('removeAttribute:'+this._from.key,s.i(u.i)(O),F)}}}},function(o,r,s){'use strict';function d(E,O,V,F){if(s.i(P.a)(E)){for(let M of E)d(M,O,V,F);return}const R=Array.from(E.getAttributeKeys());R.push(O.key);const N={name:E.name||'$text',attributes:R,inside:V.context};F.schema.check(N)&&E.setAttribute(O.key,O.value)}var f=s(166),h=s(5),w=s(1),C=s(13),T=s(0),P=s(43);r.a=function(){return new S};class S{constructor(){this._dispatchers=[],this._from=[]}for(...E){return this._dispatchers=E,this}fromElement(E){return this.from({name:E})}fromAttribute(E,O=/.*/){let V={};return V[E]=O,this.from(V)}from(E){return E instanceof f.a||(E=new f.a(E)),this._from.push({matcher:E,consume:!1,priority:null}),this}consuming(E){let O=this._from[this._from.length-1];return O.consume=E,this}withPriority(E){let O=this._from[this._from.length-1];return O.priority=E,this}toElement(E){this._setCallback(function(V){return(F,R,N,M)=>{let I=V.matcher.matchAll(R.input);if(I)for(let L of I){const D=E instanceof Function?E(R.input):new h.a(E),q=Array.from(D.getAttributeKeys());if(!M.schema.check({name:D.name,attributes:q,inside:R.context}))continue;if(!N.consume(R.input,V.consume||L.match))continue;R.context.push(D);const z=M.convertChildren(R.input,N,R),K=w.a.createAt(D,'end');C.a.insert(K,z),R.context.pop(),R.output=D;break}}},'normal')}toAttribute(E,O){this._setCallback(function(F){return(R,N,M,I)=>{let L=F.matcher.matchAll(N.input);if(L)for(let D of L){if(!M.consume(N.input,F.consume||D.match))continue;N.output||(N.output=I.convertChildren(N.input,M,N));let q=E instanceof Function?E(N.input):{key:E,value:O};d(N.output,q,N,I);break}}},'low')}toMarker(E){this._setCallback(function(V){return(F,R,N)=>{const M=V.matcher.matchAll(R.input);if(!M)return;let I;if(I=E instanceof Function?E(R.input):new h.a('$marker',{'data-name':R.input.getAttribute('data-name')}),'$marker'!=I.name||'string'!=typeof I.getAttribute('data-name'))throw new T.a('build-view-converter-invalid-marker: Invalid model element to mark marker range.');for(const L of M)if(N.consume(R.input,V.consume||L.match)){R.output=I;break}}},'normal')}_setCallback(E,O){for(let V of this._from){const F=V.matcher.getElementName(),R=F?'element:'+F:'element',N=E(V),M=null===V.priority?O:V.priority;for(let I of this._dispatchers)I.on(R,N,{priority:M})}}}},function(o,r,s){'use strict';var d=s(32),u=s(1),f=s(71),h=s(40),w=s(13),C=s(25),T=s(5);class P extends d.a{constructor(S,E,O){super(O),this.position=u.a.createFromPosition(S),this.nodes=new f.a(s.i(w.b)(E))}get type(){return'insert'}clone(){const S=new f.a([...this.nodes].map((E)=>E.clone(!0)));return new P(this.position,S,this.baseVersion)}getReversed(){return new h.a(this.position,this.nodes.maxOffset,this.baseVersion+1)}_execute(){const S=this.nodes;this.nodes=new f.a([...S].map((O)=>O.clone(!0)));const E=w.a.insert(this.position,S);return{range:E}}static get className(){return'engine.model.operation.InsertOperation'}static fromJSON(S,E){let O=[];for(let V of S.nodes)V.name?O.push(T.a.fromJSON(V)):O.push(C.a.fromJSON(V));return new P(u.a.fromJSON(S.position,E),O,S.baseVersion)}}r.a=P},function(o,r,s){'use strict';var d=s(28),u=s(1),f=s(5),h=s(111);class w extends d.a{constructor(C,T,P){const S=C.root.document.graveyard,E=new u.a(S,[S.maxOffset,0]);super(C,T,E,P),this._needsHolderElement=!0}get type(){return'remove'}get _holderElementOffset(){return this.targetPosition.path[0]}set _holderElementOffset(C){this.targetPosition.path[0]=C}getReversed(){return new h.a(this.targetPosition,this.howMany,this.sourcePosition,this.baseVersion+1)}clone(){let C=new w(this.sourcePosition,this.howMany,this.baseVersion);return C.targetPosition=u.a.createFromPosition(this.targetPosition),C}_execute(){if(this._needsHolderElement){const C=this.targetPosition.root,T=new f.a('$graveyardHolder');C.insertChildren(this._holderElementOffset,T),this.sourcePosition.root==C&&this.sourcePosition.path[0]>=this._holderElementOffset&&this.sourcePosition.path[0]++}return super._execute()}static get className(){return'engine.model.operation.RemoveOperation'}static fromJSON(C,T){let P=u.a.fromJSON(C.sourcePosition,T);const S=new w(P,C.howMany,C.baseVersion);return S.targetPosition=u.a.fromJSON(C.targetPosition,T),S._needsHolderElement=C._needsHolderElement,S}}r.a=w},function(o,r,s){'use strict';function d(){return 0===this.childCount?0:null}var u=s(21);class f extends u.a{constructor(h,w,C){super(h,w,C),this.getFillerOffset=d}is(h,w=null){return w?'containerElement'==h&&w==this.name||super.is(h,w):'containerElement'==h||super.is(h)}}r.a=f},function(o,r,s){'use strict';var h=s(151),w=s(5);r.c=function(T,P){return T.setCustomProperty(C,!0),s.i(h.a)(T,{label:function(){const E=T.getChild(0),O=E.getAttribute('alt');return O?`${O} ${P}`:P}})},r.a=function(T){return!!T.getCustomProperty(C)&&s.i(h.b)(T)},r.b=function(T){return T instanceof w.a&&'image'==T.name};const C=Symbol('isImage')},function(o,r){'use strict';r.a=function(u){return!!(u&&u[Symbol.iterator])}},function(o,r,s){'use strict';var u=s(81),f=s(123),h=s(124),w=s(134),C=s(440),T=s(93);r.a=function(S,E,O){var V=-1,F=f.a,R=S.length,N=!0,M=[],I=M;if(O)N=!1,F=h.a;else if(R>=200){var L=E?null:s.i(C.a)(S);if(L)return s.i(T.a)(L);N=!1,F=w.a,I=new u.a}else I=E?[]:M;outer:for(;++V<R;){var D=S[V],q=E?E(D):D;if(D=O||0!==D?D:0,N&&q===q){for(var z=I.length;z--;)if(I[z]===q)continue outer;E&&I.push(q),M.push(D)}else F(I,q,O)||(I!==M&&I.push(q),M.push(D))}return M}},function(o,r,s){'use strict';var d=s(481);s.d(r,'a',function(){return d.a})},function(o,r){'use strict';r.a=function(u){return!!u&&'object'==typeof u}},function(o,r,s){'use strict';var u=s(46),h=Object.prototype,w=h.toString;r.a=function(C){return'symbol'==typeof C||s.i(u.a)(C)&&w.call(C)=='[object Symbol]'}},function(o,r){'use strict';const d={error(u,f){console.error(u,f)},warn(u,f){console.warn(u,f)}};r.a=d},function(o,r,s){'use strict';function d(T){return'string'==typeof T?[new h.a(T)]:(s.i(w.a)(T)||(T=[T]),Array.from(T).map((P)=>'string'==typeof P?new h.a(P):P))}var u=s(71),f=s(5),h=s(25),w=s(43);class C{constructor(T){this.markers=new Map,this._children=new u.a,T&&this.insertChildren(0,T)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(T){return'documentFragment'==T}getChild(T){return this._children.getNode(T)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(T){return this._children.getNodeIndex(T)}getChildStartOffset(T){return this._children.getNodeStartOffset(T)}getPath(){return[]}offsetToIndex(T){return this._children.offsetToIndex(T)}appendChildren(T){this.insertChildren(this.childCount,T)}insertChildren(T,P){P=d(P);for(let S of P)S.parent=this;this._children.insertNodes(T,P)}removeChildren(T,P=1){const S=this._children.removeNodes(T,P);for(let E of S)E.parent=null;return S}toJSON(){let T=[];for(let P of this._children)T.push(P.toJSON());return T}static fromJSON(T){let P=[];for(let S of T)S.name?P.push(f.a.fromJSON(S)):P.push(h.a.fromJSON(S));return new C(P)}}r.a=C},function(o,r,s){'use strict';var d=s(79),u=s(4);class f{constructor(h){this.document=h,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}r.a=f,s.i(u.a)(f,d.a)},function(o,r,s){'use strict';var d=s(21),u=s(29),f=s(326),h=s(26),w=s(0);class C{constructor(T={}){if(!T.boundaries&&!T.startPosition)throw new w.a('view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.');if(T.direction&&'forward'!=T.direction&&'backward'!=T.direction)throw new w.a('view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.',{direction:T.direction});this.boundaries=T.boundaries||null,this.position=T.startPosition?h.a.createFromPosition(T.startPosition):h.a.createFromPosition(T.boundaries['backward'==T.direction?'end':'start']),this.direction=T.direction||'forward',this.singleCharacters=!!T.singleCharacters,this.shallow=!!T.shallow,this.ignoreElementEnd=!!T.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(T){let P,S,E;do E=this.position,({done:P,value:S}=this.next());while(!P&&T(S));P||(this.position=E)}next(){return'forward'==this.direction?this._next():this._previous()}_next(){let T=h.a.createFromPosition(this.position);const P=this.position,S=T.parent;if(null===S.parent&&T.offset===S.childCount)return{done:!0};if(S===this._boundaryEndParent&&T.offset==this.boundaries.end.offset)return{done:!0};let E;if(S instanceof u.a){if(T.isAtEnd)return this.position=h.a.createAfter(S),this._next();E=S.data[T.offset]}else E=S.getChild(T.offset);if(E instanceof d.a)return this.shallow?T.offset++:T=new h.a(E,0),this.position=T,this._formatReturnValue('elementStart',E,P,T,1);if(E instanceof u.a){if(this.singleCharacters)return T=new h.a(E,0),this.position=T,this._next();let O=E.data.length,V=E;return E==this._boundaryEndParent?(O=this.boundaries.end.offset,V=new f.a(E,0,O),T=h.a.createAfter(V)):T.offset++,this.position=T,this._formatReturnValue('text',V,P,T,O)}if('string'==typeof E){let O;if(this.singleCharacters)O=1;else{const F=S===this._boundaryEndParent?this.boundaries.end.offset:S.data.length;O=F-T.offset}const V=new f.a(S,T.offset,O);return T.offset+=O,this.position=T,this._formatReturnValue('text',V,P,T,O)}return T=h.a.createAfter(S),this.position=T,this.ignoreElementEnd?this._next():this._formatReturnValue('elementEnd',S,P,T)}_previous(){let T=h.a.createFromPosition(this.position);const P=this.position,S=T.parent;if(null===S.parent&&0===T.offset)return{done:!0};if(S==this._boundaryStartParent&&T.offset==this.boundaries.start.offset)return{done:!0};let E;if(S instanceof u.a){if(T.isAtStart)return this.position=h.a.createBefore(S),this._previous();E=S.data[T.offset-1]}else E=S.getChild(T.offset-1);if(E instanceof d.a)return this.shallow?(T.offset--,this.position=T,this._formatReturnValue('elementStart',E,P,T,1)):(T=new h.a(E,E.childCount),this.position=T,this.ignoreElementEnd?this._previous():this._formatReturnValue('elementEnd',E,P,T));if(E instanceof u.a){if(this.singleCharacters)return T=new h.a(E,E.data.length),this.position=T,this._previous();let O=E.data.length,V=E;if(E==this._boundaryStartParent){const F=this.boundaries.start.offset;V=new f.a(E,F,E.data.length-F),O=V.data.length,T=h.a.createBefore(V)}else T.offset--;return this.position=T,this._formatReturnValue('text',V,P,T,O)}if('string'==typeof E){let O;if(!this.singleCharacters){const F=S===this._boundaryStartParent?this.boundaries.start.offset:0;O=T.offset-F}else O=1;T.offset-=O;const V=new f.a(S,T.offset,O);return this.position=T,this._formatReturnValue('text',V,P,T,O)}return T=h.a.createBefore(S),this.position=T,this._formatReturnValue('elementStart',S,P,T,1)}_formatReturnValue(T,P,S,E,O){return P instanceof f.a&&(P.offsetInText+P.data.length==P.textNode.data.length&&('forward'!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?S=h.a.createAfter(P.textNode):(E=h.a.createAfter(P.textNode),this.position=E)),0===P.offsetInText&&('backward'!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?S=h.a.createBefore(P.textNode):(E=h.a.createBefore(P.textNode),this.position=E))),{done:!1,value:{type:T,item:P,previousPosition:S,nextPosition:E,length:O}}}}r.a=C},function(o,r,s){'use strict';var u=s(231);r.a=function(f,h){var w=f[h];return s.i(u.a)(w)?w:void 0}},function(o,r,s){'use strict';var u=s(12),f=s(47),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,w=/^\w*$/;r.a=function(C,T){if(s.i(u.a)(C))return!1;var P=typeof C;return'number'==P||'symbol'==P||'boolean'==P||null==C||s.i(f.a)(C)||w.test(C)||!h.test(C)||null!=T&&C in Object(T)}},function(o,r,s){'use strict';var u=s(47);r.a=function(h){if('string'==typeof h||s.i(u.a)(h))return h;var w=h+'';return'0'==w&&1/h==-(1/0)?'-0':w}},function(o,r){'use strict';r.a=function(u,f){return u===f||u!==u&&f!==f}},function(o,r,s){'use strict';var d=s(150),u=s(0);class f{constructor(h){this.parent=null,this._attrs=s.i(d.a)(h)}get index(){let h;if(!this.parent)return null;if(null===(h=this.parent.getChildIndex(this)))throw new u.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return h}get startOffset(){let h;if(!this.parent)return null;if(null===(h=this.parent.getChildStartOffset(this)))throw new u.a('model-node-not-found-in-parent: The node\'s parent does not contain this node.');return h}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const h=this.index;return null!==h&&this.parent.getChild(h+1)||null}get previousSibling(){const h=this.index;return null!==h&&this.parent.getChild(h-1)||null}get root(){let h=this;for(;h.parent;)h=h.parent;return h}get document(){return this.root==this?null:this.root.document||null}clone(){return new f(this._attrs)}getPath(){const h=[];for(let w=this;w.parent;)h.unshift(w.startOffset),w=w.parent;return h}getAncestors(h={includeNode:!1,parentFirst:!1}){const w=[];for(let C=h.includeNode?this:this.parent;C;)w[h.parentFirst?'push':'unshift'](C),C=C.parent;return w}remove(){this.parent.removeChildren(this.index)}hasAttribute(h){return this._attrs.has(h)}getAttribute(h){return this._attrs.get(h)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}setAttribute(h,w){this._attrs.set(h,w)}setAttributesTo(h){this._attrs=s.i(d.a)(h)}removeAttribute(h){return this._attrs.delete(h)}clearAttributes(){this._attrs.clear()}toJSON(){let h={};return this._attrs.size&&(h.attributes=[...this._attrs]),h}}r.a=f},function(o,r,s){'use strict';function d(V,F){return!F.has(V)&&(F.add(V),V.document.schema.itemExtends(V.name,'$block')&&V.parent)}function u(V,F){const R=V.parent.getAncestors({parentFirst:!0,includeNode:!0}),N=R.find((M)=>d(M,F));return R.forEach((M)=>F.add(M)),N}var f=s(1),h=s(5),w=s(3),C=s(7),T=s(0),P=s(4),S=s(150),E=s(500);class O{constructor(){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map}get anchor(){if(0<this._ranges.length){const V=this._ranges[this._ranges.length-1];return this._lastRangeBackward?V.end:V.start}return null}get focus(){if(0<this._ranges.length){const V=this._ranges[this._ranges.length-1];return this._lastRangeBackward?V.start:V.end}return null}get isCollapsed(){const V=this._ranges.length;return!(1!==V)&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(V){if(this.rangeCount!=V.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(V.anchor)||!this.focus.isEqual(V.focus))return!1;for(let F of this._ranges){let R=!1;for(let N of V._ranges)if(F.isEqual(N)){R=!0;break}if(!R)return!1}return!0}*getRanges(){for(let V of this._ranges)yield w.a.createFromRange(V)}getFirstRange(){let V=null;for(let F of this._ranges)(!V||F.start.isBefore(V.start))&&(V=F);return V?w.a.createFromRange(V):null}getLastRange(){let V=null;for(let F of this._ranges)(!V||F.end.isAfter(V.end))&&(V=F);return V?w.a.createFromRange(V):null}getFirstPosition(){const V=this.getFirstRange();return V?f.a.createFromPosition(V.start):null}getLastPosition(){const V=this.getLastRange();return V?f.a.createFromPosition(V.end):null}addRange(V,F=!1){this._pushRange(V),this._lastRangeBackward=!!F,this.fire('change:range',{directChange:!0})}removeAllRanges(){0<this._ranges.length&&(this._removeAllRanges(),this.fire('change:range',{directChange:!0}))}setRanges(V,F=!1){V=Array.from(V);const R=V.some((N)=>{if(!(N instanceof w.a))throw new T.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');return this._ranges.every((M)=>{return!M.isEqual(N)})});if(V.length!==this._ranges.length||R){this._removeAllRanges();for(let N of V)this._pushRange(N);this._lastRangeBackward=!!F,this.fire('change:range',{directChange:!0})}}setTo(V){this.setRanges(V.getRanges(),V.isBackward)}collapse(V,F){const R=f.a.createAt(V,F),N=new w.a(R,R);this.setRanges([N])}collapseToStart(){const V=this.getFirstPosition();null!==V&&this.setRanges([new w.a(V,V)])}collapseToEnd(){const V=this.getLastPosition();null!==V&&this.setRanges([new w.a(V,V)])}setFocus(V,F){if(null===this.anchor)throw new T.a('model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const R=f.a.createAt(V,F);if('same'!=R.compareWith(this.focus)){const N=this.anchor;this._ranges.length&&this._popRange(),'before'==R.compareWith(N)?this.addRange(new w.a(R,N),!0):this.addRange(new w.a(N,R))}}getAttribute(V){return this._attrs.get(V)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(V){return this._attrs.has(V)}clearAttributes(){if(0<this._attrs.size){const V=Array.from(this._attrs.keys());this._attrs.clear(),this.fire('change:attribute',{attributeKeys:V,directChange:!0})}}removeAttribute(V){this.hasAttribute(V)&&(this._attrs.delete(V),this.fire('change:attribute',{attributeKeys:[V],directChange:!0}))}setAttribute(V,F){this.getAttribute(V)!==F&&(this._attrs.set(V,F),this.fire('change:attribute',{attributeKeys:[V],directChange:!0}))}setAttributesTo(V){if(V=s.i(S.a)(V),!s.i(E.a)(V,this._attrs)){const F=new Set(Array.from(V.keys()).concat(Array.from(this._attrs.keys())));for(let[R,N]of V)this._attrs.get(R)===N&&F.delete(R);this._attrs=V,this.fire('change:attribute',{attributeKeys:Array.from(F),directChange:!0})}}getSelectedElement(){if(1!==this.rangeCount)return null;const V=this.getFirstRange(),F=V.start.nodeAfter,R=V.end.nodeBefore;return F instanceof h.a&&F==R?F:null}*getSelectedBlocks(){const V=new WeakSet;for(const F of this.getRanges()){const R=u(F.start,V);R&&(yield R);for(const M of F.getWalker())'elementEnd'==M.type&&d(M.item,V)&&(yield M.item);const N=u(F.end,V);N&&(yield N)}}static createFromSelection(V){const F=new this;return F.setTo(V),F}_pushRange(V){if(!(V instanceof w.a))throw new T.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');this._checkRange(V),this._ranges.push(w.a.createFromRange(V))}_checkRange(V){for(let F=0;F<this._ranges.length;F++)if(V.isIntersecting(this._ranges[F]))throw new T.a('model-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:V,intersectingRange:this._ranges[F]})}_popRange(){this._ranges.pop()}_removeAllRanges(){for(;0<this._ranges.length;)this._popRange()}}r.a=O,s.i(P.a)(O,C.a)},function(o,r,s){'use strict';var d=s(0);class u{constructor(f,h,w){if(this.textNode=f,0>h||h>f.offsetSize)throw new d.a('model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>w||h+w>f.offsetSize)throw new d.a('model-textproxy-wrong-length: Given length value is incorrect.');this.data=f.data.substring(h,h+w),this.offsetInText=h}get startOffset(){return null===this.textNode.startOffset?null:this.textNode.startOffset+this.offsetInText}get offsetSize(){return this.data.length}get endOffset(){return null===this.startOffset?null:this.startOffset+this.offsetSize}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(f){return'textProxy'==f}getPath(){const f=this.textNode.getPath();return 0<f.length&&(f[f.length-1]+=this.offsetInText),f}getAncestors(f={includeNode:!1,parentFirst:!1}){const h=[];for(let w=f.includeNode?this:this.parent;w;)h[f.parentFirst?'push':'unshift'](w),w=w.parent;return h}hasAttribute(f){return this.textNode.hasAttribute(f)}getAttribute(f){return this.textNode.getAttribute(f)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}r.a=u},function(o,r,s){'use strict';function d(F){return F instanceof Text&&F.data.substr(0,E)===O}function C(F,R){if(R.keyCode==T.d.arrowleft){const N=R.domTarget.ownerDocument.defaultView.getSelection();if(1==N.rangeCount&&N.getRangeAt(0).collapsed){const M=N.getRangeAt(0).startContainer,I=N.getRangeAt(0).startOffset;if(d(M)&&I<=E){const L=new Range;L.setStart(M,0),L.collapse(!0),N.removeAllRanges(),N.addRange(L)}}}}var T=s(23);s.d(r,'i',function(){return O}),r.c=d,r.f=function(F){return F.data.length==E&&d(F)},r.g=function(F){return d(F)?F.data.slice(E):F.data},r.e=function(F,R){let N=V.get(R);return N||(N=R(window.document),V.set(R,N)),F.isEqualNode(N)},r.h=function(F){F.on('keydown',C)};r.b=(F)=>{const R=F.createElement('br');return R.dataset.ckeFiller=!0,R};r.a=(F)=>F.createTextNode('\xA0');const E=7;r.d=E;let O='';for(let F=0;F<E;F++)O+='\u200B';const V=new WeakMap},function(o,r,s){'use strict';var d=s(50),u=s(116);class f extends d.a{constructor(h){super(h),this.useCapture=!1}observe(h){const w='string'==typeof this.domEventType?[this.domEventType]:this.domEventType;w.forEach((C)=>{this.listenTo(h,C,(T,P)=>{this.isEnabled&&this.onDomEvent(P)},{useCapture:this.useCapture})})}fire(h,w,C){this.isEnabled&&this.document.fire(h,new u.a(this.document,w,C))}}r.a=f},function(o,r,s){'use strict';var d=s(0),u=s(34),f=s(26),h=s(4),w=s(7),C=s(21);class T{constructor(){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel=''}setFake(P=!0,S={}){this._isFake=P,this._fakeSelectionLabel=P?S.label||'':'',this.fire('change')}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const P=this._ranges[this._ranges.length-1],S=this._lastRangeBackward?P.end:P.start;return f.a.createFromPosition(S)}get focus(){if(!this._ranges.length)return null;const P=this._ranges[this._ranges.length-1],S=this._lastRangeBackward?P.start:P.end;return f.a.createFromPosition(S)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}addRange(P,S){if(!(P instanceof u.a))throw new d.a('view-selection-invalid-range: Invalid Range.');this._pushRange(P),this._lastRangeBackward=!!S,this.fire('change')}*getRanges(){for(let P of this._ranges)yield u.a.createFromRange(P)}getFirstRange(){let P=null;for(let S of this._ranges)(!P||S.start.isBefore(P.start))&&(P=S);return P?u.a.createFromRange(P):null}getLastRange(){let P=null;for(let S of this._ranges)(!P||S.end.isAfter(P.end))&&(P=S);return P?u.a.createFromRange(P):null}getFirstPosition(){const P=this.getFirstRange();return P?f.a.createFromPosition(P.start):null}getLastPosition(){const P=this.getLastRange();return P?f.a.createFromPosition(P.end):null}isEqual(P){if(this.isFake!=P.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=P.fakeSelectionLabel)return!1;if(this.rangeCount!=P.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(P.anchor)||!this.focus.isEqual(P.focus))return!1;for(let S of this._ranges){let E=!1;for(let O of P._ranges)if(S.isEqual(O)){E=!0;break}if(!E)return!1}return!0}removeAllRanges(){this._ranges.length&&(this._ranges=[],this.fire('change'))}setRanges(P,S){this._ranges=[];for(let E of P){if(!(E instanceof u.a))throw new d.a('view-selection-invalid-range: Invalid Range.');this._pushRange(E)}this._lastRangeBackward=!!S,this.fire('change')}setTo(P){this._isFake=P._isFake,this._fakeSelectionLabel=P._fakeSelectionLabel,this.setRanges(P.getRanges(),P.isBackward)}collapse(P,S){const E=f.a.createAt(P,S),O=new u.a(E,E);this.setRanges([O])}collapseToStart(){const P=this.getFirstPosition();null!==P&&this.setRanges([new u.a(P,P)])}collapseToEnd(){const P=this.getLastPosition();null!==P&&this.setRanges([new u.a(P,P)])}setFocus(P,S){if(null===this.anchor)throw new d.a('view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.');const E=f.a.createAt(P,S);if('same'!=E.compareWith(this.focus)){const O=this.anchor;this._ranges.pop(),'before'==E.compareWith(O)?this.addRange(new u.a(E,O),!0):this.addRange(new u.a(O,E))}}getSelectedElement(){if(1!==this.rangeCount)return null;const P=this.getFirstRange(),S=P.start.nodeAfter,E=P.end.nodeBefore;return S instanceof C.a&&S==E?S:null}static createFromSelection(P){const S=new T;return S.setTo(P),S}_pushRange(P){for(let S of this._ranges)if(P.isIntersecting(S))throw new d.a('view-selection-range-intersects: Trying to add a range that intersects with another range from selection.',{addedRange:P,intersectingRange:S});this._ranges.push(u.a.createFromRange(P))}}r.a=T,s.i(h.a)(T,w.a)},function(o,r){'use strict';r.a=function(u,f){const h=_Mathmin(u.length,f.length);for(let w=0;w<h;w++)if(u[w]!=f[w])return w;return u.length==f.length?'same':u.length<f.length?'prefix':'extension'}},function(o,r){'use strict';r.a={window,document}},function(o,r){'use strict';r.a=function(u){const f=u.next();return f.done?null:f.value}},function(o,r,s){'use strict';var d=s(79),u=s(31),f=s(0),h=s(4);class w{constructor(){this.set('isFocused',!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(C){if(this._elements.has(C))throw new f.a('focusTracker-add-element-already-exist');this.listenTo(C,'focus',()=>this._focus(C),{useCapture:!0}),this.listenTo(C,'blur',()=>this._blur(),{useCapture:!0}),this._elements.add(C)}remove(C){C===this.focusedElement&&this._blur(C),this._elements.has(C)&&(this.stopListening(C),this._elements.delete(C))}_focus(C){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=C,this.isFocused=!0}_blur(){this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}r.a=w,s.i(h.a)(w,d.a),s.i(h.a)(w,u.a)},function(o,r,s){'use strict';var d=s(79),u=s(23);r.a=class{constructor(){this._listener=Object.create(d.a),this._keystrokes=new Map}listenTo(h){this._listener.listenTo(h,'keydown',(w,C)=>{this.press(C)})}set(h,w){const C=s.i(u.a)(h),T=this._keystrokes.get(C);T?T.push(w):this._keystrokes.set(C,[w])}press(h){const w=s.i(u.c)(h),C=this._keystrokes.get(w);if(!C)return!1;for(let T of C)T(h,()=>{h.preventDefault(),h.stopPropagation()});return!0}destroy(){this._keystrokes=new Map,this._listener.stopListening()}}},function(o,r,s){'use strict';var u=s(55),f=Object.prototype,h=f.hasOwnProperty;r.a=function(w,C,T){var P=w[C];h.call(w,C)&&s.i(u.a)(P,T)&&(T!==void 0||C in w)||(w[C]=T)}},function(o,r,s){'use strict';var u=s(81),f=s(123),h=s(124),w=s(27),C=s(132),T=s(134);r.a=function(S,E,O,V){var F=-1,R=f.a,N=!0,M=S.length,I=[],L=E.length;if(!M)return I;O&&(E=s.i(w.a)(E,s.i(C.a)(O))),V?(R=h.a,N=!1):E.length>=200&&(R=T.a,N=!1,E=new u.a(E));outer:for(;++F<M;){var D=S[F],q=O?O(D):D;if(D=V||0!==D?D:0,N&&q===q){for(var z=L;z--;)if(E[z]===q)continue outer;I.push(D)}else R(E,q,V)||I.push(D)}return I}},function(o,r,s){'use strict';var u=s(195),f=s(420),h=s(203),w=s(95),C=s(36),T=s(91);r.a=function(P){var S=s.i(T.a)(P);if(!(S||s.i(w.a)(P)))return s.i(f.a)(P);var E=s.i(h.a)(P),V=E||[],F=V.length;for(var R in P)!s.i(u.a)(P,R)||!!E&&('length'==R||s.i(C.a)(R,F))||S&&'constructor'==R||V.push(R);return V}},function(o,r){'use strict';r.a=function(){let u='e';for(let f=0;8>f;f++)u+=_Mathfloor(65536*(1+Math.random())).toString(16).substring(1);return u}},function(o,r,s){'use strict';var d=s(56),u=s(0);class f{constructor(h){this._nodes=[],h&&this.insertNodes(0,h)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((h,w)=>h+w.offsetSize,0)}getNode(h){return this._nodes[h]||null}getNodeIndex(h){const w=this._nodes.indexOf(h);return-1==w?null:w}getNodeStartOffset(h){const w=this.getNodeIndex(h);return null===w?null:this._nodes.slice(0,w).reduce((C,T)=>C+T.offsetSize,0)}indexToOffset(h){if(h==this._nodes.length)return this.maxOffset;const w=this._nodes[h];if(!w)throw new u.a('model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.');return this.getNodeStartOffset(w)}offsetToIndex(h){let w=0;for(let C of this._nodes){if(h>=w&&h<w+C.offsetSize)return this.getNodeIndex(C);w+=C.offsetSize}if(w!=h)throw new u.a('model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.');return this.length}insertNodes(h,w){for(let C of w)if(!(C instanceof d.a))throw new u.a('model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.');this._nodes.splice(h,0,...w)}removeNodes(h,w=1){return this._nodes.splice(h,w)}toJSON(){return this._nodes.map((h)=>h.toJSON())}}r.a=f},function(o,r,s){'use strict';var d=s(32),u=s(3),f=s(0),h=s(13),w=s(487);class C extends d.a{constructor(T,P,S,E,O){super(O),this.range=u.a.createFromRange(T),this.key=P,this.oldValue=S===void 0?null:S,this.newValue=E===void 0?null:E}get type(){return null===this.oldValue?'addAttribute':null===this.newValue?'removeAttribute':'changeAttribute'}clone(){return new C(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new C(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){for(let T of this.range.getItems()){if(null!==this.oldValue&&!s.i(w.a)(T.getAttribute(this.key),this.oldValue))throw new f.a('attribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{item:T,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&T.hasAttribute(this.key))throw new f.a('attribute-operation-attribute-exists: The attribute with given key already exists.',{node:T,key:this.key});if(s.i(w.a)(this.oldValue,this.newValue))return}return h.a.setAttribute(this.range,this.key,this.newValue),{range:this.range,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.AttributeOperation'}static fromJSON(T,P){return new C(u.a.fromJSON(T.range,P),T.key,T.oldValue,T.newValue,T.baseVersion)}}r.a=C},function(o,r,s){'use strict';var d=s(32);class u extends d.a{clone(){return new u(this.baseVersion)}getReversed(){return new u(this.baseVersion+1)}_execute(){}static get className(){return'engine.model.operation.NoOperation'}}r.a=u},function(o,r,s){'use strict';var d=s(41),u=s(0),f=s(4),h=s(31);const w=Symbol('document');class C extends d.a{constructor(T,P,S){super(T,P,S),this.set('isReadOnly',!1),this.set('isFocused',!1)}get document(){return this.getCustomProperty(w)}set document(T){if(this.getCustomProperty(w))throw new u.a('view-editableelement-document-already-set: View document is already set.');this.setCustomProperty(w,T),this.bind('isFocused').to(T,'isFocused',(P)=>P&&T.selection.editableElement==this),this.listenTo(T,'render',()=>{this.isFocused=T.isFocused&&T.selection.editableElement==this},{priority:'high'})}}r.a=C,s.i(f.a)(C,h.a)},function(o,r,s){'use strict';var d=s(0),u=s(7),f=s(4);class h{constructor(){this.parent=null}get index(){let w;if(!this.parent)return null;if(-1==(w=this.parent.getChildIndex(this)))throw new d.a('view-node-not-found-in-parent: The node\'s parent does not contain this node.');return w}get nextSibling(){const w=this.index;return null!==w&&this.parent.getChild(w+1)||null}get previousSibling(){const w=this.index;return null!==w&&this.parent.getChild(w-1)||null}get root(){let w=this;for(;w.parent;)w=w.parent;return w}get document(){return this.parent instanceof h?this.parent.document:null}getAncestors(w={includeNode:!1,parentFirst:!1}){const C=[];for(let T=w.includeNode?this:this.parent;T;)C[w.parentFirst?'push':'unshift'](T),T=T.parent;return C}remove(){this.parent.removeChildren(this.index)}_fireChange(w,C){this.fire('change:'+w,C),this.parent&&this.parent._fireChange(w,C)}}r.a=h,s.i(f.a)(h,u.a)},function(o,r,s){'use strict';function f(le){const de=le.offset,ce=le.parent;if(ce.is('text'))return le;if(ce.is('attributeElement')&&0===ce.childCount){const ge=ce.parent,pe=ce.index;return ce.remove(),f(new G.a(ge,pe))}const ue=ce.getChild(de-1),me=ce.getChild(de);if(!ue||!me)return le;if(ue.is('text')&&me.is('text'))return z(ue,me);if(ue.is('attributeElement')&&me.is('attributeElement')&&ue.isSimilar(me)){const ge=ue.childCount;return ue.appendChildren(me.getChildren()),me.remove(),f(new G.a(ue,ge))}return le}function C(le,de){de=s.i(oe.a)(de)?[...de]:[de],W(de);const ce=R(le);if(!ce)throw new ne.a('view-writer-invalid-position-container');const ue=M(le,!0),me=ce.insertChildren(ue.offset,de),ge=ue.getShiftedBy(me),pe=f(ue);if(0===me)return new te.a(pe,pe);pe.isEqual(ue)||ge.offset--;const fe=f(ge);return new te.a(pe,fe)}function T(le){if(Z(le),le.isCollapsed)return new ie.a;const{start:de,end:ce}=N(le,!0),ue=de.parent,me=ce.offset-de.offset,ge=ue.removeChildren(de.offset,me),pe=f(de);return le.start=pe,le.end=G.a.createFromPosition(pe),new ie.a(ge)}function S(le,de){let ce;if(de.isAfter(le.end)){de=M(de,!0);const ue=de.parent,me=ue.childCount;le=N(le,!0),ce=T(le),de.offset+=ue.childCount-me}else ce=T(le);return C(de,ce)}function E(le,de){if(!(de instanceof Q.a))throw new ne.a('view-writer-wrap-invalid-attribute');if(Z(le),le.isCollapsed)return le;if(le.end.isEqual(le.start.getShiftedBy(1))){const be=le.start.nodeAfter;if(be instanceof Q.a&&K(de,be))return le}if(H(le)&&K(de,le.start.parent)){const be=le.start.parent.parent,_e=le.start.parent.index;return te.a.createFromParentsAndOffsets(be,_e,be,_e+1)}const{start:ce,end:ue}=N(le,!0),me=ce.parent,ge=I(me,ce.offset,ue.offset,de),pe=L(me,ge.start.offset,ge.end.offset,de),fe=f(pe.start);fe.isEqual(pe.start)||pe.end.offset--;const he=f(pe.end);return new te.a(fe,he)}function R(le){let de=le.parent;for(;!U(de);){if(!de)return;de=de.parent}return de}function N(le,de=!1){const ce=le.start,ue=le.end;if(Z(le),le.isCollapsed){const fe=M(le.start,de);return new te.a(fe,fe)}const me=M(ue,de),ge=me.parent.childCount,pe=M(ce,de);return me.offset+=me.parent.childCount-ge,new te.a(pe,me)}function M(le,de=!1){const ce=le.offset,ue=le.parent;if(le.parent.is('emptyElement'))throw new ne.a('view-writer-cannot-break-empty-element');if(le.parent.is('uiElement'))throw new ne.a('view-writer-cannot-break-ui-element');if(!de&&ue.is('text')&&U(ue.parent))return G.a.createFromPosition(le);if(U(ue))return G.a.createFromPosition(le);if(ue.is('text'))return M(q(le),de);const me=ue.childCount;if(ce==me){const ge=new G.a(ue.parent,ue.index+1);return M(ge,de)}if(0===ce){const ge=new G.a(ue.parent,ue.index);return M(ge,de)}const ge=ue.index+1,pe=ue.clone();ue.parent.insertChildren(ge,pe);const fe=ue.childCount-ce,he=ue.removeChildren(ce,fe);pe.appendChildren(he);const be=new G.a(ue.parent,ge);return M(be,de)}function I(le,de,ce,ue){let me=de;const ge=[];for(;me<ce;){const fe=le.getChild(me);if(fe.isSimilar(ue)){const he=fe.getChildren(),be=fe.childCount;fe.remove(),le.insertChildren(me,he),ge.push(new G.a(le,me),new G.a(le,me+be)),me+=be,ce+=be-1}else fe.is('attributeElement')&&I(fe,0,fe.childCount,ue),me++}let pe=0;for(let fe of ge){if(fe.offset-=pe,fe.offset==de||fe.offset==ce)continue;const he=f(fe);he.isEqual(fe)||(pe++,ce--)}return te.a.createFromParentsAndOffsets(le,de,le,ce)}function L(le,de,ce,ue){let me=de;const ge=[];for(;me<ce;){const fe=le.getChild(me),he=fe.is('text'),be=fe.is('attributeElement'),_e=fe.is('emptyElement'),ye=fe.is('uiElement');if(he||_e||ye||be&&ue.priority<=fe.priority){const ve=ue.clone();fe.remove(),ve.appendChildren(fe),le.insertChildren(me,ve),ge.push(new G.a(le,me))}else be&&L(fe,0,fe.childCount,ue);me++}let pe=0;for(let fe of ge){if(fe.offset-=pe,fe.offset==de)continue;const he=f(fe);he.isEqual(fe)||(pe++,ce--)}return te.a.createFromParentsAndOffsets(le,de,le,ce)}function D(le){const de=le.nodeBefore;if(de&&de.is('text'))return new G.a(de,de.data.length);const ce=le.nodeAfter;return ce&&ce.is('text')?new G.a(ce,0):le}function q(le){if(le.offset==le.parent.data.length)return new G.a(le.parent.parent,le.parent.index+1);if(0===le.offset)return new G.a(le.parent.parent,le.parent.index);const de=le.parent.data.slice(le.offset);return le.parent.data=le.parent.data.slice(0,le.offset),le.parent.parent.insertChildren(le.parent.index+1,new ee.a(de)),new G.a(le.parent.parent,le.parent.index+1)}function z(le,de){const ce=le.data.length;return le.data+=de.data,de.remove(),new G.a(le,ce)}function K(le,de){if(le.name!==de.name||le.priority!==de.priority)return!1;for(let ce of le.getAttributeKeys())if('class'!==ce&&'style'!==ce&&de.hasAttribute(ce)&&de.getAttribute(ce)!==le.getAttribute(ce))return!1;for(let ce of le.getStyleNames())if(de.hasStyle(ce)&&de.getStyle(ce)!==le.getStyle(ce))return!1;for(let ce of le.getAttributeKeys())'class'!==ce&&'style'!==ce&&(de.hasAttribute(ce)||de.setAttribute(ce,le.getAttribute(ce)));for(let ce of le.getStyleNames())de.hasStyle(ce)||de.setStyle(ce,le.getStyle(ce));for(let ce of le.getClassNames())de.hasClass(ce)||de.addClass(ce);return!0}function $(le,de){if(le.name!==de.name||le.priority!==de.priority)return!1;for(let ce of le.getAttributeKeys())if('class'!==ce&&'style'!==ce&&(!de.hasAttribute(ce)||de.getAttribute(ce)!==le.getAttribute(ce)))return!1;if(!de.hasClass(...le.getClassNames()))return!1;for(let ce of le.getStyleNames())if(!de.hasStyle(ce)||de.getStyle(ce)!==le.getStyle(ce))return!1;for(let ce of le.getAttributeKeys())'class'!==ce&&'style'!==ce&&de.removeAttribute(ce);return de.removeClass(...le.getClassNames()),de.removeStyle(...le.getStyleNames()),!0}function H(le){return le.start.parent==le.end.parent&&le.start.parent.is('attributeElement')&&0===le.start.offset&&le.end.offset===le.start.parent.childCount}function W(le){for(let de of le){if(!se.some((ce)=>de instanceof ce))throw new ne.a('view-writer-insert-invalid-node');de.is('text')||W(de.getChildren())}}function U(le){return le&&(le.is('containerElement')||le.is('documentFragment'))}function Z(le){const de=R(le.start),ce=R(le.end);if(!de||!ce||de!==ce)throw new ne.a('view-writer-invalid-range-container')}var G=s(26),J=s(41),Q=s(114),Y=s(165),X=s(169),ee=s(29),te=s(34),ae=s(51),ne=s(0),ie=s(115),oe=s(43);r.a={breakAttributes:function(le){return le instanceof G.a?M(le):N(le)},breakContainer:function(le){const de=le.parent;if(!de.is('containerElement'))throw new ne.a('view-writer-break-non-container-element: Trying to break an element which is not a container element.');if(!de.parent)throw new ne.a('view-writer-break-root: Trying to break root element.');if(le.isAtStart)return G.a.createBefore(de);if(!le.isAtEnd){const ce=de.clone(!1);C(G.a.createAfter(de),ce);const ue=new te.a(le,G.a.createAt(de,'end')),me=new G.a(ce,0);S(ue,me)}return G.a.createAfter(de)},mergeAttributes:f,mergeContainers:function(le){const de=le.nodeBefore,ce=le.nodeAfter;if(!de||!ce||!de.is('containerElement')||!ce.is('containerElement'))throw new ne.a('view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.');const ue=de.getChild(de.childCount-1),me=ue instanceof ee.a?G.a.createAt(ue,'end'):G.a.createAt(de,'end');return S(te.a.createIn(ce),G.a.createAt(de,'end')),T(te.a.createOn(ce)),me},insert:C,remove:T,clear:function(le,de){Z(le);const ce=le.getWalker({direction:'backward',ignoreElementEnd:!0});for(const ue of ce){const me=ue.item;let ge;if(me.is('element')&&de.isSimilar(me))ge=te.a.createOn(me);else if(!ue.nextPosition.isAfter(le.start)&&(me.is('text')||me.is('textProxy'))){const pe=me.getAncestors().find((fe)=>{return fe.is('element')&&de.isSimilar(fe)});pe&&(ge=te.a.createIn(pe))}ge&&(ge.end.isAfter(le.end)&&(ge.end=le.end),ge.start.isBefore(le.start)&&(ge.start=le.start),T(ge))}},move:S,wrap:E,wrapPosition:function(le,de){if(!(de instanceof Q.a))throw new ne.a('view-writer-wrap-invalid-attribute');if(de.isSimilar(le.parent))return D(G.a.createFromPosition(le));le.parent.is('text')&&(le=q(le));const ce=new Q.a;ce.priority=_NumberPOSITIVE_INFINITY,ce.isSimilar=()=>!1,le.parent.insertChildren(le.offset,ce);const ue=new te.a(le,le.getShiftedBy(1));E(ue,de);const me=new G.a(ce.parent,ce.index);ce.remove();const ge=me.nodeBefore,pe=me.nodeAfter;return ge instanceof ee.a&&pe instanceof ee.a?z(ge,pe):D(me)},unwrap:function(le,de){if(!(de instanceof Q.a))throw new ne.a('view-writer-unwrap-invalid-attribute');if(Z(le),le.isCollapsed)return le;if(le.end.isEqual(le.start.getShiftedBy(1))){const he=le.start.nodeAfter;if(!de.isSimilar(he)&&he instanceof Q.a&&$(de,he))return le}const{start:ce,end:ue}=N(le,!0),me=ce.parent,ge=I(me,ce.offset,ue.offset,de),pe=f(ge.start);pe.isEqual(ge.start)||ge.end.offset--;const fe=f(ge.end);return new te.a(pe,fe)},rename:function(le,de){const ce=new J.a(de,le.getAttributes());return C(G.a.createAfter(le),ce),S(te.a.createIn(le),G.a.createAt(ce)),T(te.a.createOn(le)),ce},breakViewRangePerContainer:function(le){const de=[],ce=new ae.a({boundaries:le});let ue=le.start;for(let me of ce)me.item.is('containerElement')&&(ue.isEqual(me.previousPosition)||de.push(new te.a(ue,me.previousPosition)),ue=me.nextPosition);return de.push(new te.a(ue,le.end)),de}};const se=[ee.a,Q.a,J.a,Y.a,X.a]},function(o,r,s){'use strict';function d(L,D,q,z,K){if(z.test(q.input)&&L.schema.check({name:'paragraph',inside:q.context})){const $=new T.a('paragraph');I.add($),q.context.push($);const H=K.convertItem(q.input,z,q);H&&(q.output=$,$.appendChildren(H)),q.context.pop()}}function u(L,D,q,z,K){if(M.paragraphLikeElements.has(q.input.name)&&z.test(q.input,{name:!0})&&!h(q.input)&&L.schema.check({name:'paragraph',inside:q.context})){z.consume(q.input,{name:!0});const $=new T.a('paragraph');q.context.push($);const H=K.convertChildren(q.input,z,q);$.appendChildren(V.a.normalizeNodes(H)),q.context.pop(),q.output=$}}function f(L,D){if(!D.output)return;let q;for(q=s.i(N.a)(D.output)?D.output[0]:D.output.getChild(0);q&&q.nextSibling;){const z=q.nextSibling;I.has(q)&&I.has(z)?(V.a.insert(P.a.createAt(q,'end'),Array.from(z.getChildren())),V.a.remove(S.a.createOn(z))):q=q.nextSibling}}function h(L){const D=O.a.createIn(L);for(const q of D)if(q.item instanceof E.a&&M.paragraphLikeElements.has(q.item.name))return!0;return!1}var w=s(355),C=s(2),T=s(5),P=s(1),S=s(3),E=s(21),O=s(34),V=s(13),F=s(37),R=s(38),N=s(12);class M extends C.a{static get pluginName(){return'paragraph/paragraph'}init(){const L=this.editor,D=L.document,q=L.data,z=L.editing;D.schema.registerItem('paragraph','$block'),s.i(F.a)().for(q.modelToView,z.modelToView).fromElement('paragraph').toElement('p'),s.i(R.a)().for(q.viewToModel).fromElement('p').toElement('paragraph'),q.viewToModel.on('text',(K,$,H,W)=>{d(D,K,$,H,W)},{priority:'lowest'}),q.viewToModel.on('element',f,{priority:'lowest'}),q.viewToModel.on('documentFragment',f,{priority:'lowest'}),q.viewToModel.on('element',(K,$,H,W)=>{u(D,K,$,H,W)},{priority:'low'}),L.commands.set('paragraph',new w.a(L))}}r.a=M,M.paragraphLikeElements=new Set(['blockquote','dd','div','dt','h1','h2','h3','h4','h5','h6','li','p','td']);const I=new WeakSet},function(o,r,s){'use strict';var d=s(7),u=s(0),f=s(70),h=s(4);class w{constructor(C){this._items=[],this._itemMap=new Map,this._idProperty=C&&C.idProperty||'id',this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap}get length(){return this._items.length}add(C,T){let P;const S=this._idProperty;if(S in C){if(P=C[S],'string'!=typeof P)throw new u.a('collection-add-invalid-id');if(this.get(P))throw new u.a('collection-add-item-already-exists')}else C[S]=P=s.i(f.a)();if(void 0===T)T=this._items.length;else if(T>this._items.length||0>T)throw new u.a('collection-add-item-invalid-index');return this._items.splice(T,0,C),this._itemMap.set(P,C),this.fire('add',C,T),this}get(C){let T;if('string'==typeof C)T=this._itemMap.get(C);else if('number'==typeof C)T=this._items[C];else throw new u.a('collection-get-invalid-arg: Index or id must be given.');return T||null}getIndex(C){let T;return T='string'==typeof C?this._itemMap.get(C):C,this._items.indexOf(T)}remove(C){let E=!1,T,P,S;const O=this._idProperty;if('string'==typeof C?(P=C,S=this._itemMap.get(P),E=!S,S&&(T=this._items.indexOf(S))):'number'==typeof C?(T=C,S=this._items[T],E=!S,S&&(P=S[O])):(S=C,P=S[O],T=this._items.indexOf(S),E=-1==T||!this._itemMap.get(P)),E)throw new u.a('collection-remove-404: Item not found.');this._items.splice(T,1),this._itemMap.delete(P);const V=this._bindToInternalToExternalMap.get(S);return this._bindToInternalToExternalMap.delete(S),this._bindToExternalToInternalMap.delete(V),this.fire('remove',S),S}map(C,T){return this._items.map(C,T)}find(C,T){return this._items.find(C,T)}filter(C,T){return this._items.filter(C,T)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(C){if(this._bindToCollection)throw new u.a('collection-bind-to-rebind: The collection cannot be bound more than once.');return this._bindToCollection=C,{as:(T)=>{this._setUpBindToBinding((P)=>new T(P))},using:(T)=>{'function'==typeof T?this._setUpBindToBinding((P)=>T(P)):this._setUpBindToBinding((P)=>P[T])}}}_setUpBindToBinding(C){const T=this._bindToCollection,P=(S,E,O)=>{const V=T._bindToCollection==this,F=T._bindToInternalToExternalMap.get(E);if(V&&F)this._bindToExternalToInternalMap.set(E,F),this._bindToInternalToExternalMap.set(F,E);else{const R=C(E);this._bindToExternalToInternalMap.set(E,R),this._bindToInternalToExternalMap.set(R,E),this.add(R,O)}};for(let S of T)P(null,S);this.listenTo(T,'add',P),this.listenTo(T,'remove',(S,E)=>{const O=this._bindToExternalToInternalMap.get(E);O&&this.remove(O)})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}r.a=w,s.i(h.a)(w,d.a)},function(o,r,s){'use strict';function d(S){return S['data-ck-expando']||(S['data-ck-expando']=s.i(h.a)())}function u(S){return S&&s.i(C.a)(S.addEventListener)}var f=s(7),h=s(70),w=s(45),C=s(231);const T=s.i(w.a)({},f.a,{listenTo(...S){const E=S[0];u(E)&&(S[0]=this._getProxyEmitter(E)||new P(E)),f.a.listenTo.apply(this,S)},stopListening(...S){const E=S[0];if(u(E)){let O=this._getProxyEmitter(E);if(!O)return;S[0]=O}f.a.stopListening.apply(this,S)},_getProxyEmitter(S){return s.i(f.b)(this,d(S))}});r.a=T;class P{constructor(S){s.i(f.c)(this,d(S)),this._domNode=S}}s.i(w.a)(P.prototype,f.a,{on(S,E,O={}){if(f.a.on.apply(this,arguments),!(this._domListeners&&this._domListeners[S])){const V=this._createDomListener(S);this._domNode.addEventListener(S,V,!!O.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[S]=V}},off(S){f.a.off.apply(this,arguments);let E;!this._domListeners[S]||(E=this._events[S])&&E.callbacks.length||this._domListeners[S].removeListener()},_createDomListener(S){const E=(O)=>{this.fire(S,O)};return E.removeListener=()=>{this._domNode.removeEventListener(S,E),delete this._domListeners[S]},E}})},function(o,r,s){'use strict';function d(T){var P=-1,S=T?T.length:0;for(this.clear();++P<S;){var E=T[P];this.set(E[0],E[1])}}var u=s(459),f=s(460),h=s(461),w=s(462),C=s(463);d.prototype.clear=u.a,d.prototype['delete']=f.a,d.prototype.get=h.a,d.prototype.has=w.a,d.prototype.set=C.a,r.a=d},function(o,r,s){'use strict';function d(w){var C=-1,T=w?w.length:0;for(this.__data__=new u.a;++C<T;)this.add(w[C])}var u=s(120),f=s(470),h=s(471);d.prototype.add=d.prototype.push=f.a,d.prototype.has=h.a,r.a=d},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=u.length,C=0,T=[],P;++h<w;)P=u[h],f(P,h,u)&&(T[C++]=P);return T}},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=f.length,C=u.length;++h<w;)u[C+h]=f[h];return u}},function(o,r,s){'use strict';var u=s(55);r.a=function(f,h){for(var w=f.length;w--;)if(s.i(u.a)(f[w][0],h))return w;return-1}},function(o,r,s){'use strict';var u=s(131),f=s(225),h=s(47);r.a=function(T,P,S){var E=0,O=T?T.length:E;if('number'==typeof P&&P===P&&O<=4294967295>>>1){for(;E<O;){var V=E+O>>>1,F=T[V];null!==F&&!s.i(h.a)(F)&&(S?F<=P:F<P)?E=V+1:O=V}return O}return s.i(u.a)(T,P,f.a,S)}},function(o,r,s){'use strict';var u=s(35);r.a=function(f,h,w,C){for(var T=f.length,P=C?T:-1;(C?P--:++P<T)&&h(f[P],P,f););return w?s.i(u.a)(f,C?0:P,C?P+1:T):s.i(u.a)(f,C?P+1:0,C?T:P)}},function(o,r,s){'use strict';var u=s(12),f=s(478);r.a=function(h){return s.i(u.a)(h)?h:s.i(f.a)(h)}},function(o,r,s){'use strict';var u=s(457);r.a=function(f,h){var w=f.__data__;return s.i(u.a)(h)?w['string'==typeof h?'string':'hash']:w.map}},function(o,r){'use strict';r.a=function(u){var f=!1;if(null!=u&&'function'!=typeof u.toString)try{f=!!(u+'')}catch(h){}return f}},function(o,r,s){'use strict';var u=s(55),f=s(95),h=s(36),w=s(15);r.a=function(C,T,P){if(!s.i(w.a)(P))return!1;var S=typeof T;return!('number'==S?!(s.i(f.a)(P)&&s.i(h.a)(T,P.length)):!('string'==S&&T in P))&&s.i(u.a)(P[T],C)}},function(o,r){'use strict';var u=Object.prototype;r.a=function(f){var h=f&&f.constructor,w='function'==typeof h&&h.prototype||u;return f===w}},function(o,r,s){'use strict';var d=s(52),u=s.i(d.a)(Object,'create');r.a=u},function(o,r){'use strict';r.a=function(u){var f=-1,h=Array(u.size);return u.forEach(function(w){h[++f]=w}),h}},function(o,r,s){'use strict';var u=s(193);r.a=function(f){return s.i(u.a)(f,!1,!0)}},function(o,r,s){'use strict';var u=s(445),f=s(146),h=s(96);r.a=function(w){return null!=w&&s.i(h.a)(s.i(u.a)(w))&&!s.i(f.a)(w)}},function(o,r){'use strict';r.a=function(f){return'number'==typeof f&&-1<f&&0==f%1&&f<=9007199254740991}},function(o,r,s){'use strict';var u=s(138),f=s(89),h=s(46),C=Object.prototype,T=Function.prototype.toString,P=C.hasOwnProperty,S=T.call(Object),E=C.toString;r.a=function(O){if(!s.i(h.a)(O)||E.call(O)!='[object Object]'||s.i(f.a)(O))return!1;var V=s.i(u.a)(O);if(null===V)return!0;var F=P.call(V,'constructor')&&V.constructor;return'function'==typeof F&&F instanceof F&&T.call(F)==S}},function(o,r,s){'use strict';var u=s(82),f=s(27),h=s(129),w=s(198),C=s(14);r.a=function(P){if(!(P&&P.length))return[];var S=0;return P=s.i(u.a)(P,function(E){if(s.i(C.a)(E))return S=_Mathmax(E.length,S),!0}),s.i(w.a)(S,function(E){return s.i(f.a)(P,s.i(h.a)(E))})}},function(o,r,s){'use strict';var u=s(33),f=s(3),h=s(1);r.a=function(w,C,T){const P=[];for(let S of C){const E=new u.a({boundaries:S,mergeCharacters:!0});let O=E.next(),V=S.start,F=S.start,R=S.end;for(;!O.done;){const N=O.value.item.name||'$text',M=h.a.createBefore(O.value.item);T.check({name:N,inside:M,attributes:w})||(!F.isEqual(V)&&P.push(new f.a(F,V)),F=E.position),V=E.position,O=E.next()}F&&!F.isEqual(R)&&P.push(new f.a(F,R))}return P}},function(o,r,s){'use strict';function O(D,q){const z=new I.a({startPosition:D,singleCharacters:!0});let K=0;for(let $ of z)if('text'==$.type&&(K++,K==q))return z.position}function F(D){const q=D.split(':');return q[0]+':'+q[1]}var R=s(21),N=s(29),M=s(34),I=s(51),L=s(76);r.a=function(D){return(q,z,K,$)=>{const H=D instanceof R.a?D.clone(!0):D(z,K,$);if(H&&K.consume(z.item,'insert')){const W=$.mapper.toViewPosition(z.range.start);$.mapper.bindElements(z.item,H),L.a.insert(W,H)}}},r.j=function(){return(D,q,z,K)=>{if(z.consume(q.item,'insert')){const $=K.mapper.toViewPosition(q.range.start),H=new N.a(q.item.data);L.a.insert($,H)}}},r.f=function(D){return(q,z,K,$)=>{let H,W;if((D instanceof R.a?(H=D.clone(!0),W=D.clone(!0)):(z.isOpening=!0,H=D(z,K,$),z.isOpening=!1,W=D(z,K,$)),H&&W)&&K.consume(z.range,'addMarker')){const U=$.mapper;L.a.insert(U.toViewPosition(z.range.start),H),z.range.isCollapsed||L.a.insert(U.toViewPosition(z.range.end),W)}}},r.h=function(D){return D=D||((q,z)=>({value:q,key:z})),(q,z,K,$)=>{if(K.consume(z.item,F(q.name))){const{key:H,value:W}=D(z.attributeNewValue,z.attributeKey,z,K,$);$.mapper.toViewElement(z.item).setAttribute(H,W)}}},r.i=function(D){return D=D||((q,z)=>({key:z})),(q,z,K,$)=>{if(K.consume(z.item,F(q.name))){const{key:H}=D(z.attributeOldValue,z.attributeKey,z,K,$);$.mapper.toViewElement(z.item).removeAttribute(H)}}},r.b=function(D){return(q,z,K,$)=>{const H=D instanceof R.a?D.clone(!0):D(z.attributeNewValue,z,K,$);if(!H)return;if(!K.consume(z.item,F(q.name)))return;let W=$.mapper.toViewRange(z.range);if(null!==z.attributeOldValue&&!(D instanceof R.a)){const U=D(z.attributeOldValue,z,K,$);W=L.a.unwrap(W,U)}L.a.wrap(W,H)}},r.c=function(D){return(q,z,K,$)=>{const H=D instanceof R.a?D.clone(!0):D(z.attributeOldValue,z,K,$);if(H&&K.consume(z.item,F(q.name))){const W=$.mapper.toViewRange(z.range);L.a.unwrap(W,H)}}},r.d=function(D){return(q,z,K,$)=>{const H=D instanceof R.a?D.clone(!0):D(z,K,$);if(H&&K.consume(z.range,'addMarker')){const W=$.mapper.toViewRange(z.range),U=L.a.breakViewRangePerContainer(W);for(let Z of U)L.a.wrap(Z,H)}}},r.e=function(D){return(q,z,K,$)=>{const H=D instanceof R.a?D.clone(!0):D(z,K,$);if(H&&K.consume(z.range,'removeMarker')){const W=$.mapper.toViewRange(z.range),U=L.a.breakViewRangePerContainer(W);for(let Z of U)L.a.unwrap(Z,H)}}},r.k=function(){return(D,q,z,K)=>{if(!z.consume(q.item,'remove'))return;const $=K.mapper.toViewPosition(q.sourcePosition);let H;if(q.item.is('element'))H=M.a.createOn($.nodeAfter);else{const W=O($,q.item.offsetSize);H=new M.a($,W)}L.a.remove(H.getTrimmed()),'$graveyard'==q.item.root.rootName&&K.mapper.unbindModelElement(q.item)}},r.g=function(D){return(q,z,K,$)=>{let H,W;if((D instanceof R.a?(H=D.clone(!0),W=D.clone(!0)):(z.isOpening=!0,H=D(z,K,$),z.isOpening=!1,W=D(z,K,$)),H&&W)&&K.consume(z.range,'removeMarker')){const U=$.mapper.toViewRange(z.range);L.a.clear(U.getEnlarged(),W),H.isSimilar(W)||L.a.clear(U.getEnlarged(),H)}}}},function(o,r,s){'use strict';var d=s(20),u=s(104),f=s(18),h=s(39),w=s(17),C=s(13),T=s(49),P=s(3),S=s(1);class E extends d.a{get type(){return'insert'}get position(){return this._insertOperation?this._insertOperation.position:null}get nodes(){return this._insertOperation?this._insertOperation.nodes:null}get _insertOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return u.a}static get className(){return'engine.model.delta.InsertDelta'}static get _priority(){return 20}}r.a=E,s.i(w.b)('insert',function(O,V){const F=s.i(C.b)(V);if(0===F.length)return this;const R=new E,N=new h.a(O,F,this.document.version);if(this.addDelta(R),R.addOperation(N),this.document.applyOperation(N),V instanceof T.a)for(const[M,I]of V.markers){const L=S.a.createAt(I.root),D=new P.a(I.start._getCombined(L,O),I.end._getCombined(L,O));this.setMarker(M,D)}return this}),f.a.register(E)},function(o,r,s){'use strict';var d=s(20),u=s(18),f=s(105),h=s(17),w=s(1),C=s(5),T=s(40),P=s(28),S=s(0);class E extends d.a{get type(){return'merge'}get position(){return this._removeOperation?this._removeOperation.sourcePosition:null}getReversed(){let O=super.getReversed();return 0<O.operations.length&&(O.operations[1].isSticky=!1),O}get _removeOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return f.a}static get className(){return'engine.model.delta.MergeDelta'}}r.a=E,s.i(h.b)('merge',function(O){const V=new E;this.addDelta(V);const F=O.nodeBefore,R=O.nodeAfter;if(!(F instanceof C.a))throw new S.a('batch-merge-no-element-before: Node before merge position must be an element.');if(!(R instanceof C.a))throw new S.a('batch-merge-no-element-after: Node after merge position must be an element.');const N=w.a.createFromParentAndOffset(R,0),M=w.a.createFromParentAndOffset(F,F.maxOffset),I=new P.a(N,R.maxOffset,M,this.document.version);I.isSticky=!0,V.addOperation(I),this.document.applyOperation(I);const L=new T.a(O,1,this.document.version);return V.addOperation(L),this.document.applyOperation(L),this}),u.a.register(E)},function(o,r,s){'use strict';function d(E,O,V,F,R){const N=new w.a(V,F,R,E.document.version);O.addOperation(N),E.document.applyOperation(N)}var u=s(20),f=s(18),h=s(17),w=s(28),C=s(1),T=s(3),P=s(0);class S extends u.a{get type(){return'move'}get howMany(){return this._moveOperation?this._moveOperation.howMany:null}get sourcePosition(){return this._moveOperation?this._moveOperation.sourcePosition:null}get targetPosition(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return S}static get className(){return'engine.model.delta.MoveDelta'}static get _priority(){return 20}}r.a=S,s.i(h.b)('move',function(E,O){const V=new S;if(this.addDelta(V),E instanceof T.a){if(!E.isFlat)throw new P.a('batch-move-range-not-flat: Range to move is not flat.');d(this,V,E.start,E.end.offset-E.start.offset,O)}else d(this,V,C.a.createBefore(E),1,O);return this}),f.a.register(S)},function(o,r,s){'use strict';function d(S,E,O,V){const F=new w.a(O,V,S.document.version);E.addOperation(F),S.document.applyOperation(F)}var u=s(103),f=s(17),h=s(18),w=s(40),C=s(1),T=s(3);class P extends u.a{static get className(){return'engine.model.delta.RemoveDelta'}}r.a=P,s.i(f.b)('remove',function(S){const E=new P;if(this.addDelta(E),S instanceof T.a){let O=S.getMinimalFlatRanges().reverse();for(let V of O)d(this,E,V.start,V.end.offset-V.start.offset)}else d(this,E,C.a.createBefore(S),1);return this}),h.a.register(P)},function(o,r,s){'use strict';var d=s(20),u=s(18),f=s(17),h=s(1),w=s(5),C=s(39),T=s(28),P=s(0),S=s(102);class E extends d.a{get type(){return'split'}get position(){return this._moveOperation?this._moveOperation.sourcePosition:null}getReversed(){let O=super.getReversed();return 0<O.operations.length&&(O.operations[0].isSticky=!0),O}get _cloneOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return S.a}static get className(){return'engine.model.delta.SplitDelta'}static get _priority(){return 5}}r.a=E,s.i(f.b)('split',function(O){const V=new E;this.addDelta(V);const F=O.parent;if(!F.parent)throw new P.a('batch-split-root: Root element can not be split.');const R=new w.a(F.name,F.getAttributes()),N=new C.a(h.a.createAfter(F),R,this.document.version);V.addOperation(N),this.document.applyOperation(N);const M=new T.a(O,F.maxOffset-O.offset,h.a.createFromParentAndOffset(R,0),this.document.version);return M.isSticky=!0,V.addOperation(M),this.document.applyOperation(M),this}),u.a.register(E)},function(o,r,s){'use strict';function d(N,M,I){const L=w(N,M)||f,D=L(N,M,I),q=F.a.last(M.operations).baseVersion;return u(q,D)}function u(N,M){for(let I of M)for(let L of I.operations)L.baseVersion=++N;return M}function f(N,M,I){I=C(N.constructor,M.constructor,I);const L=new N.constructor;let D=M.operations,q=[];for(let z of N.operations){const K=[z];for(let $ of D)for(let H=0;H<K.length;H++){const W=K[H];Array.prototype.push.apply(q,s.i(O.a)($,W,!I));const U=s.i(O.a)(W,$,I);Array.prototype.splice.apply(K,[H,1].concat(U)),H+=U.length-1}D=q,q=[];for(let $ of K)L.addOperation($)}return[L]}function w(N,M){let I=R.get(N.constructor);if(!I||!I.get(M.constructor)){const L=R.keys();for(let D of L)if(N instanceof D&&R.get(D).get(M.constructor)){I=R.get(D);break}}return I?I.get(M.constructor):void 0}function C(N,M,I){return!!(N._priority>M._priority)||!(N._priority<M._priority)&&I}function P(N){return N.reduce((M,I)=>{return M+I.operations.length},0)}function S(N,M){const I=N[N.length-1];let L=I.operations.length+I.baseVersion,D=new E.a;for(let q=0;q<M;q++)D.addOperation(new V.a(L++));N.push(D)}var E=s(20),O=s(314),V=s(73),F=s(480);r.c=f,r.b=function(N,M,I){let L=R.get(N);L||(L=new Map,R.set(N,L)),L.set(M,I)},r.a=function(N,M,I){let L=Array.from(N),D=Array.from(M);for(let K=0,$;K<L.length;K++){$=[L[K]];for(let H=0,W;H<D.length;H++){W=[D[H]];for(let U=0;U<$.length;U++)for(let Z=0;Z<W.length;Z++){let G=d($[U],W[Z],I),J=d(W[Z],$[U],!I);$.splice(U,1,...G),U+=G.length-1,W.splice(Z,1,...J),Z+=J.length-1}D.splice(H,1,...W),H+=W.length-1}L.splice(K,1,...$),K+=$.length-1}const q=P(L)-P(N),z=P(D)-P(M);return z<q?S(D,q-z):q<z&&S(L,z-q),{deltasA:L,deltasB:D}};const R=new Map},function(o,r,s){'use strict';var d=s(20),u=s(18),f=s(108),h=s(17),w=s(1),C=s(40),T=s(28),P=s(0);class S extends d.a{get type(){return'unwrap'}get position(){return this._moveOperation?this._moveOperation.targetPosition:null}get _moveOperation(){return this.operations[0]||null}get _reverseDeltaClass(){return f.a}static get className(){return'engine.model.delta.UnwrapDelta'}static get _priority(){return 10}}r.a=S,s.i(h.b)('unwrap',function(E){if(null===E.parent)throw new P.a('batch-unwrap-element-no-parent: Trying to unwrap an element which has no parent.');const O=new S;this.addDelta(O);let V=w.a.createFromParentAndOffset(E,0);const F=new T.a(V,E.maxOffset,w.a.createBefore(E),this.document.version);F.isSticky=!0,O.addOperation(F),this.document.applyOperation(F);const R=new C.a(w.a.createBefore(E),1,this.document.version);return O.addOperation(R),this.document.applyOperation(R),this}),u.a.register(S)},function(o,r,s){'use strict';var d=s(20),u=s(18),f=s(107),h=s(17),w=s(1),C=s(3),T=s(5),P=s(39),S=s(28),E=s(0);class O extends d.a{get type(){return'wrap'}get range(){let V=this._moveOperation;return V?C.a.createFromPositionAndShift(V.sourcePosition,V.howMany):null}get howMany(){let V=this.range;return V?V.end.offset-V.start.offset:0}get _insertOperation(){return this.operations[0]||null}get _moveOperation(){return this.operations[1]||null}get _reverseDeltaClass(){return f.a}static get className(){return'engine.model.delta.WrapDelta'}static get _priority(){return 10}}r.a=O,s.i(h.b)('wrap',function(V,F){if(!V.isFlat)throw new E.a('batch-wrap-range-not-flat: Range to wrap is not flat.');let R=F instanceof T.a?F:new T.a(F);if(0<R.childCount)throw new E.a('batch-wrap-element-not-empty: Element to wrap with is not empty.');if(null!==R.parent)throw new E.a('batch-wrap-element-attached: Element to wrap with is already attached to tree model.');const N=new O;this.addDelta(N);let M=new P.a(V.end,R,this.document.version);N.addOperation(M),this.document.applyOperation(M);let I=w.a.createFromParentAndOffset(R,0),L=new S.a(V.start,V.end.offset-V.start.offset,I,this.document.version);return N.addOperation(L),this.document.applyOperation(L),this}),u.a.register(O)},function(o,r,s){'use strict';function d(){const T=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(P,S,E,O,V)=>{T.has(S)&&u.call(this,S,V,E.range,E.sourcePosition)},{priority:'high'})}function u(T,P,S,E){const O=S.end.offset-S.start.offset;let V=S.start;'move'==T&&(V=V._getTransformedByInsertion(E,O));const F=this._getTransformedByDocumentChange(T,P,V,O,E);'move'==T&&3==F.length&&(F[2]=S);const R=f.a.createFromRanges(F);if(!R.isEqual(this)){const N=f.a.createFromRange(this);this.start=R.start,this.end=R.end,this.fire('change',N)}}var f=s(3),h=s(7),w=s(4);class C extends f.a{constructor(T,P){super(T,P),d.call(this)}detach(){this.stopListening()}}r.a=C,s.i(w.a)(C,h.a)},function(o,r,s){'use strict';var d=s(32),u=s(3);class f extends d.a{constructor(h,w,C,T,P){super(P),this.name=h,this.oldRange=w?u.a.createFromRange(w):null,this.newRange=C?u.a.createFromRange(C):null,this._markers=T}get type(){return'marker'}clone(){return new f(this.name,this.oldRange,this.newRange,this._markers,this.baseVersion)}getReversed(){return new f(this.name,this.newRange,this.oldRange,this._markers,this.baseVersion+1)}_execute(){const h=this.newRange?'set':'remove';return this._markers[h](this.name,this.newRange),{name:this.name,type:h}}toJSON(){const h=super.toJSON();return delete h._markers,h}static get className(){return'engine.model.operation.MarkerOperation'}static fromJSON(h,w){return new f(h.name,h.oldRange?u.a.fromJSON(h.oldRange,w):null,h.newRange?u.a.fromJSON(h.newRange,w):null,w.markers,h.baseVersion)}}r.a=f},function(o,r,s){'use strict';var d=s(28),u=s(40);class f extends d.a{get position(){return this.targetPosition}set position(h){this.targetPosition=h}get type(){return'reinsert'}getReversed(){const h=new u.a(this.targetPosition,this.howMany,this.baseVersion+1);return h.targetPosition=this.sourcePosition,h._needsHolderElement=!1,h}static get className(){return'engine.model.operation.ReinsertOperation'}}r.a=f},function(o,r,s){'use strict';var d=s(32),u=s(5),f=s(0),h=s(1);class w extends d.a{constructor(C,T,P,S){super(S),this.position=C,this.oldName=T,this.newName=P}get type(){return'rename'}clone(){return new w(h.a.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new w(h.a.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_execute(){const C=this.position.nodeAfter;if(!(C instanceof u.a))throw new f.a('rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.');else if(C.name!==this.oldName)throw new f.a('rename-operation-wrong-name: Element to change has different name than operation\'s old name.');return this.oldName==this.newName?void 0:(C.name=this.newName,{element:C,oldName:this.oldName})}static get className(){return'engine.model.operation.RenameOperation'}static fromJSON(C,T){return new w(h.a.fromJSON(C.position,T),C.oldName,C.newName,C.baseVersion)}}r.a=w},function(o,r,s){'use strict';var d=s(32),u=s(0);class f extends d.a{constructor(h,w,C,T,P){super(P),this.root=h,this.key=w,this.oldValue=C,this.newValue=T}get type(){return null===this.oldValue?'addRootAttribute':null===this.newValue?'removeRootAttribute':'changeRootAttribute'}clone(){return new f(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new f(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_execute(){if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new u.a('rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation\'s old attribute value.',{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new u.a('rootattribute-operation-attribute-exists: The attribute with given key already exists.',{root:this.root,key:this.key});return null===this.newValue?this.root.removeAttribute(this.key):this.root.setAttribute(this.key,this.newValue),{root:this.root,key:this.key,oldValue:this.oldValue,newValue:this.newValue}}static get className(){return'engine.model.operation.RootAttributeOperation'}static fromJSON(h,w){if(!w.hasRoot(h.root))throw new u.a('rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.',{rootName:h});return new f(w.getRoot(h.root),h.key,h.oldValue,h.newValue,h.baseVersion)}}r.a=f},function(o,r,s){'use strict';function d(){if(this.childCount)return null;let w=this.parent;for(;w&&w.is('attributeElement');){if(1<w.childCount)return null;w=w.parent}return!w||1<w.childCount?null:0}var u=s(21);const f=10;class h extends u.a{constructor(w,C,T){super(w,C,T),this.priority=f,this.getFillerOffset=d}is(w,C=null){return C?'attributeElement'==w&&C==this.name||super.is(w,C):'attributeElement'==w||super.is(w)}clone(w){const C=super.clone(w);return C.priority=this.priority,C}isSimilar(w){return super.isSimilar(w)&&this.priority==w.priority}}r.a=h,h.DEFAULT_PRIORITY=f},function(o,r,s){'use strict';function d(T){return'string'==typeof T?[new u.a(T)]:(s.i(h.a)(T)||(T=[T]),Array.from(T).map((P)=>'string'==typeof P?new u.a(P):P))}var u=s(29),f=s(4),h=s(43),w=s(7);class C{constructor(T){this._children=[],T&&this.insertChildren(0,T)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(T){return'documentFragment'==T}appendChildren(T){return this.insertChildren(this.childCount,T)}getChild(T){return this._children[T]}getChildIndex(T){return this._children.indexOf(T)}getChildren(){return this._children[Symbol.iterator]()}insertChildren(T,P){this._fireChange('children',this);let S=0;P=d(P);for(let E of P)E.parent=this,this._children.splice(T,0,E),T++,S++;return S}removeChildren(T,P=1){this._fireChange('children',this);for(let S=T;S<T+P;S++)this._children[S].parent=null;return this._children.splice(T,P)}_fireChange(T,P){this.fire('change:'+T,P)}}r.a=C,s.i(f.a)(C,w.a)},function(o,r,s){'use strict';var d=s(45);class u{constructor(f,h,w){this.document=f,this.domEvent=h,this.domTarget=h.target,s.i(d.a)(this,w)}get target(){return this.document.domConverter.getCorrespondingViewElement(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}r.a=u},function(o,r){'use strict';function d(f){return f.focus}class u{constructor(f){if(Object.assign(this,f),f.actions&&f.keystrokeHandler)for(let h in f.actions){let w=f.actions[h];'string'==typeof w&&(w=[w]);for(let C of w)f.keystrokeHandler.set(C,(T,P)=>{this[h](),P()})}}get first(){return this.focusables.find(d)||null}get last(){return this.focusables.filter(d).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let f=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((h,w)=>{const C=h.element===this.focusTracker.focusedElement;return C&&(f=w),C}),f)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(f){f&&f.focus()}_getFocusableItem(f){const h=this.current,w=this.focusables.length;if(!w||null===h)return null;let C=(h+w+f)%w;do{let T=this.focusables.get(C);if(d(T))return T;C=(C+w+f)%w}while(C!==h);return null}}r.a=u},function(o,r,s){'use strict';function d(T){return T.every((P)=>'string'==typeof P)}var u=s(0),f=s(31),h=s(78),w=s(4);class C extends h.a{constructor(T){super({idProperty:'viewUid'}),this.on('add',(P,S,E)=>{S.element&&this._parentElement&&this._parentElement.insertBefore(S.element,this._parentElement.children[E])}),this.on('remove',(P,S)=>{S.element&&this._parentElement&&S.element.remove()}),this.locale=T,this.set('ready',!1),this._parentElement=null}init(){if(this.ready)throw new u.a('ui-viewcollection-init-reinit: This ViewCollection has already been initialized.');return Promise.all(this.map((T)=>T.init())).then(()=>{this.ready=!0})}destroy(){let T=[];for(let P of this)T.push(P.destroy());return Promise.all(T)}add(T,P){super.add(T,P);let S=Promise.resolve();return this.ready&&!T.ready&&(S=S.then(()=>{return T.init()})),S}setParent(T){this._parentElement=T}delegate(...T){if(!T.length||!d(T))throw new u.a('ui-viewcollection-delegate-wrong-events: All event names must be strings.');return{to:(P)=>{for(let S of this)for(let E of T)S.delegate(E).to(P);this.on('add',(S,E)=>{for(let O of T)E.delegate(O).to(P)}),this.on('remove',(S,E)=>{for(let O of T)E.stopDelegating(O,P)})}}}}r.a=C,s.i(w.a)(h.a,f.a)},function(o,r,s){'use strict';function d(w,C){let T=u([w],C);T.sort((P,S)=>P.start.isBefore(S.start)?-1:1);for(let P=1;P<T.length;P++){let S=T[P-1],E=T[P];S.end.isTouching(E.start)&&(S.end=E.end,T.splice(P,1),P--)}return T}function u(w,C){for(let T of C)for(let P of T.operations)for(let S=0;S<w.length;S++){let E;switch(P.type){case'insert':E=w[S]._getTransformedByInsertion(P.position,P.nodes.maxOffset,!0);break;case'move':case'remove':case'reinsert':E=w[S]._getTransformedByMove(P.sourcePosition,P.targetPosition,P.howMany,!0);}E&&(w.splice(S,1,...E),S=S+E.length-1)}return w}var f=s(11);r.b=u;class h extends f.a{constructor(w){super(w),this._stack=[],this._createdBatches=new WeakSet,this.refreshState()}addBatch(w){const C={ranges:Array.from(this.editor.document.selection.getRanges()),isBackward:this.editor.document.selection.isBackward};this._stack.push({batch:w,selection:C}),this.refreshState()}clearStack(){this._stack=[],this.refreshState()}_checkEnabled(){return 0<this._stack.length}_restoreSelection(w,C,T){const P=this.editor.document,S=[];for(let E of w){const O=d(E,T),V=O.find((F)=>F.start.root!=P.graveyard);V&&S.push(V)}S.length&&P.selection.setRanges(S,C)}}r.a=h},function(o,r,s){'use strict';function d(T){var P=-1,S=T?T.length:0;for(this.clear();++P<S;){var E=T[P];this.set(E[0],E[1])}}var u=s(464),f=s(465),h=s(466),w=s(467),C=s(468);d.prototype.clear=u.a,d.prototype['delete']=f.a,d.prototype.get=h.a,d.prototype.has=w.a,d.prototype.set=C.a,r.a=d},function(o,r,s){'use strict';function d(P){this.__data__=new u.a(P)}var u=s(80),f=s(473),h=s(474),w=s(475),C=s(476),T=s(477);d.prototype.clear=f.a,d.prototype['delete']=h.a,d.prototype.get=w.a,d.prototype.has=C.a,d.prototype.set=T.a,r.a=d},function(o,r,s){'use strict';var d=s(30),u=d.a.Symbol;r.a=u},function(o,r,s){'use strict';var u=s(126);r.a=function(f,h){return!!f.length&&-1<s.i(u.a)(f,h,0)}},function(o,r){'use strict';r.a=function(u,f,h){for(var w=-1,C=u.length;++w<C;)if(h(f,u[w]))return!0;return!1}},function(o,r,s){'use strict';var u=s(87),f=s(53),h=s(54);r.a=function(w,C){C=s.i(f.a)(C,w)?[C]:s.i(u.a)(C);for(var T=0,P=C.length;null!=w&&T<P;)w=w[s.i(h.a)(C[T++])];return T&&T==P?w:void 0}},function(o,r,s){'use strict';var u=s(204);r.a=function(f,h,w){if(h!==h)return s.i(u.a)(f,w);for(var C=w-1,T=f.length;++C<T;)if(f[C]===h)return C;return-1}},function(o,r,s){'use strict';var u=s(81),f=s(123),h=s(124),w=s(27),C=s(132),T=s(134);r.a=function(S,E,O){for(var V=O?h.a:f.a,F=S[0].length,R=S.length,N=R,M=Array(R),I=Infinity,L=[],D;N--;)D=S[N],N&&E&&(D=s.i(w.a)(D,s.i(C.a)(E))),I=_Mathmin(D.length,I),M[N]=!O&&(E||120<=F&&120<=D.length)?new u.a(N&&D):void 0;D=S[0];var q=-1,z=M[0];outer:for(;++q<F&&L.length<I;){var K=D[q],$=E?E(K):K;if(K=O||0!==K?K:0,z?!s.i(T.a)(z,$):!V(L,$,O)){for(N=R;--N;){var H=M[N];if(H?!s.i(T.a)(H,$):!V(S[N],$,O))continue outer}z&&z.push($),L.push(K)}}return L}},function(o,r,s){'use strict';function d(w,C,T,P,S){return!(w!==C)||(null!=w&&null!=C&&(s.i(f.a)(w)||s.i(h.a)(C))?s.i(u.a)(w,C,d,T,P,S):w!==w&&C!==C)}var u=s(418),f=s(15),h=s(46);r.a=d},function(o,r){'use strict';r.a=function(u){return function(f){return null==f?void 0:f[u]}}},function(o,r,s){'use strict';var u=s(27),f=s(126),h=s(417),w=s(132),C=Array.prototype,T=C.splice;r.a=function(P,S,E,O){var V=O?h.a:f.a,F=-1,R=S.length,N=P;for(E&&(N=s.i(u.a)(P,s.i(w.a)(E)));++F<R;)for(var M=0,I=S[F],L=E?E(I):I;-1<(M=V(N,L,M,O));)N!==P&&T.call(N,M,1),T.call(P,M,1);return P}},function(o,r,s){'use strict';var u=s(47);r.a=function(T,P,S,E){P=S(P);for(var O=0,V=T?T.length:0,F=P!==P,R=null===P,N=s.i(u.a)(P),M=void 0===P;O<V;){var I=_Mathfloor((O+V)/2),L=S(T[I]),D=L!==void 0,q=null===L,z=L===L,K=s.i(u.a)(L);if(F)var $=E||z;else $=M?z&&(E||D):R?z&&D&&(E||!q):N?z&&D&&!q&&(E||!K):q||K?!1:E?L<=P:L<P;$?O=I+1:V=I}return _Mathmin(V,4294967295-1)}},function(o,r){'use strict';r.a=function(u){return function(f){return u(f)}}},function(o,r,s){'use strict';var u=s(83),f=s(68),h=s(44);r.a=function(w,C,T){for(var P=-1,S=w.length,E;++P<S;)E=E?s.i(u.a)(s.i(f.a)(E,w[P],C,T),s.i(f.a)(w[P],E,C,T)):w[P];return E&&E.length?s.i(h.a)(E,C,T):[]}},function(o,r){'use strict';r.a=function(u,f){return u.has(f)}},function(o,r,s){'use strict';var u=s(14);r.a=function(f){return s.i(u.a)(f)?f:[]}},function(o,r,s){'use strict';var u=s(190);r.a=function(f){var h=new f.constructor(f.byteLength);return new u.a(h).set(new u.a(f)),h}},function(o,r,s){'use strict';var u=s(67);r.a=function(f,h,w,C){w||(w={});for(var T=-1,P=h.length;++T<P;){var S=h[T],E=C?C(w[S],f[S],S,w,f):f[S];s.i(u.a)(w,S,E)}return w}},function(o,r){'use strict';var u=Object.getPrototypeOf;r.a=function(f){return u(Object(f))}},function(o,r,s){'use strict';function d(z){return N.call(z)}var u=s(401),f=s(188),h=s(403),w=s(189),C=s(405),T=s(207),P='[object Map]',E='[object Promise]',O='[object Set]',V='[object WeakMap]',F='[object DataView]',R=Object.prototype,N=R.toString,M=s.i(T.a)(u.a),I=s.i(T.a)(f.a),L=s.i(T.a)(h.a),D=s.i(T.a)(w.a),q=s.i(T.a)(C.a);(u.a&&d(new u.a(new ArrayBuffer(1)))!=F||f.a&&d(new f.a)!=P||h.a&&d(h.a.resolve())!=E||w.a&&d(new w.a)!=O||C.a&&d(new C.a)!=V)&&(d=function(z){var K=N.call(z),$=K=='[object Object]'?z.constructor:void 0,H=$?s.i(T.a)($):void 0;if(H)switch(H){case M:return F;case I:return P;case L:return E;case D:return O;case q:return V;}return K}),r.a=d},function(o,r){'use strict';r.a=function(u){var f=-1,h=Array(u.size);return u.forEach(function(w,C){h[++f]=[C,w]}),h}},function(o,r,s){'use strict';var u=s(15),f=s(492),h=s(255);r.a=function(P,S,E){function O(Q){var Y=q,X=z;return q=z=void 0,U=Q,$=P.apply(X,Y),$}function V(Q){return U=Q,H=setTimeout(N,S),Z?O(Q):$}function F(Q){var Y=Q-W,X=Q-U,ee=S-Y;return G?_Mathmin(ee,K-X):ee}function R(Q){var Y=Q-W,X=Q-U;return!W||Y>=S||0>Y||G&&X>=K}function N(){var Q=s.i(f.a)();return R(Q)?M(Q):void(H=setTimeout(N,F(Q)))}function M(Q){return(clearTimeout(H),H=void 0,J&&q)?O(Q):(q=z=void 0,$)}function D(){var Q=s.i(f.a)(),Y=R(Q);if(q=arguments,z=this,W=Q,Y){if(void 0===H)return V(W);if(G)return clearTimeout(H),H=setTimeout(N,S),O(W)}return void 0===H&&(H=setTimeout(N,S)),$}var W=0,U=0,Z=!1,G=!1,J=!0,q,z,K,$,H;if('function'!=typeof P)throw new TypeError('Expected a function');return S=s.i(h.a)(S)||0,s.i(u.a)(E)&&(Z=!!E.leading,G='maxWait'in E,K=G?_Mathmax(s.i(h.a)(E.maxWait)||0,S):K,J='trailing'in E?!!E.trailing:J),D.cancel=function(){void 0!==H&&clearTimeout(H),W=U=0,q=z=H=void 0},D.flush=function(){return void 0===H?$:M(s.i(f.a)())},D}},function(o,r,s){'use strict';var u=s(35),f=s(16);r.a=function(h,w,C){var T=h?h.length:0;return T?(w=C||void 0===w?1:s.i(f.a)(w),s.i(u.a)(h,0>w?0:w,T)):[]}},function(o,r,s){'use strict';var u=s(35),f=s(16);r.a=function(h,w,C){var T=h?h.length:0;return T?(w=C||void 0===w?1:s.i(f.a)(w),w=T-w,s.i(u.a)(h,0,0>w?0:w)):[]}},function(o,r){'use strict';r.a=function(u){return u&&u.length?u[0]:void 0}},function(o,r,s){'use strict';var u=s(14),h=Object.prototype,w=h.hasOwnProperty,C=h.toString,T=h.propertyIsEnumerable;r.a=function(P){return s.i(u.a)(P)&&w.call(P,'callee')&&(!T.call(P,'callee')||C.call(P)=='[object Arguments]')}},function(o,r,s){'use strict';var u=s(15),w=Object.prototype,C=w.toString;r.a=function(T){var P=s.i(u.a)(T)?C.call(T):'';return P=='[object Function]'||P=='[object GeneratorFunction]'}},function(o,r,s){'use strict';var u=s(12),f=s(46),w=Object.prototype,C=w.toString;r.a=function(T){return'string'==typeof T||!s.i(u.a)(T)&&s.i(f.a)(T)&&C.call(T)=='[object String]'}},function(o,r,s){'use strict';var u=s(130);r.a=function(f,h){return f&&f.length&&h&&h.length?s.i(u.a)(f,h):f}},function(o,r,s){'use strict';var u=s(191),f=s(27),h=s(98);r.a=function(w,C){if(!(w&&w.length))return[];var T=s.i(h.a)(w);return null==C?T:s.i(f.a)(T,function(P){return s.i(u.a)(C,void 0,P)})}},function(o,r,s){'use strict';var u=s(97),f=s(270);r.a=function(h){return s.i(u.a)(h)?s.i(f.a)(h):new Map(h)}},function(o,r){'use strict';function f(O,V){O.setCustomProperty(P,V)}function C(){return null}r.b=function(O){return!!O.getCustomProperty(T)},r.a=function(O,V){return V=V||{},O.setAttribute('contenteditable',!1),O.getFillerOffset=C,O.addClass(S),O.setCustomProperty(T,!0),V.label&&f(O,V.label),O},r.e=function(O){const V=O.getCustomProperty(P);return V?'function'==typeof V?V():V:''},r.c=function(O){return O.setAttribute('contenteditable','true'),O.addClass('ck-editable'),O.on('change:isFocused',(V,F,R)=>{R?O.addClass('ck-editable_focused'):O.removeClass('ck-editable_focused')}),O};const T=Symbol('isWidget'),P=Symbol('label'),S='ck-widget';r.d='ck-widget_selected'},function(o,r,s){'use strict';var d=s(2),u=s(37),f=s(38),h=s(155);const w='bold';class C extends d.a{init(){const T=this.editor,P=T.data,S=T.editing;T.document.schema.allow({name:'$inline',attributes:[w]}),s.i(u.a)().for(P.modelToView,S.modelToView).fromAttribute(w).toElement('strong'),s.i(f.a)().for(P.viewToModel).fromElement('strong').fromElement('b').fromAttribute('style',{'font-weight':'bold'}).toAttribute(w,!0),T.commands.set(w,new h.a(T,w))}}r.a=C},function(o,r,s){'use strict';var d=s(2),u=s(37),f=s(38),h=s(155);const w='italic';class C extends d.a{init(){const T=this.editor,P=T.data,S=T.editing;T.document.schema.allow({name:'$inline',attributes:[w]}),s.i(u.a)().for(P.modelToView,S.modelToView).fromAttribute(w).toElement('em'),s.i(f.a)().for(P.viewToModel).fromElement('em').fromElement('i').fromAttribute('style',{'font-style':'italic'}).toAttribute(w,!0),T.commands.set(w,new h.a(T,w))}}r.a=C},function(o,r,s){'use strict';var u=s(33);r.a=function(f,h,w){if(h.isCollapsed)return w.check({name:'$text',inside:h.getFirstPosition(),attributes:f});const C=h.getRanges();for(let T of C){const P=new u.a({boundaries:T,mergeCharacters:!0});for(let S=P.position,E=P.next();!E.done;){const O=E.value.item.name||'$text';if(w.check({name:O,inside:S,attributes:f}))return!0;S=P.position,E=P.next()}}return!1}},function(o,r,s){'use strict';var d=s(11),u=s(99),f=s(154);class h extends d.a{constructor(w,C){super(w),this.attributeKey=C,this.set('value',!1),this.listenTo(this.editor.document.selection,'change:attribute',()=>{this.value=this.editor.document.selection.hasAttribute(this.attributeKey)})}_checkEnabled(){const w=this.editor.document;return s.i(f.a)(this.attributeKey,w.selection,w.schema)}_doExecute(w={}){const C=this.editor.document,T=C.selection,P=w.forceValue===void 0?!this.value:w.forceValue;C.enqueueChanges(()=>{if(T.isCollapsed)P?T.setAttribute(this.attributeKey,!0):T.removeAttribute(this.attributeKey);else{const S=s.i(u.a)(this.attributeKey,T.getRanges(),C.schema),E=w.batch||C.batch();for(let O of S)P?E.setAttribute(O,this.attributeKey,P):E.removeAttribute(O,this.attributeKey)}})}}r.a=h},function(o,r,s){'use strict';var d=s(1),u=s(3),f=s(26),h=s(34),w=s(29),C=s(7),T=s(4);class P{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this.on('modelToViewPosition',(S,E)=>{if(!E.viewPosition){let O=this._modelToViewMapping.get(E.modelPosition.parent);E.viewPosition=this._findPositionIn(O,E.modelPosition.offset)}},{priority:'low'}),this.on('viewToModelPosition',(S,E)=>{if(E.modelPosition)return;let O=E.viewPosition.parent,V=this._viewToModelMapping.get(O);for(;!V;)O=O.parent,V=this._viewToModelMapping.get(O);let F=this._toModelOffset(E.viewPosition.parent,E.viewPosition.offset,O);E.modelPosition=d.a.createFromParentAndOffset(V,F)},{priority:'low'})}bindElements(S,E){this._modelToViewMapping.set(S,E),this._viewToModelMapping.set(E,S)}unbindViewElement(S){const E=this.toModelElement(S);this._unbindElements(E,S)}unbindModelElement(S){const E=this.toViewElement(S);this._unbindElements(S,E)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap}toModelElement(S){return this._viewToModelMapping.get(S)}toViewElement(S){return this._modelToViewMapping.get(S)}toModelRange(S){return new u.a(this.toModelPosition(S.start),this.toModelPosition(S.end))}toViewRange(S){return new h.a(this.toViewPosition(S.start),this.toViewPosition(S.end))}toModelPosition(S){const E={viewPosition:S,mapper:this};return this.fire('viewToModelPosition',E),E.modelPosition}toViewPosition(S){const E={modelPosition:S,mapper:this};return this.fire('modelToViewPosition',E),E.viewPosition}registerViewToModelLength(S,E){this._viewToModelLengthCallbacks.set(S,E)}_toModelOffset(S,E,O){if(O!=S){const F=this._toModelOffset(S.parent,S.index,O),R=this._toModelOffset(S,E,S);return F+R}if(S.is('text'))return E;let V=0;for(let F=0;F<E;F++)V+=this.getModelLength(S.getChild(F));return V}_unbindElements(S,E){this._viewToModelMapping.delete(E),this._modelToViewMapping.delete(S)}getModelLength(S){if(this._viewToModelLengthCallbacks.get(S.name)){const E=this._viewToModelLengthCallbacks.get(S.name);return E(S)}if(this._viewToModelMapping.has(S))return 1;if(S.is('text'))return S.data.length;if(S.is('uiElement'))return 0;let E=0;for(let O of S.getChildren())E+=this.getModelLength(O);return E}_findPositionIn(S,E){let O,V=0,F=0,R=0;if(S.is('text'))return new f.a(S,E);for(;F<E;)O=S.getChild(R),V=this.getModelLength(O),F+=V,R++;return F==E?this._moveViewPositionToTextNode(new f.a(S,R)):this._findPositionIn(O,E-(F-V))}_moveViewPositionToTextNode(S){const E=S.nodeBefore,O=S.nodeAfter;if(E instanceof w.a)return new f.a(E,E.data.length);return O instanceof w.a?new f.a(O,0):S}}r.a=P,s.i(T.a)(P,C.a)},function(o,r,s){'use strict';function w(O,V,F,R,N){if(!O.isCollapsed)return;if(!R.consume(O,N))return;let M=V.getFirstPosition();M=E.a.wrapPosition(M,F),V.removeAllRanges(),V.addRange(new S.a(M,M))}var P=s(21),S=s(34),E=s(76);r.e=function(){return(O,V,F,R)=>{const N=V.selection;if(!N.isCollapsed&&F.consume(N,'selection')){R.viewSelection.removeAllRanges();for(let M of N.getRanges()){const I=R.mapper.toViewRange(M);R.viewSelection.addRange(I,N.isBackward)}}}},r.f=function(){return(O,V,F,R)=>{const N=V.selection;if(N.isCollapsed&&F.consume(N,'selection')){const M=N.getFirstPosition(),I=R.mapper.toViewPosition(M),L=E.a.breakAttributes(I);R.viewSelection.removeAllRanges(),R.viewSelection.addRange(new S.a(L,L))}}},r.a=function(O){return(V,F,R,N)=>{const M=O instanceof P.a?O.clone(!0):O(F.value,F,F.selection,R,N);if(M){const I='selectionAttribute:'+F.key;w(F.selection,N.viewSelection,M,R,I)}}},r.b=function(O){return(V,F,R,N)=>{const M=O instanceof P.a?O.clone(!0):O(F,R,N);if(M){const I='selectionMarker:'+F.name;w(F.selection,N.viewSelection,M,R,I)}}},r.c=function(){return(O,V,F,R)=>{for(let N of R.viewSelection.getRanges())N.isCollapsed&&N.end.parent.document&&E.a.mergeAttributes(N.start);R.viewSelection.removeAllRanges()}},r.d=function(){return(O,V,F,R)=>R.viewSelection.setFake(!1)}},function(o,r,s){'use strict';var d=s(300),u=s(3),f=s(1),h=s(49),w=s(7),C=s(4),T=s(45);class P{constructor(S,E={}){this._modelDocument=S,this.conversionApi=s.i(T.a)({dispatcher:this},E)}convertChange(S,E){'remove'!==S&&E.range&&'$graveyard'==E.range.root.rootName||'remove'==S&&'$graveyard'==E.sourcePosition.root.rootName||'rename'==S&&'$graveyard'==E.element.root.rootName||('insert'==S||'reinsert'==S?this.convertInsertion(E.range):'move'==S?this.convertMove(E.sourcePosition,E.range):'remove'==S?this.convertRemove(E.sourcePosition,E.range):'addAttribute'==S||'removeAttribute'==S||'changeAttribute'==S?this.convertAttribute(S,E.range,E.key,E.oldValue,E.newValue):'rename'==S&&this.convertRename(E.element,E.oldName))}convertInsertion(S){const E=this._createInsertConsumable(S);for(let O of S){const V=O.item,F=u.a.createFromPositionAndShift(O.previousPosition,O.length),R={item:V,range:F};this._testAndFire('insert',R,E);for(let N of V.getAttributeKeys())R.attributeKey=N,R.attributeOldValue=null,R.attributeNewValue=V.getAttribute(N),this._testAndFire(`addAttribute:${N}`,R,E)}for(let O of this._modelDocument.markers){const V=O.getRange();V.containsPosition(S.start)&&this.convertMarker('addMarker',O.name,V.getIntersection(S)),(S.containsRange(V)||S.isEqual(V))&&this.convertMarker('addMarker',O.name,V)}}convertMove(S,E){if(E.start.isBefore(S)){this.convertInsertion(E);const O=S._getTransformedByInsertion(E.start,E.end.offset-E.start.offset);this.convertRemove(O,E)}else this.convertRemove(S,E),this.convertInsertion(E)}convertRemove(S,E){const O=this._createConsumableForRange(E,'remove');for(let V of E.getItems({shallow:!0})){this._testAndFire(`remove`,{sourcePosition:S,item:V},O)}}convertAttribute(S,E,O,V,F){const R=this._createConsumableForRange(E,S+':'+O);for(let N of E){const M=N.item,I=u.a.createFromPositionAndShift(N.previousPosition,N.length);this._testAndFire(`${S}:${O}`,{item:M,range:I,attributeKey:O,attributeOldValue:V,attributeNewValue:F},R)}}convertRename(S,E){const O=S.clone(!0);O.name=E,this.conversionApi.mapper.bindElements(O,this.conversionApi.mapper.toViewElement(S));const V=new h.a;V.appendChildren(O),this.convertRemove(f.a.createBefore(S),u.a.createOn(O)),this.convertInsertion(u.a.createOn(S))}convertSelection(S){const E=Array.from(this._modelDocument.markers.getMarkersAtPosition(S.getFirstPosition())),O=this._createSelectionConsumable(S,E);this.fire('selection',{selection:S},O,this.conversionApi);for(let V of E){const F={selection:S,name:V.name};O.test(S,'selectionMarker:'+V.name)&&this.fire('selectionMarker:'+V.name,F,O,this.conversionApi)}for(let V of S.getAttributeKeys()){const F={selection:S,key:V,value:S.getAttribute(V)};O.test(S,'selectionAttribute:'+F.key)&&this.fire('selectionAttribute:'+F.key,F,O,this.conversionApi)}}convertMarker(S,E,O){if(O.root.document&&'$graveyard'!=O.root.rootName){const V=this._createMarkerConsumable(S,O);this.fire(S+':'+E,{name:E,range:O},V,this.conversionApi)}}_createInsertConsumable(S){const E=new d.a;for(let O of S){const V=O.item;E.add(V,'insert');for(let F of V.getAttributeKeys())E.add(V,'addAttribute:'+F)}return E}_createConsumableForRange(S,E){const O=new d.a;for(let V of S.getItems())O.add(V,E);return O}_createSelectionConsumable(S,E){const O=new d.a;O.add(S,'selection');for(let V of E)O.add(S,'selectionMarker:'+V.name);for(let V of S.getAttributeKeys())O.add(S,'selectionAttribute:'+V);return O}_createMarkerConsumable(S,E){const O=new d.a;return O.add(E,S),O}_testAndFire(S,E,O){if(O.test(E.item,S)){const V=E.item.name||'$text';this.fire(S+':'+V,E,O,this.conversionApi)}}}r.a=P,s.i(C.a)(P,w.a)},function(o,r,s){'use strict';var d=s(305),u=s(164),f=s(59);r.a=class{constructor(){this._domParser=new DOMParser,this._domConverter=new u.a({blockFiller:f.a}),this._htmlWriter=new d.a}toData(w){const C=this._domConverter.viewToDom(w,document);return this._htmlWriter.getHtml(C)}toView(w){const C=this._toDom(w);return this._domConverter.domToView(C)}_toDom(w){const C=this._domParser.parseFromString(w,'text/html'),T=C.createDocumentFragment(),P=C.body.childNodes;for(;0<P.length;)T.appendChild(P[0]);return T}}},function(o,r,s){'use strict';function d(F,R,N,M){M instanceof E.a?f(F,F.document,R,N,M):u(F,F.document,R,N,M)}function u(F,R,N,M,I){const L=I.getAttribute(N);let D,q;const z=I.is('rootElement')?new V:new O;L!=M&&(F.addDelta(z),I.is('rootElement')?q=new P.a(I,N,L,M,R.version):(D=I.is('element')?new E.a(S.a.createBefore(I),S.a.createFromParentAndOffset(I,0)):new E.a(S.a.createBefore(I),S.a.createAfter(I)),q=new T.a(D,N,L,M,R.version)),z.addOperation(q),R.applyOperation(q))}function f(F,R,N,M,I){function L(){0===D.operations.length&&F.addDelta(D);let H=new E.a(q,z);const W=new T.a(H,N,K,M,R.version);D.addOperation(W),R.applyOperation(W)}const D=new O;let q=I.start,z,K,$;for(let H of I)$=H.item.getAttribute(N),z&&K!=$&&(K!=M&&L(),q=z),z=H.nextPosition,K=$;z instanceof S.a&&z!=q&&K!=M&&L()}var h=s(20),w=s(18),C=s(17),T=s(72),P=s(113),S=s(1),E=s(3);class O extends h.a{get type(){return'attribute'}get key(){return this.operations[0]?this.operations[0].key:null}get value(){return this.operations[0]?this.operations[0].newValue:null}get range(){if(this._range)return this._range;let F=null,R=null;for(let N of this.operations)(null==F||F.isAfter(N.range.start))&&(F=N.range.start),(null==R||R.isBefore(N.range.end))&&(R=N.range.end);return F&&R?(this._range=new E.a(F,R),this._range):null}get _reverseDeltaClass(){return O}static get className(){return'engine.model.delta.AttributeDelta'}static get _priority(){return 20}}r.a=O;class V extends h.a{static get className(){return'engine.model.delta.RootAttributeDelta'}}s.i(C.b)('setAttribute',function(F,R,N){return d(this,R,N,F),this}),s.i(C.b)('removeAttribute',function(F,R){return d(this,R,null,F),this}),w.a.register(O),w.a.register(V)},function(o,r,s){'use strict';function d(E,O,V){O.addOperation(V),E.document.applyOperation(V)}var u=s(20),f=s(18),h=s(17),w=s(112),C=s(5),T=s(1),P=s(0);class S extends u.a{get type(){return'rename'}get _reverseDeltaClass(){return S}static get className(){return'engine.model.delta.RenameDelta'}}r.a=S,s.i(h.b)('rename',function(E,O){if(!(E instanceof C.a))throw new P.a('batch-rename-not-element-instance: Trying to rename an object which is not an instance of Element.');const V=new S;return this.addDelta(V),d(this,V,new w.a(T.a.createBefore(E),E.name,O,this.document.version)),this}),f.a.register(S)},function(o,r,s){'use strict';var d=s(101),u=s(17),f=s(18),h=s(39),w=s(13);class C extends d.a{static get className(){return'engine.model.delta.WeakInsertDelta'}}r.a=C,s.i(u.b)('weakInsert',function(T,P){const S=new C;this.addDelta(S),P=s.i(w.b)(P);for(let O of P)O.setAttributesTo(this.document.selection.getAttributes());const E=new h.a(T,P,this.document.version);return S.addOperation(E),this.document.applyOperation(E),this}),f.a.register(C)},function(o,r,s){'use strict';function d(){const S=new Set(['insert','move','remove','reinsert']);this.listenTo(this.root.document,'change',(E,O,V)=>{S.has(O)&&u.call(this,O,V.range,V.sourcePosition)},{priority:'high'})}function u(S,E,O){let V=E.end.offset-E.start.offset,F;switch(S){case'insert':let R='sticksToNext'==this.stickiness;F=this._getTransformedByInsertion(E.start,V,R);break;case'move':case'remove':case'reinsert':let N=h.a.createFromPositionAndShift(O,V),M=N.containsPosition(this)||N.start.isEqual(this)&&'sticksToNext'==this.stickiness||N.end.isEqual(this)&&'sticksToPrevious'==this.stickiness;if(M)F=this._getCombined(O,E.start);else{let I='sticksToNext'==this.stickiness;F=this._getTransformedByMove(O,E.start,V,I)}}if(!this.isEqual(F)){const R=f.a.createFromPosition(this);this.path=F.path,this.root=F.root,this.fire('change',R)}}var f=s(1),h=s(3),w=s(7),C=s(4),T=s(0);class P extends f.a{constructor(S,E,O){if(super(S,E),!this.root.is('rootElement'))throw new T.a('model-liveposition-root-not-rootelement: LivePosition root has to be an instance of RootElement.');this.stickiness=O||'sticksToNext',d.call(this)}detach(){this.stopListening()}}r.a=P,s.i(C.a)(P,w.a)},function(o,r,s){'use strict';function d(R,N,M){let I=s.i(O.a)(R);return M&&(I=I.slice(I.indexOf(M)+1)),I.some((L)=>L.tagName&&N.includes(L.tagName.toLowerCase()))}var u=s(29),f=s(21),h=s(26),w=s(34),C=s(61),T=s(115),P=s(51),S=s(59),E=s(391),O=s(186),V=s(388);r.a=class{constructor(R={}){this.blockFiller=R.blockFiller||S.b,this.preElements=['pre'],this.blockElements=['p','div','h1','h2','h3','h4','h5','h6'],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(R,N){this._fakeSelectionMapping.set(R,C.a.createFromSelection(N))}fakeSelectionToView(R){return this._fakeSelectionMapping.get(R)}bindElements(R,N){this._domToViewMapping.set(R,N),this._viewToDomMapping.set(N,R)}unbindDomElement(R){const N=this._domToViewMapping.get(R);if(N){this._domToViewMapping.delete(R),this._viewToDomMapping.delete(N);for(let M of R.childNodes)this.unbindDomElement(M)}}bindDocumentFragments(R,N){this._domToViewMapping.set(R,N),this._viewToDomMapping.set(N,R)}viewToDom(R,N,M={}){if(R.is('text')){const I=this._processDataFromViewText(R);return N.createTextNode(I)}if(this.getCorrespondingDom(R))return this.getCorrespondingDom(R);let I;if(R.is('documentFragment'))I=N.createDocumentFragment(),M.bind&&this.bindDocumentFragments(I,R);else{I=N.createElement(R.name),M.bind&&this.bindElements(I,R);for(let L of R.getAttributeKeys())I.setAttribute(L,R.getAttribute(L))}if(M.withChildren||void 0===M.withChildren)for(let L of this.viewChildrenToDom(R,N,M))I.appendChild(L);return I}*viewChildrenToDom(R,N,M={}){let I=R.getFillerOffset&&R.getFillerOffset(),L=0;for(let D of R.getChildren())I===L&&(yield this.blockFiller(N)),yield this.viewToDom(D,N,M),L++;I===L&&(yield this.blockFiller(N))}viewRangeToDom(R){const N=this.viewPositionToDom(R.start),M=this.viewPositionToDom(R.end),I=new Range;return I.setStart(N.parent,N.offset),I.setEnd(M.parent,M.offset),I}viewPositionToDom(R){const N=R.parent;if(N.is('text')){const M=this.getCorrespondingDomText(N);if(!M)return null;let I=R.offset;return s.i(S.c)(M)&&(I+=S.d),{parent:M,offset:I}}let M,I,L;if(0===R.offset){if(M=this.getCorrespondingDom(R.parent),!M)return null;L=M.childNodes[0]}else{if(I=this.getCorrespondingDom(R.nodeBefore),!I)return null;M=I.parentNode,L=I.nextSibling}if(this.isText(L)&&s.i(S.c)(L))return{parent:L,offset:S.d};const D=I?s.i(E.a)(I)+1:0;return{parent:M,offset:D}}domToView(R,N={}){if(s.i(S.e)(R,this.blockFiller))return null;if(this.isText(R)){if(s.i(S.f)(R))return null;const M=this._processDataFromDomText(R);return''===M?null:new u.a(M)}if(this.getCorrespondingView(R))return this.getCorrespondingView(R);let M;if(this.isDocumentFragment(R))M=new T.a,N.bind&&this.bindDocumentFragments(R,M);else{const I=N.keepOriginalCase?R.tagName:R.tagName.toLowerCase();M=new f.a(I),N.bind&&this.bindElements(R,M);const L=R.attributes;for(let D=L.length-1;0<=D;D--)M.setAttribute(L[D].name,L[D].value)}if(N.withChildren||void 0===N.withChildren)for(let I of this.domChildrenToView(R,N))M.appendChildren(I);return M}*domChildrenToView(R,N={}){for(let M=0;M<R.childNodes.length;M++){const I=R.childNodes[M],L=this.domToView(I,N);null!==L&&(yield L)}}domSelectionToView(R){if(1===R.rangeCount){let I=R.getRangeAt(0).startContainer;this.isText(I)&&(I=I.parentNode);const L=this.fakeSelectionToView(I);if(L)return L}const N=new C.a,M=this.isDomSelectionBackward(R);for(let I=0;I<R.rangeCount;I++){const L=R.getRangeAt(I),D=this.domRangeToView(L);D&&N.addRange(D,M)}return N}domRangeToView(R){const N=this.domPositionToView(R.startContainer,R.startOffset),M=this.domPositionToView(R.endContainer,R.endOffset);return N&&M?new w.a(N,M):null}domPositionToView(R,N){if(s.i(S.e)(R,this.blockFiller))return this.domPositionToView(R.parentNode,s.i(E.a)(R));if(this.isText(R)){if(s.i(S.f)(R))return this.domPositionToView(R.parentNode,s.i(E.a)(R));const M=this.getCorrespondingViewText(R);let I=N;return M?(s.i(S.c)(R)&&(I-=S.d,I=0>I?0:I),new h.a(M,I)):null}if(0===N){const M=this.getCorrespondingView(R);if(M)return new h.a(M,0)}else{const M=this.getCorrespondingView(R.childNodes[N-1]);if(M&&M.parent)return new h.a(M.parent,M.index+1)}return null}getCorrespondingView(R){if(this.isElement(R))return this.getCorrespondingViewElement(R);return this.isDocumentFragment(R)?this.getCorrespondingViewDocumentFragment(R):this.isText(R)?this.getCorrespondingViewText(R):null}getCorrespondingViewElement(R){return this._domToViewMapping.get(R)}getCorrespondingViewDocumentFragment(R){return this._domToViewMapping.get(R)}getCorrespondingViewText(R){if(s.i(S.f)(R))return null;const N=R.previousSibling;if(N){if(!this.isElement(N))return null;const M=this.getCorrespondingViewElement(N);if(M){const I=M.nextSibling;return I instanceof u.a?M.nextSibling:null}}else{const M=this.getCorrespondingViewElement(R.parentNode);if(M){const I=M.getChild(0);return I instanceof u.a?I:null}}return null}getCorrespondingDom(R){if(R instanceof f.a)return this.getCorrespondingDomElement(R);return R instanceof T.a?this.getCorrespondingDomDocumentFragment(R):R instanceof u.a?this.getCorrespondingDomText(R):null}getCorrespondingDomElement(R){return this._viewToDomMapping.get(R)}getCorrespondingDomDocumentFragment(R){return this._viewToDomMapping.get(R)}getCorrespondingDomText(R){const N=R.previousSibling;return N&&this.getCorrespondingDom(N)?this.getCorrespondingDom(N).nextSibling:!N&&R.parent&&this.getCorrespondingDom(R.parent)?this.getCorrespondingDom(R.parent).childNodes[0]:null}focus(R){const N=this.getCorrespondingDomElement(R);N&&N.ownerDocument.activeElement!==N&&N.focus()}isText(R){return R&&R.nodeType==Node.TEXT_NODE}isElement(R){return R&&R.nodeType==Node.ELEMENT_NODE}isDocumentFragment(R){return R&&R.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isDomSelectionBackward(R){if(R.isCollapsed)return!1;const N=new Range;N.setStart(R.anchorNode,R.anchorOffset),N.setEnd(R.focusNode,R.focusOffset);const M=N.collapsed;return N.detach(),M}_processDataFromViewText(R){let N=R.data;if(R.getAncestors().some((q)=>this.preElements.includes(q.name)))return N;const M=this._getTouchingViewTextNode(R,!1),I=this._getTouchingViewTextNode(R,!0);let L=N.match(/ *$/)[0],D=N.substr(0,N.length-L.length);if(M&&' '!=M.data.charAt(M.data.length-1)||(D=D.replace(/^ /,'\xA0')),D=D.replace(/  /g,' \xA0'),0<L.length){let q=!1;I?(' '==I.data.charAt(0)||'\xA0'==I.data.charAt(0))&&0==L.length%2&&(q=!0):L.length%2&&(q=!0),q&&(L='\xA0'+L.substr(0,L.length-1)),L=L.replace(/  /g,' \xA0')}return D+L}_getTouchingViewTextNode(R,N){if(!R.parent)return null;const M=new P.a({startPosition:N?h.a.createAfter(R):h.a.createBefore(R),direction:N?'forward':'backward'});for(let I of M){if(I.item.is('containerElement'))return null;if(I.item.is('text'))return I.item}return null}_processDataFromDomText(R){let N=s.i(S.g)(R);if(d(R,this.preElements))return N;N=N.replace(/[^\S\u00A0]{2,}/g,' ');const M=this._getTouchingDomTextNode(R,!1),I=this._getTouchingDomTextNode(R,!0);return(!M||/[^\S\u00A0]/.test(M.data.charAt(M.data.length-1)))&&(N=N.replace(/^ /,'')),I||(N=N.replace(/ $/,'')),N=N.replace(/ \u00A0/g,'  '),(!M||/[^\S\u00A0]/.test(M.data.charAt(M.data.length-1)))&&(N=N.replace(/^\u00A0/,' ')),I&&'\xA0'!=I.data.charAt(0)||(N=N.replace(/\u00A0( *)$/,' $1')),N}_getTouchingDomTextNode(R,N){if(!R.parentNode)return null;const M=N?'nextNode':'previousNode',I=R.ownerDocument,L=I.createTreeWalker(I.childNodes[0],NodeFilter.SHOW_TEXT);L.currentNode=R;const D=L[M]();if(null!==D){const q=s.i(V.a)(R,D);if(q&&!d(R,this.blockElements,q)&&!d(D,this.blockElements,q))return D}return null}}},function(o,r,s){'use strict';function d(){return null}var u=s(21),f=s(0),h=s(75);class w extends u.a{constructor(C,T,P){super(C,T,P),this.getFillerOffset=d}is(C,T=null){return T?'emptyElement'==C&&T==this.name||super.is(C,T):'emptyElement'==C||super.is(C)}insertChildren(C,T){if(T&&(T instanceof h.a||0<Array.from(T).length))throw new f.a('view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.')}}r.a=w},function(o,r){'use strict';function d(T,P){if('function'==typeof P)return P(T);const S={};return P.name&&(S.name=u(P.name,T.name),!S.name)?null:P.attribute&&(S.attribute=f(P.attribute,T),!S.attribute)?null:P.class&&(S.class=h(P.class,T),!S.class)?!1:P.style&&(S.style=w(P.style,T),!S.style)?!1:S}function u(T,P){return T instanceof RegExp?T.test(P):T===P}function f(T,P){const S=[];for(let E in T){const O=T[E];if(P.hasAttribute(E)){const V=P.getAttribute(E);if(O instanceof RegExp){if(O.test(V))S.push(E);else return null;}else if(V===O)S.push(E);else return null}else return null}return S}function h(T,P){const S=[];for(let E of T)if(E instanceof RegExp){const O=P.getClassNames();for(let V of O)E.test(V)&&S.push(V);if(0===S.length)return null}else if(P.hasClass(E))S.push(E);else return null;return S}function w(T,P){const S=[];for(let E in T){const O=T[E];if(P.hasStyle(E)){const V=P.getStyle(E);if(O instanceof RegExp){if(O.test(V))S.push(E);else return null;}else if(V===O)S.push(E);else return null}else return null}return S}r.a=class{constructor(...T){this._patterns=[],this.add(...T)}add(...T){for(let P of T)('string'==typeof P||P instanceof RegExp)&&(P={name:P}),P.class&&('string'==typeof P.class||P.class instanceof RegExp)&&(P.class=[P.class]),this._patterns.push(P)}match(...T){for(let P of T)for(let S of this._patterns){const E=d(P,S);if(E)return{element:P,pattern:S,match:E}}return null}matchAll(...T){const P=[];for(let S of T)for(let E of this._patterns){const O=d(S,E);O&&P.push({element:S,pattern:E,match:O})}return 0<P.length?P:null}getElementName(){if(1!==this._patterns.length)return null;const T=this._patterns[0],P=T.name;return'function'!=typeof T&&P&&!(P instanceof RegExp)?P:null}}},function(o,r,s){'use strict';var d=s(50),u=s(61),f=s(59);class h extends d.a{constructor(w){super(w),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=w.domConverter,this.renderer=w.renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(w){this._domElements.push(w),this.isEnabled&&this._mutationObserver.observe(w,this._config)}enable(){super.enable();for(let w of this._domElements)this._mutationObserver.observe(w,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(w){if(0===w.length)return;const C=this.domConverter,T=new Map,P=new Set;for(let V of w)if('childList'===V.type){const F=C.getCorrespondingViewElement(V.target);F&&!this._isBogusBrMutation(V)&&P.add(F)}for(let V of w)if('characterData'===V.type){const F=C.getCorrespondingViewText(V.target);F&&!P.has(F.parent)?T.set(F,{type:'text',oldText:F.data,newText:s.i(f.g)(V.target),node:F}):!F&&s.i(f.c)(V.target)&&P.add(C.getCorrespondingViewElement(V.target.parentNode))}const S=[];for(let V of T.values())this.renderer.markToSync('text',V.node),S.push(V);for(let V of P){const F=C.getCorrespondingDomElement(V),R=V.getChildren(),N=C.domChildrenToView(F);this.renderer.markToSync('children',V),S.push({type:'children',oldChildren:Array.from(R),newChildren:Array.from(N),node:V})}const E=w[0].target.ownerDocument.getSelection();let O=null;if(E&&E.anchorNode){const V=C.domPositionToView(E.anchorNode,E.anchorOffset),F=C.domPositionToView(E.focusNode,E.focusOffset);V&&F&&(O=new u.a,O.collapse(V),O.setFocus(F))}this.document.fire('mutations',S,O),this.document.render()}_isBogusBrMutation(w){let C=null;return null===w.nextSibling&&0===w.removedNodes.length&&1==w.addedNodes.length&&(C=this.domConverter.domToView(w.addedNodes[0],{withChildren:!1})),C&&C.is('element','br')}}r.a=h},function(o,r,s){'use strict';var d=s(74);const u=Symbol('rootName');class f extends d.a{constructor(h){super(h),this.rootName='main'}is(h,w=null){return w?'rootElement'==h&&w==this.name||super.is(h,w):'rootElement'==h||super.is(h)}get rootName(){return this.getCustomProperty(u)}set rootName(h){this.setCustomProperty(u,h)}}r.a=f},function(o,r,s){'use strict';function d(){return null}var u=s(21),f=s(0),h=s(75);class w extends u.a{constructor(C,T,P){super(C,T,P),this.getFillerOffset=d}is(C,T=null){return T?'uiElement'==C&&T==this.name||super.is(C,T):'uiElement'==C||super.is(C)}insertChildren(C,T){if(T&&(T instanceof h.a||0<Array.from(T).length))throw new f.a('view-uielement-cannot-add: Cannot add child nodes to UIElement instance.')}}r.a=w},function(o,r,s){'use strict';var d=s(2),u=s(37),f=s(38),h=s(77),w=s(331);const C='paragraph';class T extends d.a{constructor(P){super(P),P.config.define('heading',{options:[{modelElement:'paragraph',title:'Paragraph',class:'ck-heading_paragraph'},{modelElement:'heading1',viewElement:'h2',title:'Heading 1',class:'ck-heading_heading1'},{modelElement:'heading2',viewElement:'h3',title:'Heading 2',class:'ck-heading_heading2'},{modelElement:'heading3',viewElement:'h4',title:'Heading 3',class:'ck-heading_heading3'}]})}static get requires(){return[h.a]}init(){const P=this.editor,S=P.data,E=P.editing,O=P.config.get('heading.options');for(let V of O)V.modelElement!==C&&(P.document.schema.registerItem(V.modelElement,'$block'),s.i(u.a)().for(S.modelToView,E.modelToView).fromElement(V.modelElement).toElement(V.viewElement),s.i(f.a)().for(S.viewToModel).fromElement(V.viewElement).toElement(V.modelElement),P.commands.set(V.modelElement,new w.a(P,V)))}afterInit(){const P=this.editor,S=P.commands.get('enter'),E=P.config.get('heading.options');S&&this.listenTo(S,'afterExecute',(O,V)=>{const F=P.document.selection.getFirstPosition().parent,R=V.batch,N=E.some((M)=>F.is(M.modelElement));N&&!F.is(C)&&0===F.childCount&&R.rename(F,C)})}}r.a=T},function(o,r,s){'use strict';function d(){return new C.a('figure',{class:'image'},new T.a('img'))}var u=s(2),f=s(37),h=s(333),w=s(42),C=s(41),T=s(165);class P extends u.a{init(){const S=this.editor,E=S.document,O=E.schema,V=S.data,F=S.editing,R=S.t;O.registerItem('image'),O.requireAttributes('image',['src']),O.allow({name:'image',attributes:['alt','src'],inside:'$root'}),O.objects.add('image'),s.i(f.a)().for(V.modelToView).fromElement('image').toElement(()=>d()),s.i(f.a)().for(F.modelToView).fromElement('image').toElement(()=>s.i(w.c)(d(),R('image widget'))),s.i(h.a)([F.modelToView,V.modelToView],'src'),s.i(h.a)([F.modelToView,V.modelToView],'alt'),V.viewToModel.on('element:figure',s.i(h.b)())}}r.a=P},function(o,r,s){'use strict';var d=s(494),u=s(63),f=s(182),h=s(42);const w=f.a.arrowVerticalOffset,C={south(P,S){return{top:P.bottom+w,left:P.left+P.width/2-S.width/2,name:'s'}},north(P,S){return{top:P.top-S.height-w,left:P.left+P.width/2-S.width/2,name:'n'}}};class T extends f.a{constructor(P){super(P.locale),this.editor=P;const S=P.editing.view;this.listenTo(P.ui.focusTracker,'change:isFocused',(E,O,V,F)=>{F&&!V&&this.detach()}),P.listenTo(S,'render',()=>{const E=S.selection.getSelectedElement();E&&s.i(h.a)(E)||this.detach()},{priority:'low'}),this._throttledAttach=s.i(d.a)(()=>{this._attach()},100)}init(){return this.editor.ui.focusTracker.add(this.element),super.init()}attach(){this._attach(),this.editor.ui.view.listenTo(u.a.window,'scroll',this._throttledAttach),this.editor.ui.view.listenTo(u.a.window,'resize',this._throttledAttach)}detach(){this.hide(),this.editor.ui.view.stopListening(u.a.window,'scroll',this._throttledAttach),this.editor.ui.view.stopListening(u.a.window,'resize',this._throttledAttach)}_attach(){const P=this.editor.editing.view;this.attachTo({target:P.domConverter.viewRangeToDom(P.selection.getFirstRange()),positions:[C.north,C.south]})}}r.a=T},function(o,r,s){'use strict';var d=s(6),u=s(2),f=s(183),h=s(42),w=s(172);class C extends u.a{static get pluginName(){return'image/imagetoolbar'}constructor(T){super(T),T.config.set('image.defaultToolbar',[]),this.isEnabled=!0}afterInit(){const T=this.editor,P=T.config.get('image.toolbar')||T.config.get('image.defaultToolbar');if(P.length){const S=this._panel=new w.a(T),E=[],O=new f.a;return d.a.extend(S.template,{attributes:{class:['ck-toolbar__container']}}),E.push(S.content.add(O)),E.push(O.fillFromConfig(P,T.ui.componentFactory)),E.push(T.ui.view.body.add(S)),this.listenTo(this.editor.editing.view,'render',()=>{this.isEnabled&&this.show()},{priority:'low'}),this.listenTo(T.ui.focusTracker,'change:isFocused',(V,F,R,N)=>{!N&&R&&this.isEnabled&&this.show()}),Promise.all(E)}}show(){const T=this.editor.editing.view.selection.getSelectedElement();T&&s.i(h.a)(T)&&this._panel.attach()}hide(){this._panel.detach()}}r.a=C},function(o,r,s){'use strict';function u(w,C,T){let P=w.textNode||(T?w.nodeBefore:w.nodeAfter),S=null;for(;P&&P.getAttribute('linkHref')==C;)S=P,P=T?P.previousSibling:P.nextSibling;return S?h.a.createAt(S,T?'before':'after'):w}var f=s(3),h=s(1);r.a=function(w,C){return new f.a(u(w,C,!0),u(w,C,!1))}},function(o,r,s){'use strict';var d=s(114);class u extends d.a{}r.a=u},function(o,r,s){'use strict';function d(P){let S=1;for(let E of P.getChildren())if('ul'==E.name||'ol'==E.name)for(let O of E.getChildren())S+=d(O);return S}var u=s(353),f=s(351),h=s(2),w=s(77),C=s(350);class T extends h.a{static get requires(){return[w.a]}init(){const P=this.editor,S=P.document.schema;S.registerItem('listItem','$block'),S.allow({name:'listItem',inside:'$root',attributes:['type','indent']}),S.requireAttributes('listItem',['type','indent']);const E=P.data,O=P.editing;this.editor.document.on('change',s.i(C.a)(this.editor.document),{priority:'high'}),this.editor.document.on('change',(V,F,R)=>{if('move'==F)for(let N of R.range.getItems())N.is('listItem')&&O.mapper.unbindModelElement(N)},{priority:'high'}),O.mapper.registerViewToModelLength('li',d),E.mapper.registerViewToModelLength('li',d),O.mapper.on('modelToViewPosition',C.b),O.mapper.on('viewToModelPosition',C.c),E.mapper.on('modelToViewPosition',C.b),O.modelToView.on('insert',C.d,{priority:'high'}),O.modelToView.on('insert:listItem',C.e),E.modelToView.on('insert',C.d,{priority:'high'}),E.modelToView.on('insert:listItem',C.e),O.modelToView.on('changeAttribute:type:listItem',C.f),E.modelToView.on('changeAttribute:type:listItem',C.f),O.modelToView.on('remove:listItem',C.g),O.modelToView.on('remove',C.h,{priority:'low'}),E.modelToView.on('remove:listItem',C.g),E.modelToView.on('remove',C.h,{priority:'low'}),O.modelToView.on('changeAttribute:indent:listItem',C.i),E.modelToView.on('changeAttribute:indent:listItem',C.i),E.viewToModel.on('element:ul',C.j,{priority:'high'}),E.viewToModel.on('element:ol',C.j,{priority:'high'}),E.viewToModel.on('element:li',C.k,{priority:'high'}),E.viewToModel.on('element:li',C.l),P.commands.set('numberedList',new u.a(P,'numbered')),P.commands.set('bulletedList',new u.a(P,'bulleted')),P.commands.set('indentList',new f.a(P,'forward')),P.commands.set('outdentList',new f.a(P,'backward'))}}r.a=T},function(o,r,s){'use strict';var d=s(184);class u{constructor(f,h=20){this.document=f,this.size=0,this.limit=h,this.isLocked=!1,this._changeCallback=(w,C,T,P)=>{this._onBatch(P)},this._selectionChangeCallback=()=>{this._reset()},f.on('change',this._changeCallback),f.selection.on('change:range',this._selectionChangeCallback),f.selection.on('change:attribute',this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.document.batch()),this._batch}input(f){this.size+=f,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.document.off('change',this._changeCallback),this.document.selection.off('change:range',this._selectionChangeCallback),this.document.selection.off('change:attribute',this._selectionChangeCallback)}_onBatch(f){'transparent'!=f.type&&f!==this._batch&&1>=s.i(d.a)(f.getOperations())&&this._reset(!0)}_reset(f){(!this.isLocked||f)&&(this._batch=null,this.size=0)}}r.a=u},function(o,r){'use strict';r.a=function({emitter:u,activator:f,callback:h,contextElement:w}){u.listenTo(document,'mouseup',(C,{target:T})=>{f()&&!w.contains(T)&&h()})}},function(o,r){'use strict';r.a=function({view:u}){u.listenTo(u.element,'submit',(f,h)=>{h.preventDefault(),u.fire('submit')},{useCapture:!0})}},function(o,r,s){'use strict';var d=s(9),u=s(6);class f extends d.a{constructor(h){super(h),this.set('value'),this.set('id');const w=this.bindTemplate;this.template=new u.a({tag:'input',attributes:{type:'text',class:['ck-input','ck-input-text'],id:w.to('id')}}),this.on('change:value',(C,T,P)=>this.element.value=P||'')}select(){this.element.select()}focus(){this.element.focus()}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(70),h=s(375);class w extends d.a{constructor(C,T){super(C);const P=`ck-input-${s.i(f.a)()}`;this.set('label'),this.set('value'),this.labelView=this._createLabelView(P),this.inputView=this._createInputView(T,P),this.template=new u.a({tag:'div',children:[this.labelView,this.inputView]})}_createLabelView(C){const T=new h.a(this.locale);return T.for=C,T.bind('text').to(this,'label'),T}_createInputView(C,T){const P=new C(this.locale);return P.id=T,P.bind('value').to(this),P}select(){this.inputView.select()}focus(){this.inputView.focus()}}r.a=w},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(394),h=s(187);const w=s.i(h.a)('px');class C extends d.a{constructor(T){super(T);const P=this.bindTemplate;this.set('top',0),this.set('left',0),this.set('position','se'),this.set('isVisible',!1),this.content=this.createCollection(),this.template=new u.a({tag:'div',attributes:{class:['ck-balloon-panel',P.to('position',(S)=>`ck-balloon-panel_arrow_${S}`),P.if('isVisible','ck-balloon-panel_visible')],style:{top:P.to('top',w),left:P.to('left',w),maxWidth:P.to('maxWidth',w)},tabindex:-1},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(T){this.show();const P=C.defaultPositions,S=Object.assign({},{element:this.element,positions:[P.se,P.sw,P.ne,P.nw],limiter:document.body,fitInViewport:!0},T),{top:E,left:O,name:V}=s.i(f.a)(S);Object.assign(this,{top:E,left:O,position:V})}}r.a=C,C.arrowHorizontalOffset=30,C.arrowVerticalOffset=15,C.defaultPositions={se:(T)=>({top:T.bottom+C.arrowVerticalOffset,left:T.left+T.width/2-C.arrowHorizontalOffset,name:'se'}),sw:(T,P)=>({top:T.bottom+C.arrowVerticalOffset,left:T.left+T.width/2-P.width+C.arrowHorizontalOffset,name:'sw'}),ne:(T,P)=>({top:T.top-P.height-C.arrowVerticalOffset,left:T.left+T.width/2-C.arrowHorizontalOffset,name:'ne'}),nw:(T,P)=>({top:T.top-P.height-C.arrowVerticalOffset,left:T.left+T.width/2-P.width+C.arrowHorizontalOffset,name:'nw'})}},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(65),h=s(117),w=s(66),C=s(381);class T extends d.a{constructor(P){super(P),this.items=this.createCollection(),this.focusTracker=new f.a,this.keystrokes=new w.a,this._focusCycler=new h.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:['arrowleft','arrowup'],focusNext:['arrowright','arrowdown']}}),this.template=new u.a({tag:'div',attributes:{class:['ck-toolbar']},children:this.items}),this.items.on('add',(S,E)=>{this.focusTracker.add(E.element)}),this.items.on('remove',(S,E)=>{this.focusTracker.remove(E.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}fillFromConfig(P,S){return P?Promise.all(P.map((E)=>{const O='|'==E?new C.a:S.create(E);return this.items.add(O)})):Promise.resolve()}}r.a=T},function(o,r){'use strict';r.a=function(u){let f=0;for(let h of u)f++;return f}},function(o,r){'use strict';r.a=function(u,f,h){function w(N){const M=(V[N-1]===void 0?-1:V[N-1])+1,I=V[N+1]===void 0?-1:V[N+1],L=M>I?-1:1;O[N+L]&&(O[N]=O[N+L].slice(0)),O[N]||(O[N]=[]),O[N].push(M>I?C:T);let D=_Mathmax(M,I),q=D-N;for(;q<P&&D<S&&h(u[q],f[D]);)q++,D++,O[N].push('equal');return D}h=h||function(N,M){return N===M};let C,T;if(f.length<u.length){let N=u;u=f,f=N,C='delete',T='insert'}else C='insert',T='delete';const P=u.length,S=f.length,E=S-P,O={},V={};let F=0,R;do{for(R=-F;R<E;R++)V[R]=w(R);for(R=E+F;R>E;R--)V[R]=w(R);V[E]=w(E),F++}while(V[E]!==S);return O[E].slice(1)}},function(o,r){'use strict';r.a=function(u){const f=[];for(;u&&u.nodeType!=Node.DOCUMENT_NODE;)f.unshift(u),u=u.parentNode;return f}},function(o,r){'use strict';r.a=function(u){return(f)=>f+u}},function(o,r,s){'use strict';var d=s(52),u=s(30),f=s.i(d.a)(u.a,'Map');r.a=f},function(o,r,s){'use strict';var d=s(52),u=s(30),f=s.i(d.a)(u.a,'Set');r.a=f},function(o,r,s){'use strict';var d=s(30),u=d.a.Uint8Array;r.a=u},function(o,r){'use strict';r.a=function(u,f,h){var w=h.length;return 0===w?u.call(f):1===w?u.call(f,h[0]):2===w?u.call(f,h[0],h[1]):3===w?u.call(f,h[0],h[1],h[2]):u.apply(f,h)}},function(o,r){'use strict';r.a=function(u,f,h,w){var C=-1,T=u.length;for(w&&T&&(h=u[++C]);++C<T;)h=f(h,u[C],C,u);return h}},function(o,r,s){'use strict';function d(ge,pe,fe,he,be,_e,ye){var ve;if(he&&(ve=_e?he(ge,be,_e,ye):he(ge)),void 0!==ve)return ve;if(!s.i(I.a)(ge))return ge;var we=s.i(R.a)(ge);if(!we){var ke=s.i(E.a)(ge),xe=ke==H||ke==W;if(s.i(N.a)(ge))return s.i(C.a)(ge,pe);if(ke==G||ke==D||xe&&!_e){if(s.i(M.a)(ge))return _e?ge:{};if(ve=s.i(F.a)(xe?{}:ge),!pe)return s.i(P.a)(ge,s.i(w.a)(ve,ge))}else{if(!me[ke])return _e?ge:{};ve=s.i(V.a)(ge,ke,d,pe)}}else if(ve=s.i(O.a)(ge),!pe)return s.i(T.a)(ge,ve);ye||(ye=new u.a);var Ce=ye.get(ge);if(Ce)return Ce;if(ye.set(ge,ve),!we)var Te=fe?s.i(S.a)(ge):s.i(L.a)(ge);return s.i(f.a)(Te||ge,function(Pe,Ae){Te&&(Ae=Pe,Pe=ge[Ae]),s.i(h.a)(ve,Ae,d(Pe,pe,fe,he,Ae,ge,ye))}),ve}var u=s(121),f=s(408),h=s(67),w=s(410),C=s(430),T=s(200),P=s(438),S=s(444),E=s(139),O=s(453),V=s(454),F=s(455),R=s(12),N=s(485),M=s(89),I=s(15),L=s(69),D='[object Arguments]',H='[object Function]',W='[object GeneratorFunction]',G='[object Object]',me={};me[D]=me['[object Array]']=me['[object ArrayBuffer]']=me['[object DataView]']=me['[object Boolean]']=me['[object Date]']=me['[object Float32Array]']=me['[object Float64Array]']=me['[object Int8Array]']=me['[object Int16Array]']=me['[object Int32Array]']=me['[object Map]']=me['[object Number]']=me[G]=me['[object RegExp]']=me['[object Set]']=me['[object String]']=me['[object Symbol]']=me['[object Uint8Array]']=me['[object Uint8ClampedArray]']=me['[object Uint16Array]']=me['[object Uint32Array]']=!0,me['[object Error]']=me[H]=me['[object WeakMap]']=!1,r.a=d},function(o,r){'use strict';r.a=function(u,f,h){for(var w=u.length,C=h?w:-1;h?C--:++C<w;)if(f(u[C],C,u))return C;return-1}},function(o,r,s){'use strict';var u=s(138),f=Object.prototype,h=f.hasOwnProperty;r.a=function(w,C){return h.call(w,C)||'object'==typeof w&&C in w&&null===s.i(u.a)(w)}},function(o,r,s){'use strict';var u=s(87),f=s(36),h=s(53),w=s(19),C=s(469),T=s(54),P=Array.prototype,S=P.splice;r.a=function(E,O){for(var V=E?O.length:0,F=V-1,R;V--;)if(R=O[V],V==F||R!==N){var N=R;if(s.i(f.a)(R))S.call(E,R,1);else if(!s.i(h.a)(R,E)){var M=s.i(u.a)(R),I=s.i(C.a)(E,M);null!=I&&delete I[s.i(T.a)(s.i(w.a)(M))]}else delete E[s.i(T.a)(R)]}return E}},function(o,r,s){'use strict';var u=s(55);r.a=function(f,h){for(var w=-1,C=f.length,T=0,P=[];++w<C;){var S=f[w],E=h?h(S):S;if(!w||!s.i(u.a)(E,O)){var O=E;P[T++]=0===S?0:S}}return P}},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=Array(u);++h<u;)w[h]=f(h);return w}},function(o,r){'use strict';r.a=function(u,f,h){for(var w=-1,C=u.length,T=f.length,P={},S;++w<C;)S=w<T?f[w]:void 0,h(P,u[w],S);return P}},function(o,r){'use strict';r.a=function(u,f){var h=-1,w=u.length;for(f||(f=Array(w));++h<w;)f[h]=u[h];return f}},function(o,r,s){'use strict';var u=s(81),f=s(409);r.a=function(C,T,P,S,E,O){var V=E&2,F=C.length,R=T.length;if(F!=R&&!(V&&R>F))return!1;var N=O.get(C);if(N)return N==T;var M=-1,I=!0,L=E&1?new u.a:void 0;for(O.set(C,T);++M<F;){var D=C[M],q=T[M];if(S)var z=V?S(q,D,M,T,C,O):S(D,q,M,C,T,O);if(void 0!==z){if(z)continue;I=!1;break}if(L){if(!s.i(f.a)(T,function(K,$){if(!L.has($)&&(D===K||P(D,K,S,E,O)))return L.add($)})){I=!1;break}}else if(!(D===q||P(D,q,S,E,O))){I=!1;break}}return O['delete'](C),I}},function(o,r){'use strict';function d(f){return u(Object(f))}var u=Object.getOwnPropertySymbols;u||(d=function(){return[]}),r.a=d},function(o,r,s){'use strict';var u=s(198),f=s(145),h=s(12),w=s(96),C=s(147);r.a=function(T){var P=T?T.length:void 0;return s.i(w.a)(P)&&(s.i(h.a)(T)||s.i(C.a)(T)||s.i(f.a)(T))?s.i(u.a)(P,String):null}},function(o,r){'use strict';r.a=function(u,f,h){for(var w=u.length,C=f+(h?0:-1),T;h?C--:++C<w;)if(T=u[C],T!==T)return C;return-1}},function(o,r,s){'use strict';var u=s(15);r.a=function(f){return f===f&&!s.i(u.a)(f)}},function(o,r){'use strict';r.a=function(u,f){return function(h){return null!=h&&h[u]===f&&(f!==void 0||u in Object(h))}}},function(o,r){'use strict';var u=Function.prototype.toString;r.a=function(f){if(null!=f){try{return u.call(f)}catch(h){}try{return f+''}catch(h){}}return''}},function(o,r,s){'use strict';var u=s(35),f=s(90),h=s(16),w=Math.ceil;r.a=function(T,P,S){P=(S?s.i(f.a)(T,P,S):void 0===P)?1:_Mathmax(s.i(h.a)(P),0);var E=T?T.length:0;if(!E||1>P)return[];for(var O=0,V=0,F=Array(w(E/P));O<E;)F[V++]=s.i(u.a)(T,O,O+=P);return F}},function(o,r){'use strict';r.a=function(u){for(var f=-1,h=u?u.length:0,w=0,C=[],T;++f<h;)T=u[f],T&&(C[w++]=T);return C}},function(o,r,s){'use strict';var u=s(83),f=s(24),h=s(200),w=s(12);r.a=function(){for(var C=arguments.length,T=Array(C?C-1:0),P=arguments[0],S=C;S--;)T[S-1]=arguments[S];return C?s.i(u.a)(s.i(w.a)(P)?s.i(h.a)(P):[P],s.i(f.a)(T,1)):[]}},function(o,r,s){'use strict';var d=s(68),u=s(24),f=s(14),h=s(8),w=s.i(h.a)(function(C,T){return s.i(f.a)(C)?s.i(d.a)(C,s.i(u.a)(T,1,f.a,!0)):[]});r.a=w},function(o,r,s){'use strict';var d=s(68),u=s(24),f=s(10),h=s(14),w=s(19),C=s(8),T=s.i(C.a)(function(P,S){var E=s.i(w.a)(S);return s.i(h.a)(E)&&(E=void 0),s.i(h.a)(P)?s.i(d.a)(P,s.i(u.a)(S,1,h.a,!0),s.i(f.a)(E)):[]});r.a=T},function(o,r,s){'use strict';var d=s(68),u=s(24),f=s(14),h=s(19),w=s(8),C=s.i(w.a)(function(T,P){var S=s.i(h.a)(P);return s.i(f.a)(S)&&(S=void 0),s.i(f.a)(T)?s.i(d.a)(T,s.i(u.a)(P,1,f.a,!0),void 0,S):[]});r.a=C},function(o,r,s){'use strict';var u=s(10),f=s(86);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w,3),!0,!0):[]}},function(o,r,s){'use strict';var u=s(10),f=s(86);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w,3),!0):[]}},function(o,r,s){'use strict';var u=s(414),f=s(90);r.a=function(h,w,C,T){var P=h?h.length:0;return P?(C&&'number'!=typeof C&&s.i(f.a)(h,w,C)&&(C=0,T=P),s.i(u.a)(h,w,C,T)):[]}},function(o,r,s){'use strict';var u=s(194),f=s(10);r.a=function(h,w){return h&&h.length?s.i(u.a)(h,s.i(f.a)(w,3)):-1}},function(o,r,s){'use strict';var u=s(194),f=s(10);r.a=function(h,w){return h&&h.length?s.i(u.a)(h,s.i(f.a)(w,3),!0):-1}},function(o,r,s){'use strict';var d=s(144);s.d(r,'a',function(){return d.a})},function(o,r,s){'use strict';var u=s(24);r.a=function(f){var h=f?f.length:0;return h?s.i(u.a)(f,1):[]}},function(o,r,s){'use strict';var u=s(24);r.a=function(h){var w=h?h.length:0;return w?s.i(u.a)(h,1/0):[]}},function(o,r,s){'use strict';var u=s(24),f=s(16);r.a=function(h,w){var C=h?h.length:0;return C?(w=void 0===w?1:s.i(f.a)(w),s.i(u.a)(h,w)):[]}},function(o,r){'use strict';r.a=function(u){for(var f=-1,h=u?u.length:0,w={},C;++f<h;)C=u[f],w[C[0]]=C[1];return w}},function(o,r,s){'use strict';var u=s(125);r.a=function(f,h,w){var C=null==f?void 0:s.i(u.a)(f,h);return C===void 0?w:C}},function(o,r){'use strict';r.a=function(u){return u}},function(o,r,s){'use strict';var u=s(126),f=s(16);r.a=function(w,C,T){var P=w?w.length:0;return P?(T=s.i(f.a)(T),0>T&&(T=_Mathmax(P+T,0)),s.i(u.a)(w,C,T)):-1}},function(o,r,s){'use strict';var u=s(143);r.a=function(f){return s.i(u.a)(f,1)}},function(o,r,s){'use strict';var d=s(27),u=s(127),f=s(135),h=s(8),w=s.i(h.a)(function(C){var T=s.i(d.a)(C,f.a);return T.length&&T[0]===C[0]?s.i(u.a)(T):[]});r.a=w},function(o,r,s){'use strict';var d=s(27),u=s(127),f=s(10),h=s(135),w=s(19),C=s(8),T=s.i(C.a)(function(P){var S=s.i(w.a)(P),E=s.i(d.a)(P,h.a);return S===s.i(w.a)(E)?S=void 0:E.pop(),E.length&&E[0]===P[0]?s.i(u.a)(E,s.i(f.a)(S)):[]});r.a=T},function(o,r,s){'use strict';var d=s(27),u=s(127),f=s(135),h=s(19),w=s(8),C=s.i(w.a)(function(T){var P=s.i(h.a)(T),S=s.i(d.a)(T,f.a);return P===s.i(h.a)(S)?P=void 0:S.pop(),S.length&&S[0]===T[0]?s.i(u.a)(S,void 0,P):[]});r.a=C},function(o,r,s){'use strict';var u=s(146),f=s(89),h=s(15),w=s(207),C=/[\\^$.*+?()[\]{}|]/g,T=/^\[object .+?Constructor\]$/,P=Object.prototype,S=Function.prototype.toString,E=P.hasOwnProperty,O=RegExp('^'+S.call(E).replace(C,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');r.a=function(V){if(!s.i(h.a)(V))return!1;var F=s.i(u.a)(V)||s.i(f.a)(V)?O:T;return F.test(s.i(w.a)(V))}},function(o,r){'use strict';var u=Array.prototype,f=u.join;r.a=function(h,w){return h?f.call(h,w):''}},function(o,r,s){'use strict';var u=s(204),f=s(16);r.a=function(C,T,P){var S=C?C.length:0;if(!S)return-1;var E=S;if(void 0!==P&&(E=s.i(f.a)(P),E=(0>E?_Mathmax(S+E,0):_Mathmin(E,S-1))+1),T!==T)return s.i(u.a)(C,E,!0);for(;E--;)if(C[E]===T)return E;return-1}},function(o,r,s){'use strict';var u=s(424),f=s(16);r.a=function(h,w){return h&&h.length?s.i(u.a)(h,s.i(f.a)(w)):void 0}},function(o,r,s){'use strict';var d=s(148),u=s(8),f=s.i(u.a)(d.a);r.a=f},function(o,r,s){'use strict';var u=s(10),f=s(130);r.a=function(h,w,C){return h&&h.length&&w&&w.length?s.i(f.a)(h,w,s.i(u.a)(C)):h}},function(o,r,s){'use strict';var u=s(130);r.a=function(f,h,w){return f&&f.length&&h&&h.length?s.i(u.a)(f,h,void 0,w):f}},function(o,r,s){'use strict';var d=s(27),u=s(411),f=s(24),h=s(196),w=s(437),C=s(36),T=s(8),P=s.i(T.a)(function(S,E){E=s.i(f.a)(E,1);var O=S?S.length:0,V=s.i(u.a)(S,E);return s.i(h.a)(S,s.i(d.a)(E,function(F){return s.i(C.a)(F,O)?+F:F}).sort(w.a)),V});r.a=P},function(o,r,s){'use strict';var u=s(10),f=s(196);r.a=function(h,w){var C=[];if(!(h&&h.length))return C;var T=-1,P=[],S=h.length;for(w=s.i(u.a)(w,3);++T<S;){var E=h[T];w(E,T,h)&&(C.push(E),P.push(T))}return s.i(f.a)(h,P),C}},function(o,r){'use strict';var u=Array.prototype,f=u.reverse;r.a=function(h){return h?f.call(h):h}},function(o,r,s){'use strict';var u=s(35),f=s(90),h=s(16);r.a=function(w,C,T){var P=w?w.length:0;return P?(T&&'number'!=typeof T&&s.i(f.a)(w,C,T)?(C=0,T=P):(C=null==C?0:s.i(h.a)(C),T=void 0===T?P:s.i(h.a)(T)),s.i(u.a)(w,C,T)):[]}},function(o,r,s){'use strict';var u=s(85);r.a=function(f,h){return s.i(u.a)(f,h)}},function(o,r,s){'use strict';var u=s(10),f=s(131);r.a=function(h,w,C){return s.i(f.a)(h,w,s.i(u.a)(C))}},function(o,r,s){'use strict';var u=s(85),f=s(55);r.a=function(h,w){var C=h?h.length:0;if(C){var T=s.i(u.a)(h,w);if(T<C&&s.i(f.a)(h[T],w))return T}return-1}},function(o,r,s){'use strict';var u=s(85);r.a=function(f,h){return s.i(u.a)(f,h,!0)}},function(o,r,s){'use strict';var u=s(10),f=s(131);r.a=function(h,w,C){return s.i(f.a)(h,w,s.i(u.a)(C),!0)}},function(o,r,s){'use strict';var u=s(85),f=s(55);r.a=function(h,w){var C=h?h.length:0;if(C){var T=s.i(u.a)(h,w,!0)-1;if(s.i(f.a)(h[T],w))return T}return-1}},function(o,r,s){'use strict';var u=s(197);r.a=function(f){return f&&f.length?s.i(u.a)(f):[]}},function(o,r,s){'use strict';var u=s(10),f=s(197);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w)):[]}},function(o,r,s){'use strict';var u=s(142);r.a=function(f){return s.i(u.a)(f,1)}},function(o,r,s){'use strict';var u=s(35),f=s(16);r.a=function(h,w,C){return h&&h.length?(w=C||void 0===w?1:s.i(f.a)(w),s.i(u.a)(h,0,0>w?0:w)):[]}},function(o,r,s){'use strict';var u=s(35),f=s(16);r.a=function(h,w,C){var T=h?h.length:0;return T?(w=C||void 0===w?1:s.i(f.a)(w),w=T-w,s.i(u.a)(h,0>w?0:w,T)):[]}},function(o,r,s){'use strict';var u=s(10),f=s(86);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w,3),!1,!0):[]}},function(o,r,s){'use strict';var u=s(10),f=s(86);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w,3)):[]}},function(o,r,s){'use strict';var u=s(146),f=s(15),h=s(47),w=0/0,C=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,S=/^0o[0-7]+$/i,E=parseInt;r.a=function(O){if('number'==typeof O)return O;if(s.i(h.a)(O))return w;if(s.i(f.a)(O)){var V=s.i(u.a)(O.valueOf)?O.valueOf():O;O=s.i(f.a)(V)?V+'':V}if('string'!=typeof O)return 0===O?O:+O;O=O.replace(C,'');var F=P.test(O);return F||S.test(O)?E(O.slice(2),F?2:8):T.test(O)?w:+O}},function(o,r,s){'use strict';var d=s(24),u=s(44),f=s(14),h=s(8),w=s.i(h.a)(function(C){return s.i(u.a)(s.i(d.a)(C,1,f.a,!0))});r.a=w},function(o,r,s){'use strict';var d=s(24),u=s(10),f=s(44),h=s(14),w=s(19),C=s(8),T=s.i(C.a)(function(P){var S=s.i(w.a)(P);return s.i(h.a)(S)&&(S=void 0),s.i(f.a)(s.i(d.a)(P,1,h.a,!0),s.i(u.a)(S))});r.a=T},function(o,r,s){'use strict';var d=s(24),u=s(44),f=s(14),h=s(19),w=s(8),C=s.i(w.a)(function(T){var P=s.i(h.a)(T);return s.i(f.a)(P)&&(P=void 0),s.i(u.a)(s.i(d.a)(T,1,f.a,!0),void 0,P)});r.a=C},function(o,r,s){'use strict';var u=s(44);r.a=function(f){return f&&f.length?s.i(u.a)(f):[]}},function(o,r,s){'use strict';var u=s(10),f=s(44);r.a=function(h,w){return h&&h.length?s.i(f.a)(h,s.i(u.a)(w)):[]}},function(o,r,s){'use strict';var u=s(44);r.a=function(f,h){return f&&f.length?s.i(u.a)(f,void 0,h):[]}},function(o,r,s){'use strict';var d=s(68),u=s(14),f=s(8),h=s.i(f.a)(function(w,C){return s.i(u.a)(w)?s.i(d.a)(w,C):[]});r.a=h},function(o,r,s){'use strict';var d=s(82),u=s(133),f=s(14),h=s(8),w=s.i(h.a)(function(C){return s.i(u.a)(s.i(d.a)(C,f.a))});r.a=w},function(o,r,s){'use strict';var d=s(82),u=s(10),f=s(133),h=s(14),w=s(19),C=s(8),T=s.i(C.a)(function(P){var S=s.i(w.a)(P);return s.i(h.a)(S)&&(S=void 0),s.i(f.a)(s.i(d.a)(P,h.a),s.i(u.a)(S))});r.a=T},function(o,r,s){'use strict';var d=s(82),u=s(133),f=s(14),h=s(19),w=s(8),C=s.i(w.a)(function(T){var P=s.i(h.a)(T);return s.i(f.a)(P)&&(P=void 0),s.i(u.a)(s.i(d.a)(T,f.a),void 0,P)});r.a=C},function(o,r,s){'use strict';var d=s(8),u=s(98),f=s.i(d.a)(u.a);r.a=f},function(o,r,s){'use strict';var u=s(67),f=s(199);r.a=function(h,w){return s.i(f.a)(h||[],w||[],u.a)}},function(o,r,s){'use strict';var u=s(426),f=s(199);r.a=function(h,w){return s.i(f.a)(h||[],w||[],u.a)}},function(o,r,s){'use strict';var d=s(8),u=s(149),f=s.i(d.a)(function(h){var w=h.length,C=1<w?h[w-1]:void 0;return C='function'==typeof C?(h.pop(),C):void 0,s.i(u.a)(h,C)});r.a=f},function(o,r){'use strict';r.a=function(u){const f=new Map;for(let h in u)f.set(h,u[h]);return f}},function(o,r){'use strict';function d(C){return!!C&&1==C.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(C)}function u(C){return!!C&&1==C.length&&/[\ud800-\udbff]/.test(C)}function f(C){return!!C&&1==C.length&&/[\udc00-\udfff]/.test(C)}r.a=function(C,T){return u(C.charAt(T-1))&&f(C.charAt(T))},r.b=function(C,T){return d(C.charAt(T))}},function(o){o.exports=function(s){if(!s.webpackPolyfill){var d=Object.create(s);d.children||(d.children=[]),Object.defineProperty(d,'loaded',{enumerable:!0,get:function(){return d.l}}),Object.defineProperty(d,'id',{enumerable:!0,get:function(){return d.i}}),Object.defineProperty(d,'exports',{enumerable:!0}),d.webpackPolyfill=1}return d}},function(o,r,s){'use strict';function d(){const w=document.querySelector('#editor'),C=document.createElement('p');C.innerHTML=`
		<h2>That's a shame...</h2>
		<p>We're not proud of this but this early developer preview does not work in your web browser.</p>
		<p>Please consider using <a href="https://www.google.com/chrome/">Google Chrome</a> instead.</p>
		<p>We're terribly sorry.</p>
	`,C.classList.add('message'),w.style.display='none',w.parentNode.insertBefore(C,w)}Object.defineProperty(r,'__esModule',{value:!0});var u=s(291),f=s(274),h=s(356);try{u.a.create(document.querySelector('#editor'),{plugins:[f.a,h.a],toolbar:['headings','bold','italic','link','unlink','bulletedList','numberedList','blockQuote','undo','redo'],image:{toolbar:['imageStyleFull','imageStyleSide','|','imageTextAlternative']}}).then((w)=>{window.editor=w}).catch((w)=>{console.error(w.stack)})}catch(w){d()}},function(o,r,s){'use strict';var d=s(275),u=s(276),f=s(2),h=s(170),w=s(176),C=s(152),T=s(153);class P extends f.a{static get requires(){return[h.a,w.a,C.a,T.a]}static get pluginName(){return'autoformat/autoformat'}init(){this._addListAutoformats(),this._addHeadingAutoformats(),this._addInlineAutoformats()}_addListAutoformats(){new d.a(this.editor,/^[\*\-]\s$/,'bulletedList'),new d.a(this.editor,/^\d+[\.|)]?\s$/,'numberedList')}_addHeadingAutoformats(){new d.a(this.editor,/^(#{1,3})\s$/,(S)=>{const{batch:E,match:O}=S,V=O[1].length;this.editor.execute(`heading${V}`,{batch:E})})}_addInlineAutoformats(){new u.a(this.editor,/(\*\*)([^\*]+)(\*\*)$/g,'bold'),new u.a(this.editor,/(__)([^_]+)(__)$/g,'bold'),new u.a(this.editor,/(?:^|[^\*])(\*)([^\*_]+)(\*)$/g,'italic'),new u.a(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,'italic')}}r.a=P},function(o,r,s){'use strict';var d=s(3),u=s(58);r.a=class{constructor(h,w,C){let T;if('function'==typeof C)T=C;else{T=(S)=>{const{batch:E}=S;h.execute(C,{batch:E})}}h.document.on('change',(P,S,E)=>{if('insert'!=S)return;const O=E.range.getItems().next().value;if(!(O instanceof u.a))return;const V=O.textNode,F=V.data;if('paragraph'!==V.parent.name||!F)return;const R=w.exec(F);R&&h.document.enqueueChanges(()=>{const N=h.document.batch(),M=d.a.createFromParentsAndOffsets(V.parent,0,V.parent,R[0].length);N.remove(M),T({batch:N,match:R})})})}}},function(o,r,s){'use strict';function d(w){return Array.from(w.getChildren()).reduce((C,T)=>C+T.data,'')}var u=s(109),f=s(99);r.a=class{constructor(w,C,T){this.editor=w;let P,S,E,O;C instanceof RegExp?P=C:E=C,'string'==typeof T?S=T:O=T,E=E||((V)=>{let F,R=[],N=[];for(;null!==(F=P.exec(V))&&!(F&&4>F.length);){let{index:M,1:I,2:L,3:D}=F;M+=F[0].length-(I+L+D).length;const z=[M,M+I.length],K=[M+I.length+L.length,M+I.length+L.length+D.length];R.push(z),R.push(K),N.push([M+I.length,M+I.length+L.length])}return{remove:R,format:N}}),O=O||((V,F)=>{for(let R of F)V.setAttribute(R,S,!0)}),w.document.on('change',(V,F)=>{if('insert'!==F)return;const R=this.editor.document.selection;if(!R.isCollapsed||!R.focus||!R.focus.parent)return;const N=R.focus.parent,M=d(N).slice(0,R.focus.offset),I=E(M),L=[];I.format.forEach((z)=>{void 0===z[0]||void 0===z[1]||L.push(u.a.createFromParentsAndOffsets(N,z[0],N,z[1]))});const D=[];if(I.remove.slice().reverse().forEach((z)=>{void 0===z[0]||void 0===z[1]||D.push(u.a.createFromParentsAndOffsets(N,z[0],N,z[1]))}),!(L.length&&D.length))return;const q=w.document.batch();w.document.enqueueChanges(()=>{const z=s.i(f.a)(S,L,w.document.schema);O(q,z);for(let K of D)q.remove(K)})})}}},function(o,r,s){'use strict';var d=s(2),u=s(152),f=s(22),h=s(514),w=s.n(h);class C extends d.a{static get requires(){return[u.a]}static get pluginName(){return'basic-styles/bold'}init(){const T=this.editor,P=T.t,S=T.commands.get('bold'),E='CTRL+B';T.ui.componentFactory.add('bold',(O)=>{const V=new f.a(O);return V.set({label:P('Bold'),icon:w.a,keystroke:E,tooltip:!0}),V.bind('isOn','isEnabled').to(S,'value','isEnabled'),this.listenTo(V,'execute',()=>T.execute('bold')),V}),T.keystrokes.set(E,'bold')}}r.a=C},function(o,r,s){'use strict';var d=s(2),u=s(153),f=s(22),h=s(515),w=s.n(h);class C extends d.a{static get requires(){return[u.a]}static get pluginName(){return'basic-styles/italic'}init(){const T=this.editor,P=T.t,S=T.commands.get('italic'),E='CTRL+I';T.ui.componentFactory.add('italic',(O)=>{const V=new f.a(O);return V.set({label:P('Italic'),icon:w.a,keystroke:E,tooltip:!0}),V.bind('isOn','isEnabled').to(S,'value','isEnabled'),this.listenTo(V,'execute',()=>T.execute('italic')),V}),T.keystrokes.set(E,'italic')}}r.a=C},function(o,r,s){'use strict';var d=s(2),u=s(281),f=s(22),h=s(519),w=s.n(h),C=s(505),T=s.n(C);class P extends d.a{static get requires(){return[u.a]}static get pluginName(){return'block-quote/blockquote'}init(){const S=this.editor,E=S.t,O=S.commands.get('blockQuote');S.ui.componentFactory.add('blockQuote',(V)=>{const F=new f.a(V);return F.set({label:E('Block quote'),icon:w.a,tooltip:!0}),F.bind('isOn','isEnabled').to(O,'value','isEnabled'),this.listenTo(F,'execute',()=>S.execute('blockQuote')),F})}afterInit(){const S=this.editor,E=S.commands.get('blockQuote');this.listenTo(this.editor.editing.view,'enter',(O,V)=>{const F=this.editor.document,R=F.selection.getLastPosition().parent;F.selection.isCollapsed&&R.isEmpty&&E.value&&(this.editor.execute('blockQuote'),V.preventDefault(),O.stop())})}}r.a=P},function(o,r,s){'use strict';function d(S){return'blockQuote'==S.parent.name?S.parent:null}function u(S){let E,O=0;const V=[];for(;O<S.length;){const F=S[O],R=S[O+1];E||(E=h.a.createBefore(F)),R&&F.nextSibling==R||(V.push(new C.a(E,h.a.createAfter(F))),E=null),O++}return V}var f=s(11),h=s(1),w=s(5),C=s(3),T=s(64);class P extends f.a{constructor(S){super(S),this.set('value',!1),this.listenTo(S.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}refreshValue(){const S=s.i(T.a)(this.editor.document.selection.getSelectedBlocks());this.value=!!(S&&d(S))}_doExecute(S={}){const E=this.editor.document,O=S.batch||E.batch(),V=Array.from(E.selection.getSelectedBlocks());E.enqueueChanges(()=>{this.value?this._removeQuote(O,V.filter(d)):this._applyQuote(O,V)})}_checkEnabled(){if(this.value)return!0;const S=this.editor.document.selection,E=this.editor.document.schema,O=s.i(T.a)(S.getSelectedBlocks());if(!O)return!1;const V=E.check({name:'blockQuote',inside:h.a.createBefore(O)}),F=E.check({name:O.name,attributes:Array.from(O.getAttributeKeys()),inside:'blockQuote'});return V&&F}_removeQuote(S,E){u(E).reverse().forEach((O)=>{if(O.start.isAtStart&&O.end.isAtEnd)return void S.unwrap(O.start.parent);if(O.start.isAtStart){const F=h.a.createBefore(O.start.parent);return void S.move(O,F)}O.end.isAtEnd||S.split(O.end);const V=h.a.createAfter(O.end.parent);S.move(O,V)})}_applyQuote(S,E){const O=[];u(E).reverse().forEach((V)=>{let F=d(V.start);F||(F=new w.a('blockQuote'),S.wrap(V,F)),O.push(F)}),O.reverse().reduce((V,F)=>{return V.nextSibling==F?(S.merge(h.a.createAfter(V)),V):F})}}r.a=P},function(o,r,s){'use strict';var d=s(2),u=s(280),f=s(38),h=s(37);class w extends d.a{init(){const C=this.editor,T=C.document.schema;C.commands.set('blockQuote',new u.a(C)),T.registerItem('blockQuote'),T.allow({name:'blockQuote',inside:'$root'}),T.allow({name:'$block',inside:'blockQuote'}),s.i(f.a)().for(C.data.viewToModel).fromElement('blockquote').toElement('blockQuote'),s.i(h.a)().for(C.data.modelToView,C.editing.modelToView).fromElement('blockQuote').toElement('blockquote')}afterInit(){const C=this.editor.document.schema;C.hasItem('listItem')&&C.allow({name:'listItem',inside:'blockQuote',attributes:['type','indent']})}}r.a=w},function(o,r,s){'use strict';var d=s(2),u=s(283),f=s(286),h=s(285),w=s(159);class C extends d.a{static get pluginName(){return'clipboard/clipboard'}init(){const T=this.editor,P=T.document,S=T.editing.view;this._htmlDataProcessor=new w.a,S.addObserver(u.a),this.listenTo(S,'paste',(O,V)=>{const F=V.dataTransfer;let R='';F.getData('text/html')?R=s.i(h.a)(F.getData('text/html')):F.getData('text/plain')&&(R=s.i(f.a)(F.getData('text/plain'))),R=this._htmlDataProcessor.toView(R),V.preventDefault(),S.fire('clipboardInput',{dataTransfer:F,content:R})},{priority:'low'}),this.listenTo(S,'clipboardInput',(O,V)=>{if(!V.content.isEmpty){const F=this.editor.data,R=F.toModel(V.content,'$clipboardHolder');P.enqueueChanges(()=>{F.insertContent(R,P.selection)})}},{priority:'low'});const E=(O,V)=>{const F=V.dataTransfer,R=T.data.toView(T.data.getSelectedContent(P.selection));V.preventDefault(),S.fire('clipboardOutput',{dataTransfer:F,content:R,method:O.name})};this.listenTo(S,'copy',E,{priority:'low'}),this.listenTo(S,'cut',E,{priority:'low'}),this.listenTo(S,'clipboardOutput',(O,V)=>{V.content.isEmpty||V.dataTransfer.setData('text/html',this._htmlDataProcessor.toData(V.content)),'cut'==V.method&&P.enqueueChanges(()=>{T.data.deleteContent(P.selection,P.batch(),{merge:!0})})},{priority:'low'})}}r.a=C},function(o,r,s){'use strict';var d=s(60),u=s(284);class f extends d.a{constructor(h){super(h),this.domEventType=['paste','copy','cut']}onDomEvent(h){this.fire(h.type,h,{dataTransfer:new u.a(h.clipboardData)})}}r.a=f},function(o,r){'use strict';r.a=class{constructor(u){this._native=u}getData(u){return this._native.getData(u)}setData(u,f){this._native.setData(u,f)}}},function(o,r){'use strict';r.a=function(u){return u.replace(/<span class="Apple-converted-space">(\s+)<\/span>/g,(f,h)=>{return 1==h.length?' ':h})}},function(o,r){'use strict';r.a=function(u){return u=u.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n\n/g,'</p><p>').replace(/\n/g,' ').replace(/^\s/,'&nbsp;').replace(/\s$/,'&nbsp;').replace(/\s\s/g,' &nbsp;'),-1<u.indexOf('</p><p>')&&(u=`<p>${u}</p>`),u}},function(o,r,s){'use strict';var d=s(66);class u extends d.a{constructor(f){super(),this.editor=f}set(f,h){if('string'==typeof h){const w=h;h=()=>{this.editor.execute(w)}}super.set(f,h)}listenTo(f){this._listener.listenTo(f,'keydown',(h,w)=>{const C=this.press(w);C&&w.preventDefault()})}}r.a=u},function(o,r,s){'use strict';var d=s(7),u=s(386),f=s(290),h=s(499),w=s(294),C=s(309),T=s(0),P=s(4);class S{constructor(E){const O=this.constructor.build&&this.constructor.build.plugins;this.config=new u.a(E,this.constructor.build&&this.constructor.build.config),this.config.define('plugins',O),this.plugins=new f.a(this,O),this.commands=new Map,this.locale=new h.a(this.config.get('lang')),this.t=this.locale.t,this.document=new C.a,this.data=new w.a(this.document)}initPlugins(){function O(R,N){return R.reduce((M,I)=>{return M.then(I[N].bind(I))},Promise.resolve())}const V=this,F=this.config;return function(){const R=F.get('plugins')||[],N=F.get('removePlugins')||[];return V.plugins.load(R,N)}().then((R)=>{return O(R,'init').then(()=>O(R,'afterInit'))}).then(()=>this.fire('pluginsReady'))}destroy(){return this.fire('destroy'),this.stopListening(),Promise.resolve().then(()=>{this.document.destroy(),this.data.destroy()})}execute(E,O){let V=this.commands.get(E);if(!V)throw new T.a('editor-command-not-found: Specified command has not been added to the editor.');V._execute(O)}static create(E){return new Promise((O)=>{const V=new this(E);O(V.initPlugins().then(()=>{V.fire('dataReady'),V.fire('ready')}).then(()=>V))})}}r.a=S,s.i(P.a)(S,d.a)},function(o,r,s){'use strict';var d=s(288),u=s(287),f=s(296),h=s(389),w=s(397);class C extends d.a{constructor(T,P){super(P),this.element=T,this.editing=new f.a(this.document),this.keystrokes=new u.a(this),this.keystrokes.listenTo(this.editing.view)}destroy(){return Promise.resolve().then(()=>this.keystrokes.destroy()).then(()=>this.editing.destroy()).then(super.destroy())}setData(T){this.data.set(T)}getData(){return this.data.get()}updateEditorElement(){s.i(w.a)(this.element,this.getData())}loadDataFromEditorElement(){this.setData(s.i(h.a)(this.element))}static create(T,P){return new Promise((S)=>{const E=new this(T,P);S(E.initPlugins().then(()=>{E.fire('dataReady'),E.fire('ready')}).then(()=>E))})}}r.a=C},function(o,r,s){'use strict';var d=s(2),u=s(0),f=s(48);class h{constructor(w,C=[]){this._editor=w,this._availablePlugins=new Map,this._plugins=new Map;for(const T of C)this._availablePlugins.set(T,T),T.pluginName&&this._availablePlugins.set(T.pluginName,T)}*[Symbol.iterator](){for(const w of this._plugins)'function'==typeof w[0]&&(yield w)}get(w){return this._plugins.get(w)}load(w,C=[]){function T(q){return L.includes(q)||F.get(q)||N.has(q)?void 0:P(q).catch((z)=>{throw f.a.error('plugincollection-load: It was not possible to load the plugin.',{plugin:q}),z})}function P(q){return new Promise((z)=>{N.add(q),E(q),q.requires&&q.requires.forEach(($)=>{const H=S($);if(C.includes(H))throw new u.a('plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.',{plugin:H,requiredBy:q});T(H)});const K=new q(R);F._add(q,K),M.push(K),z()})}function S(q){return'function'==typeof q?q:F._availablePlugins.get(q)}function E(q){if(!(q.prototype instanceof d.a))throw new u.a('plugincollection-instance: The loaded plugin module is not an instance of Plugin.',{plugin:q})}function V(q){return q.map((z)=>S(z)).filter((z)=>!!z)}const F=this,R=this._editor,N=new Set,M=[],I=V(w),L=V(C),D=function(q){const z=[];for(const K of q)S(K)||z.push(K);return z.length?z:null}(w);if(D){const q='plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.';return f.a.error(q,{plugins:D}),Promise.reject(new u.a(q,{plugins:D}))}return Promise.all(I.map(T)).then(()=>M)}_add(w,C){this._plugins.set(w,C),w.pluginName&&this._plugins.set(w.pluginName,C)}}r.a=h},function(o,r,s){'use strict';var d=s(289),u=s(159),f=s(292),h=s(293),w=s(398),C=s(506),T=s.n(C);class P extends d.a{constructor(S,E){super(S,E),this.document.createRoot(),this.data.processor=new u.a,this.ui=new f.a(this,new h.a(this.locale)),this._elementReplacer=new w.a}destroy(){return this.updateEditorElement(),this._elementReplacer.restore(),this.ui.destroy().then(()=>super.destroy())}static create(S,E){return new Promise((O)=>{const V=new this(S,E);O(V.initPlugins().then(()=>V._elementReplacer.replace(S,V.ui.view.element)).then(()=>V.ui.init()).then(()=>V.fire('uiReady')).then(()=>V.editing.view.attachDomRoot(V.ui.view.editableElement)).then(()=>V.loadDataFromEditorElement()).then(()=>{V.fire('dataReady'),V.fire('ready')}).then(()=>V))})}}r.a=P},function(o,r,s){'use strict';var d=s(365),u=s(65),f=s(379);r.a=class{constructor(w,C){this.editor=w,this.view=C,this.componentFactory=new d.a(w),this.focusTracker=new u.a,C.set('width',w.config.get('ui.width')),C.set('height',w.config.get('ui.height')),C.toolbar.bind('isActive').to(this.focusTracker,'isFocused'),C.toolbar.limiterElement=C.element;const T=w.editing.createRoot('div');C.editable.bind('isReadOnly').to(T),C.editable.bind('isFocused').to(w.editing.view),C.editable.name=T.rootName,this.focusTracker.add(C.editableElement)}init(){const w=this.editor;return this.view.init().then(()=>{return this.view.toolbar.fillFromConfig(w.config.get('toolbar'),this.componentFactory)}).then(()=>{s.i(f.a)({origin:w.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:w.keystrokes,toolbar:this.view.toolbar})})}destroy(){return this.view.destroy()}}},function(o,r,s){'use strict';var d=s(372),u=s(371),f=s(380);class h extends d.a{constructor(w){super(w),this.toolbar=new f.a(w),this.editable=new u.a(w),this.top.add(this.toolbar),this.main.add(this.editable)}get editableElement(){return this.editable.element}}r.a=h},function(o,r,s){'use strict';var d=s(4),u=s(7),f=s(156),h=s(158),w=s(100),C=s(304),T=s(302),P=s(115),S=s(3),E=s(1),O=s(298),V=s(295),F=s(299),R=s(297);class N{constructor(M,I){this.model=M,this.processor=I,this.mapper=new f.a,this.modelToView=new h.a(this.model,{mapper:this.mapper}),this.modelToView.on('insert:$text',s.i(w.j)(),{priority:'lowest'}),this.viewToModel=new C.a({schema:M.schema}),this.viewToModel.on('text',s.i(T.a)(),{priority:'lowest'}),this.viewToModel.on('element',s.i(T.b)(),{priority:'lowest'}),this.viewToModel.on('documentFragment',s.i(T.b)(),{priority:'lowest'}),this.on('insertContent',(L,D)=>s.i(O.a)(this,D.content,D.selection,D.batch)),this.on('deleteContent',(L,D)=>s.i(V.a)(D.selection,D.batch,D.options)),this.on('modifySelection',(L,D)=>s.i(F.a)(this,D.selection,D.options)),this.on('getSelectedContent',(L,D)=>{D.content=s.i(R.a)(D.selection)})}get(M='main'){return this.stringify(this.model.getRoot(M))}stringify(M){const I=this.toView(M);return this.processor.toData(I)}toView(M){const I=S.a.createIn(M),L=new P.a;return this.mapper.bindElements(M,L),this.modelToView.convertInsertion(I),this.mapper.clearBindings(),L}set(M,I='main'){const L=this.model.getRoot(I);this.model.enqueueChanges(()=>{this.model.selection.removeAllRanges(),this.model.selection.clearAttributes(),this.model.batch('transparent').remove(S.a.createIn(L)).insert(E.a.createAt(L,0),this.parse(M))})}parse(M,I='$root'){const L=this.processor.toView(M);return this.toModel(L,I)}toModel(M,I='$root'){return this.viewToModel.convert(M,{context:[I]})}destroy(){}insertContent(M,I,L){this.fire('insertContent',{content:M,selection:I,batch:L})}deleteContent(M,I,L){this.fire('deleteContent',{batch:I,selection:M,options:L})}modifySelection(M,I){this.fire('modifySelection',{selection:M,options:I})}getSelectedContent(M){const I={selection:M};return this.fire('getSelectedContent',I),I.content}}r.a=N,s.i(d.a)(N,u.a)},function(o,r,s){'use strict';function u(S,E,O){const V=E.parent,F=O.parent;if(V!=F&&V.parent&&F.parent&&h(E,O)){for(E=C.a.createAfter(V),O=C.a.createBefore(F),F.isEmpty?S.remove(F):(!O.isEqual(E)&&S.move(F,E),S.merge(E));O.parent.isEmpty;){const R=O.parent;O=C.a.createBefore(R),S.remove(R)}u(S,E,O)}}function f(S,E){const O=S.schema.check({name:'$text',inside:E}),V=S.schema.check({name:'paragraph',inside:E});return!O&&V}function h(S,E){const O=S.root.document.schema,V=new T.a(S,E);for(const F of V.getWalker())if(O.objects.has(F.item.name)||O.limits.has(F.item.name))return!1;return!0}var w=s(163),C=s(1),T=s(3),P=s(5);r.a=function(S,E,O={}){if(!S.isCollapsed){const V=S.getFirstRange(),F=V.start,R=w.a.createFromPosition(V.end);if(V.start.isTouching(V.end)||E.remove(V),O.merge&&u(E,F,R),S.collapse(F),f(E.document,F)){const N=new P.a('paragraph');E.insert(F,N),S.collapse(N)}R.detach()}}},function(o,r,s){'use strict';var d=s(317),u=s(156),f=s(158),h=s(100),w=s(301),C=s(157),T=s(7);r.a=class{constructor(S){this.model=S,this.view=new d.a,this.mapper=new u.a,this.modelToView=new f.a(this.model,{mapper:this.mapper,viewSelection:this.view.selection}),this._listener=Object.create(T.a),this._listener.listenTo(this.model,'change',(E,O,V)=>{this.modelToView.convertChange(O,V)},{priority:'low'}),this._listener.listenTo(this.model,'changesDone',()=>{const E=this.model.selection;this.modelToView.convertSelection(E),this.view.render()},{priority:'low'}),this._listener.listenTo(this.model.markers,'add',(E,O)=>{this.modelToView.convertMarker('addMarker',O.name,O.getRange())}),this._listener.listenTo(this.model.markers,'remove',(E,O)=>{this.modelToView.convertMarker('removeMarker',O.name,O.getRange())}),this._listener.listenTo(this.view,'selectionChange',s.i(w.a)(this.model,this.mapper)),this.modelToView.on('insert:$text',s.i(h.j)(),{priority:'lowest'}),this.modelToView.on('remove',s.i(h.k)(),{priority:'low'}),this.modelToView.on('selection',s.i(C.c)(),{priority:'low'}),this.modelToView.on('selection',s.i(C.d)(),{priority:'low'}),this.modelToView.on('selection',s.i(C.e)(),{priority:'low'}),this.modelToView.on('selection',s.i(C.f)(),{priority:'low'})}createRoot(S,E='main'){const O=this.view.createRoot(S,E),V=this.model.getRoot(E);return this.mapper.bindElements(V,O),O}destroy(){this.view.destroy(),this._listener.stopListening()}}},function(o,r,s){'use strict';function u(P){const S=[];Array.from(P.getItems({direction:'backward'})).map((E)=>h.a.createOn(E)).filter((E)=>{const O=(E.start.isAfter(P.start)||E.start.isEqual(P.start))&&(E.end.isBefore(P.end)||E.end.isEqual(P.end));return O}).forEach((E)=>{S.push(E.start.parent),s.i(T.c)(E)}),S.forEach((E)=>{for(let O=E;O.parent&&O.isEmpty;){const V=h.a.createOn(O);O=O.parent,s.i(T.c)(V)}})}var f=s(49),h=s(3),w=s(1),C=s(25),T=s(13);r.a=function(P){const S=new f.a,E=P.getFirstRange();if(!E||E.isCollapsed)return S;const O=E.start.root,V=E.start.getCommonPath(E.end),F=O.getNodeByPath(V);let R=E.start.parent==E.end.parent?E:h.a.createFromParentsAndOffsets(F,E.start.path[V.length],F,E.end.path[V.length]+1);const N=R.end.offset-R.start.offset;for(const M of R.getItems({shallow:!0}))M.is('textProxy')?S.appendChildren(new C.a(M.data,M.getAttributes())):S.appendChildren(M.clone(!0));if(R!=E){const M=E._getTransformedByMove(R.start,w.a.createAt(S,0),N)[0],I=new h.a(w.a.createAt(S),M.start),L=new h.a(M.end,w.a.createAt(S,'end'));u(L),u(I)}return S}},function(o,r,s){'use strict';var u=s(1),f=s(163),h=s(5),w=s(3),C=s(48);r.a=function(P,S,E,O){O||(O=P.model.batch()),E.isCollapsed||P.deleteContent(E,O,{merge:!0});const V=new T(P,O,E.anchor);let F;F=S.is('documentFragment')?S.getChildren():[S],V.handleNodes(F,{isFirst:!0,isLast:!0});const R=V.getSelectionRange();R?E.setRanges([R]):C.a.warn('insertcontent-no-range: Cannot determine a proper selection range after insertion.')};class T{constructor(P,S,E){this.dataController=P,this.batch=S,this.position=E,this.canMergeWith=new Set([this.position.parent]),this.schema=P.model.schema}handleNodes(P,S){P=Array.from(P);for(let E=0;E<P.length;E++){const O=P[E];this._handleNode(O,{isFirst:0===E&&S.isFirst,isLast:E===P.length-1&&S.isLast})}}getSelectionRange(){return this.nodeToSelect?w.a.createOn(this.nodeToSelect):this.dataController.model.getNearestSelectionRange(this.position)}_handleNode(P,S){if(this._checkIsObject(P))return void this._handleObject(P,S);const E=this._checkAndSplitToAllowedPosition(P,S);return E?void(this._insert(P),this._mergeSiblingsOf(P,S)):void this._handleDisallowedNode(P,S)}_handleObject(P,S){this._checkAndSplitToAllowedPosition(P)?this._insert(P):this._tryAutoparagraphing(P,S)}_handleDisallowedNode(P,S){P.is('element')?this.handleNodes(P.getChildren(),S):this._tryAutoparagraphing(P,S)}_insert(P){if(!this._checkIsAllowed(P,[this.position.parent]))return void C.a.error('insertcontent-wrong-position: The node cannot be inserted on the given position.',{node:P,position:this.position});const S=f.a.createFromPosition(this.position);this.batch.insert(this.position,P),this.position=u.a.createFromPosition(S),S.detach(),this.nodeToSelect=this._checkIsObject(P)&&!this.schema.check({name:'$text',inside:[this.position.parent]})?P:null}_mergeSiblingsOf(P,S){if(P instanceof h.a){const E=S.isFirst&&P.previousSibling instanceof h.a&&this.canMergeWith.has(P.previousSibling),O=S.isLast&&P.nextSibling instanceof h.a&&this.canMergeWith.has(P.nextSibling),V=f.a.createBefore(P),F=f.a.createAfter(P);if(E){const R=f.a.createFromPosition(this.position);this.batch.merge(V),this.position=u.a.createFromPosition(R),R.detach()}if(O){let R;this.position.isEqual(F)||C.a.error('insertcontent-wrong-position-on-merge: The insertion position should equal the merge position'),this.position=u.a.createAt(F.nodeBefore,'end'),R=new f.a(this.position.root,this.position.path,'sticksToPrevious'),this.batch.merge(F),this.position=u.a.createFromPosition(R),R.detach()}V.detach(),F.detach()}}_tryAutoparagraphing(P,S){const E=new h.a('paragraph');this._getAllowedIn(E,this.position.parent)&&this._checkIsAllowed(P,[E])&&(E.appendChildren(P),this._handleNode(E,S))}_checkAndSplitToAllowedPosition(P){const S=this._getAllowedIn(P,this.position.parent);if(!S)return!1;for(;S!=this.position.parent;){if(this.schema.limits.has(this.position.parent.name))return!1;if(this.position.isAtStart){const E=this.position.parent;this.position=u.a.createBefore(E),E.isEmpty&&this.batch.remove(E)}else if(this.position.isAtEnd)this.position=u.a.createAfter(this.position.parent);else{const E=u.a.createAfter(this.position.parent);this.batch.split(this.position),this.position=E,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(P,S){return this._checkIsAllowed(P,[S])?S:S.parent?this._getAllowedIn(P,S.parent):null}_checkIsAllowed(P,S){return this.schema.check({name:this._getNodeSchemaName(P),attributes:Array.from(P.getAttributeKeys()),inside:S})}_checkIsObject(P){return this.schema.objects.has(this._getNodeSchemaName(P))}_getNodeSchemaName(P){return P.is('text')?'$text':P.name}}},function(o,r,s){'use strict';function u(S,E){if('text'==E.type)return f(S.walker,S.unit);if(E.type==(S.isForward?'elementStart':'elementEnd')){if(S.schema.objects.has(E.item.name))return w.a.createAt(E.item,S.isForward?'after':'before');if(S.schema.check({name:'$text',inside:E.nextPosition}))return E.nextPosition}else{if(S.schema.limits.has(E.item.name))return void S.walker.skip(()=>!0);if(S.schema.check({name:'$text',inside:E.nextPosition}))return E.nextPosition}}function f(S,E){const O=S.position.textNode;if(O){const V=O.data;for(let F=S.position.offset-O.startOffset;s.i(P.a)(V,F)||'character'==E&&s.i(P.b)(V,F);)S.next(),F=S.position.offset-O.startOffset}return S.position}function h(S,E){const O=S.root,V=w.a.createAt(O,E?'end':0);return E?new T.a(S,V):new T.a(V,S)}var w=s(1),C=s(33),T=s(3),P=s(271);r.a=function(S,E,O={}){const V=S.model.schema,F='backward'!=O.direction,R=O.unit?O.unit:'character',N=E.focus,M=new C.a({boundaries:h(N,F),singleCharacters:!0,direction:F?'forward':'backward'}),I={walker:M,schema:V,isForward:F,unit:R};for(let L;L=M.next();){if(L.done)return;const D=u(I,L.value);if(D)return void E.setFocus(D)}}},function(o,r,s){'use strict';var d=s(58);r.a=class{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(f,h){f instanceof d.a&&(f=this._getSymbolForTextProxy(f)),this._consumable.has(f)||this._consumable.set(f,new Map),this._consumable.get(f).set(h,!0)}consume(f,h){return f instanceof d.a&&(f=this._getSymbolForTextProxy(f)),!!this.test(f,h)&&(this._consumable.get(f).set(h,!1),!0)}test(f,h){f instanceof d.a&&(f=this._getSymbolForTextProxy(f));const w=this._consumable.get(f);if(w===void 0)return null;const C=w.get(h);return void 0===C?null:C}revert(f,h){f instanceof d.a&&(f=this._getSymbolForTextProxy(f));const w=this.test(f,h);return!1===w?(this._consumable.get(f).set(h,!0),!0):!0!==w&&null}_getSymbolForTextProxy(f){let h=null;const w=this._textProxyRegistry.get(f.startOffset);if(w){const C=w.get(f.endOffset);C&&(h=C.get(f.parent))}return h||(h=this._addSymbolForTextProxy(f.startOffset,f.endOffset,f.parent)),h}_addSymbolForTextProxy(f,h,w){const C=Symbol();let T,P;return T=this._textProxyRegistry.get(f),T||(T=new Map,this._textProxyRegistry.set(f,T)),P=T.get(h),P||(P=new Map,T.set(h,P)),P.set(w,C),C}}},function(o,r,s){'use strict';var u=s(57);r.a=function(f,h){return(w,C)=>{const T=C.newSelection,P=new u.a,S=[];for(let E of T.getRanges())S.push(h.toModelRange(E));P.setRanges(S,T.isBackward),P.isEqual(f.selection)||f.enqueueChanges(()=>{f.selection.setTo(P)})}}},function(o,r,s){'use strict';var f=s(49),h=s(25),w=s(13);r.b=function(){return(C,T,P,S)=>{if(!T.output&&P.consume(T.input,{name:!0})){const E=S.convertChildren(T.input,P,T);T.output=new f.a(s.i(w.b)(E))}}},r.a=function(){return(C,T,P,S)=>{const E={name:'$text',inside:T.context};S.schema.check(E)&&P.consume(T.input)&&(T.output=new h.a(T.input.data))}}},function(o,r,s){'use strict';var d=s(12),u=s(0);class f{constructor(){this._consumables=new Map}add(w,C){let T;return w.is('text')||w.is('documentFragment')?void this._consumables.set(w,!0):void(this._consumables.has(w)?T=this._consumables.get(w):(T=new h,this._consumables.set(w,T)),T.add(C))}test(w,C){const T=this._consumables.get(w);return void 0===T?null:w.is('text')||w.is('documentFragment')?T:T.test(C)}consume(w,C){return!!this.test(w,C)&&(w.is('text')||w.is('documentFragment')?this._consumables.set(w,!1):this._consumables.get(w).consume(C),!0)}revert(w,C){const T=this._consumables.get(w);T!==void 0&&(w.is('text')||w.is('documentFragment')?this._consumables.set(w,!0):T.revert(C))}static consumablesFromElement(w){const C={name:!0,attribute:[],class:[],style:[]},T=w.getAttributeKeys();for(let E of T)'style'!=E&&'class'!=E&&C.attribute.push(E);const P=w.getClassNames();for(let E of P)C.class.push(E);const S=w.getStyleNames();for(let E of S)C.style.push(E);return C}static createFrom(w,C){if(C||(C=new f),w.is('text'))return C.add(w),C;w.is('element')&&C.add(w,f.consumablesFromElement(w)),w.is('documentFragment')&&C.add(w);for(let T of w.getChildren())C=f.createFrom(T,C);return C}}r.a=f;class h{constructor(){this._canConsumeName=null,this._consumables={attribute:new Map,style:new Map,class:new Map}}add(w){for(let C in w.name&&(this._canConsumeName=!0),this._consumables)C in w&&this._add(C,w[C])}test(w){if(w.name&&!this._canConsumeName)return this._canConsumeName;for(let C in this._consumables)if(C in w){const T=this._test(C,w[C]);if(!0!==T)return T}return!0}consume(w){for(let C in w.name&&(this._canConsumeName=!1),this._consumables)C in w&&this._consume(C,w[C])}revert(w){for(let C in w.name&&(this._canConsumeName=!0),this._consumables)C in w&&this._revert(C,w[C])}_add(w,C){const T=s.i(d.a)(C)?C:[C],P=this._consumables[w];for(let S of T){if('attribute'===w&&('class'===S||'style'===S))throw new u.a('viewconsumable-invalid-attribute: Classes and styles should be handled separately.');P.set(S,!0)}}_test(w,C){const T=s.i(d.a)(C)?C:[C],P=this._consumables[w];for(let S of T)if('attribute'===w&&('class'===S||'style'===S)){const E=this._test(S,[...this._consumables[S].keys()]);if(!0!==E)return E}else{const E=P.get(S);if(E===void 0)return null;if(!E)return!1}return!0}_consume(w,C){const T=s.i(d.a)(C)?C:[C],P=this._consumables[w];for(let S of T)'attribute'===w&&('class'===S||'style'===S)?this._consume(S,[...this._consumables[S].keys()]):P.set(S,!1)}_revert(w,C){const T=s.i(d.a)(C)?C:[C],P=this._consumables[w];for(let S of T)if('attribute'===w&&('class'===S||'style'===S))this._revert(S,[...this._consumables[S].keys()]);else{const E=P.get(S);!1===E&&P.set(S,!0)}}}},function(o,r,s){'use strict';function d(F){const R=new Set,N=new Map,M=new P.a({startPosition:T.a.createAt(F,0),ignoreElementEnd:!0});for(const I of M)'$marker'==I.item.name&&R.add(I.item);for(const I of R){const L=I.getAttribute('data-name'),D=T.a.createBefore(I);N.has(L)?N.get(L).end=T.a.createFromPosition(D):N.set(L,new C.a(T.a.createFromPosition(D))),s.i(O.c)(C.a.createOn(I))}return N}var u=s(303),f=s(7),h=s(4),w=s(45),C=s(3),T=s(1),P=s(33),S=s(56),E=s(49),O=s(13);class V{constructor(F={}){this.conversionApi=s.i(w.a)({},F),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this)}convert(F,R={}){this.fire('viewCleanup',F);const N=u.a.createFrom(F),M=this._convertItem(F,N,R);if(!(M instanceof S.a||M instanceof E.a))return M;let I=M;return I.is('documentFragment')||(I=new E.a([I])),I.markers=d(I),I}_convertItem(F,R,N={}){const M=s.i(w.a)({},N,{input:F,output:null});return F.is('element')?this.fire('element:'+F.name,M,R,this.conversionApi):F.is('text')?this.fire('text',M,R,this.conversionApi):this.fire('documentFragment',M,R,this.conversionApi),M.output}_convertChildren(F,R,N={}){const M=Array.from(F.getChildren()),I=M.map((L)=>this._convertItem(L,R,N));return I.reduce((L,D)=>D?L.concat(D):L,[])}}r.a=V,s.i(h.a)(V,f.a)},function(o,r){'use strict';r.a=class{getHtml(u){const f=document.implementation.createHTMLDocument(''),h=f.createElement('div');return h.appendChild(u),h.innerHTML}}},function(o,r,s){'use strict';var d=s(160),u=s(101),f=s(102),h=s(103),w=s(104),C=s(161),T=s(105),P=s(107),S=s(162),E=s(108)},function(o,r,s){'use strict';function d(H,W){const U=H.clone(),Z=U.operations[0];return Z.oldRange=Z.oldRange.getTransformedByDelta(W)[0],Z.newRange=Z.newRange.getTransformedByDelta(W)[0],[U]}function u(H,W){function U(){const X=new w.a(H.position.getShiftedBy(Q),H.position.getShiftedBy(Y)),ee=new P.a(X,W.key,J,W.value,0);Z.addOperation(ee)}const Z=new V.a,G=H.nodes;let J=G.getNode(0).getAttribute(W.key),Q=0,Y=G.getNode(0).offsetSize;for(let X=1;X<G.length;X++){const ee=G.getNode(X),te=ee.getAttribute(W.key);te!=J&&(J!=W.value&&U(),J=te,Q=Y),Y+=ee.offsetSize}return U(),Z}function f(){let H=new O.a;return H.addOperation(new T.a(0)),H}var h=s(106),w=s(3),C=s(1),T=s(73),P=s(72),S=s(39),E=s(111),O=s(20),V=s(160),F=s(101),R=s(308),N=s(102),M=s(103),I=s(105),L=s(162),D=s(108),q=s(107),z=s(161),K=s(104),$=s(62);s.i(h.b)(V.a,L.a,(H,W,U)=>{const Z=s.i(h.c)(H,W,U);return H.range.containsPosition(W.position)&&Z.push(u(W,H)),Z}),s.i(h.b)(V.a,I.a,(H,W,U)=>{const Z=new C.a(W.position.root,W.position.path.slice(0,-1)),G=s.i(h.c)(H,W,U);for(let J of H.operations)if(J.range.containsPosition(Z)||J.range.start.isEqual(Z)){const Q=new V.a,Y=Z.getShiftedBy(1),X=C.a.createFromPosition(Y);X.path.push(0);const ee=W._cloneOperation.nodes.getNode(0).getAttribute(J.key);Q.addOperation(new P.a(new w.a(Y,X),J.key,ee===void 0?null:ee,J.newValue,0)),G.push(Q);break}return G}),s.i(h.b)(F.a,N.a,(H,W,U)=>{return H.position.isEqual(W.position)?[W.getReversed(),H.clone()]:s.i(h.c)(H,W,U)}),s.i(h.b)(R.a,I.a,d),s.i(h.b)(R.a,N.a,d),s.i(h.b)(R.a,D.a,d),s.i(h.b)(R.a,q.a,d),s.i(h.b)(R.a,M.a,d),s.i(h.b)(R.a,z.a,d),s.i(h.b)(M.a,N.a,(H,W,U)=>{const Z=H.sourcePosition.root==W.position.root&&'same'===s.i($.a)(H.sourcePosition.getParentPath(),W.position.getParentPath()),G=H.sourcePosition.offset<=W.position.offset&&H.sourcePosition.offset+H.howMany>W.position.offset;return Z&&G?[W.getReversed(),H.clone()]:s.i(h.c)(H,W,U)}),s.i(h.b)(N.a,F.a,(H,W,U)=>{return H.position.isEqual(W.position)?[f()]:s.i(h.c)(H,W,U)}),s.i(h.b)(N.a,M.a,(H,W,U)=>{const Z=H.position.root==W.sourcePosition.root&&'same'===s.i($.a)(H.position.getParentPath(),W.sourcePosition.getParentPath()),G=W.sourcePosition.offset<=H.position.offset&&W.sourcePosition.offset+W.howMany>H.position.offset;return Z&&G?[f()]:s.i(h.c)(H,W,U)}),s.i(h.b)(I.a,I.a,(H,W,U)=>{const Z=H.position.getParentPath(),G=W.position.getParentPath();if('same'==s.i($.a)(Z,G)){if(H.position.offset==W.position.offset)return[f()];if(H.position.offset<W.position.offset){const J=H.clone();return J._moveOperation.howMany=W.position.offset-H.position.offset,H._cloneOperation instanceof E.a&&W._cloneOperation instanceof E.a&&H._cloneOperation.sourcePosition.offset>W._cloneOperation.sourcePosition.offset&&J._cloneOperation.sourcePosition.offset--,[J]}const J=H.clone();return J._cloneOperation.position.offset++,J._moveOperation.sourcePosition.path[J._moveOperation.sourcePosition.path.length-2]++,J._moveOperation.targetPosition.path[J._moveOperation.targetPosition.path.length-2]++,J._moveOperation.sourcePosition.offset=H.position.offset-W.position.offset,H._cloneOperation instanceof E.a&&W._cloneOperation instanceof E.a&&H._cloneOperation.sourcePosition.offset>W._cloneOperation.sourcePosition.offset&&J._cloneOperation.sourcePosition.offset--,[J]}return s.i(h.c)(H,W,U)}),s.i(h.b)(I.a,q.a,(H,W,U)=>{return'same'===s.i($.a)(W.position.path,H.position.getParentPath())?[f()]:s.i(h.c)(H,W,U)}),s.i(h.b)(I.a,D.a,(H,W,U)=>{const Z='same'===s.i($.a)(H.position.getParentPath(),W.range.start.getParentPath()),G=W.range.start.offset<H.position.offset&&W.range.end.offset>=H.position.offset;if(Z&&G)return[f()];if('same'===s.i($.a)(H.position.getParentPath(),W.range.end.getShiftedBy(-1).path)){const J=H.clone(),Q=C.a.createFromPosition(W.range.start);Q.path.push(W.howMany-1);const Y=Q.getShiftedBy(1);J._cloneOperation.position=Y;const X=C.a.createFromPosition(Q);X.path.push(H.position.offset),J._moveOperation.sourcePosition=X;const ee=C.a.createFromPosition(Y);return ee.path.push(0),J._moveOperation.targetPosition=ee,[J]}return s.i(h.c)(H,W,U)}),s.i(h.b)(I.a,V.a,(H,W)=>{H=H.clone();const U=new C.a(H.position.root,H.position.path.slice(0,-1));if(H._cloneOperation instanceof S.a)for(let Z of W.operations)if(Z.range.containsPosition(U)||Z.range.start.isEqual(U)){null===Z.newValue?H._cloneOperation.nodes.getNode(0).removeAttribute(Z.key):H._cloneOperation.nodes.getNode(0).setAttribute(Z.key,Z.newValue);break}return[H]}),s.i(h.b)(q.a,I.a,(H,W,U)=>{if('same'===s.i($.a)(H.position.path,W.position.getParentPath())){const Z=[W.getReversed(),H.clone()];return Z[1].operations[1].targetPosition.path[0]++,Z}return s.i(h.c)(H,W,U)}),s.i(h.b)(L.a,V.a,(H,W)=>{const U=[H.clone()];return W.range.containsPosition(H.position)&&U.push(u(H,W)),U}),s.i(h.b)(D.a,I.a,(H,W,U)=>{const Z='same'===s.i($.a)(H.range.start.getParentPath(),W.position.getParentPath()),G=H.range.start.offset<W.position.offset&&H.range.end.offset>=W.position.offset;if(Z&&G)return[W.getReversed(),H.clone()];if('same'===s.i($.a)(W.position.getParentPath(),H.range.end.getShiftedBy(-1).path)){const J=H.clone();return J._insertOperation.position.offset++,J._moveOperation.howMany++,J._moveOperation.targetPosition.path[J._moveOperation.targetPosition.path.length-2]++,[J]}return s.i(h.c)(H,W,U)}),s.i(h.b)(z.a,I.a,(H,W,U)=>{const Z=new C.a(W.position.root,W.position.path.slice(0,-1)),G=s.i(h.c)(H,W,U);if(H.operations[0].position.isEqual(Z)){const J=H.clone();J.operations[0].position=H.operations[0].position.getShiftedBy(1),G.push(J)}return G}),s.i(h.b)(I.a,z.a,(H,W)=>{H=H.clone();const U=new C.a(H.position.root,H.position.path.slice(0,-1));return H._cloneOperation instanceof S.a&&W.operations[0].position.isEqual(U)&&(H._cloneOperation.nodes.getNode(0).name=W.operations[0].newName),[H]}),s.i(h.b)(K.a,I.a,(H,W,U)=>{const Z=s.i(h.c)(H,W,U),G=W._cloneOperation.position;for(let J of Z)for(let Q of J.operations){const Y=Q.sourcePosition.getShiftedBy(Q.howMany);Y.isEqual(G)&&(Q.howMany+=1)}return Z}),s.i(h.b)(I.a,K.a,(H,W,U)=>{W=W.clone();const Z=H._cloneOperation.position;for(let G of W.operations){const J=G.sourcePosition.getShiftedBy(G.howMany);J.isEqual(Z)&&(G.howMany+=1)}return s.i(h.c)(H,W,U)})},function(o,r,s){'use strict';function d(P,S,E,O){const V=P.document,F=new T,R=new w.a(S,E,O,V.markers,V.version);P.addDelta(F),F.addOperation(R),V.applyOperation(R)}var u=s(20),f=s(18),h=s(17),w=s(110),C=s(0);class T extends u.a{get type(){return'marker'}get _reverseDeltaClass(){return T}static get className(){return'engine.model.delta.MarkerDelta'}}r.a=T,s.i(h.b)('setMarker',function(P,S){const E='string'==typeof P?P:P.name,O=this.document.markers.get(E);if(!S&&!O)throw new C.a('batch-setMarker-no-range: Range parameter is required when adding a new marker.');const V=O?O.getRange():null;return S?d(this,E,V,S):d(this,E,null,V),this}),s.i(h.b)('removeMarker',function(P){const S='string'==typeof P?P:P.name;if(!this.document.markers.has(S))throw new C.a('batch-removeMarker-no-marker: Trying to remove marker that does not exist.');const E=this.document.markers.get(S).getRange();return d(this,S,E,null),this}),f.a.register(T)},function(o,r,s){'use strict';function d(z){const K=z.textNode;if(K){const $=K.data,H=z.offset-K.startOffset;return!s.i(L.a)($,H)&&!s.i(L.b)($,H)}return!0}function*u(z,K){for(let $=!1;!$;){if($=!0,z){const H=z.next();H.done||($=!1,yield{walker:z,value:H.value})}if(K){const H=K.next();H.done||($=!1,yield{walker:K,value:H.value})}}}var f=s(306),h=s(307),w=s(3),C=s(1),T=s(315),P=s(17),S=s(310),E=s(311),O=s(316),V=s(33),F=s(312),R=s(94),N=s(7),M=s(0),I=s(4),L=s(271);const D='$graveyard';class q{constructor(){this.version=0,this.schema=new O.a,this.history=new S.a(this),this.markers=new F.a,this.selection=new E.a(this),this._pendingChanges=[],this.roots=new Map,this.selection.on('change:range',()=>{for(let z of this.selection.getRanges())if(!this._validateSelectionRange(z))throw new M.a('document-selection-wrong-position: Range from document selection starts or ends at incorrect position.',{range:z})}),this.createRoot('$root',D)}get graveyard(){return this.getRoot(D)}applyOperation(z){if(z.baseVersion!==this.version)throw new M.a('model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.',{operation:z});let K=z._execute();this.version++,this.history.addDelta(z.delta),K&&this.fire('change',z.type,K,z.delta.batch,z.delta.type)}batch(z){return new P.a(this,z)}createRoot(z='$root',K='main'){if(this.roots.has(K))throw new M.a('model-document-createRoot-name-exists: Root with specified name already exists.',{name:K});const $=new T.a(this,z,K);return this.roots.set(K,$),$}destroy(){this.selection.destroy(),this.stopListening()}enqueueChanges(z){if(this._pendingChanges.push(z),1==this._pendingChanges.length){for(;this._pendingChanges.length;)this._pendingChanges[0](),this._pendingChanges.shift();this.fire('changesDone')}}getRoot(z='main'){if(!this.roots.has(z))throw new M.a('model-document-getRoot-root-not-exist: Root with specified name does not exist.',{name:z});return this.roots.get(z)}hasRoot(z){return this.roots.has(z)}getRootNames(){return Array.from(this.roots.keys()).filter((z)=>z!=D)}getNearestSelectionRange(z,K='both'){if(this.schema.check({name:'$text',inside:z}))return new w.a(z);let $,H;('both'==K||'backward'==K)&&($=new V.a({startPosition:z,direction:'backward'})),('both'==K||'forward'==K)&&(H=new V.a({startPosition:z}));for(let W of u($,H)){const U=W.walker==$?'elementEnd':'elementStart',Z=W.value;if(Z.type==U&&this.schema.objects.has(Z.item.name))return w.a.createOn(Z.item);if(this.schema.check({name:'$text',inside:Z.nextPosition}))return new w.a(Z.nextPosition)}return null}toJSON(){const z=s.i(R.a)(this);return z.selection='[engine.model.LiveSelection]',z}_getDefaultRoot(){for(let z of this.roots.values())if(z!==this.graveyard)return z;return this.graveyard}_getDefaultRange(){const z=this._getDefaultRoot(),K=new C.a(z,[0]),$=this.getNearestSelectionRange(K);return $||new w.a(K)}_validateSelectionRange(z){return d(z.start)&&d(z.end)}}r.a=q,s.i(I.a)(q,N.a)},function(o,r,s){'use strict';var d=s(0);r.a=class{constructor(){this._deltas=[],this._historyPoints=new Map}addDelta(f){if(0<f.operations.length&&!this._historyPoints.has(f.baseVersion)){const h=this._deltas.length;this._deltas[h]=f,this._historyPoints.set(f.baseVersion,h)}}*getDeltas(f=0,h=_NumberPOSITIVE_INFINITY){if(0!==this._deltas.length){let w=this._getIndex(f);if(-1!=w)for(;w<this._deltas.length;){const C=this._deltas[w++];if(C.baseVersion>=h)break;yield C}}}getDelta(f){let h=this._historyPoints.get(f);if(h===void 0)return null;const w=[];for(h;h<this._deltas.length;h++){const C=this._deltas[h];if(C.baseVersion!=f)break;w.push(C)}return 0===w.length?null:w}removeDelta(f){this.updateDelta(f,[])}updateDelta(f,h){const w=this.getDelta(f);if(null!==w){for(let T of h)T.baseVersion=f;this._deltas.splice(this._getIndex(f),w.length,...h);const C=h.length-w.length;for(let T of this._historyPoints.keys())T>f&&this._historyPoints.set(T,this._historyPoints.get(T)+C)}}_getIndex(f){let h=this._historyPoints.get(f);if(h===void 0){const w=this._deltas[this._deltas.length-1],C=w.baseVersion+w.operations.length;if(0>f||f>=C)return-1;throw new d.a('model-history-wrong-version: Given base version points to the middle of a delta.')}return h}}},function(o,r,s){'use strict';function d(R){return R instanceof C.a||R instanceof w.a?R.getAttributes():null}var u=s(1),f=s(3),h=s(109),w=s(25),C=s(58),T=s(150),P=s(0),S=s(48),E=s(57);const O='selection:',V=new Set(['addAttribute','removeAttribute','changeAttribute','addRootAttribute','removeRootAttribute','changeRootAttribute']);class F extends E.a{constructor(R){super(),this._document=R,this._attributePriority=new Map,this.listenTo(this._document,'change',(N,M)=>{V.has(M)&&this._updateAttributes(!1)})}get isCollapsed(){const R=this._ranges.length;return!(0!==R)||super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().start}get rangeCount(){return this._ranges.length?this._ranges.length:1}destroy(){for(let R=0;R<this._ranges.length;R++)this._ranges[R].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}addRange(R,N=!1){super.addRange(R,N),this.refreshAttributes()}removeAllRanges(){super.removeAllRanges(),this.refreshAttributes()}setRanges(R,N=!1){super.setRanges(R,N),this.refreshAttributes()}setAttribute(R,N){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._storeAttribute(R,N),this._setAttribute(R,N)){this.fire('change:attribute',{attributeKeys:[R],directChange:!0})}}removeAttribute(R){if(this.isCollapsed&&0===this.anchor.parent.childCount&&this._removeStoredAttribute(R),this._removeAttribute(R)){this.fire('change:attribute',{attributeKeys:[R],directChange:!0})}}setAttributesTo(R){R=s.i(T.a)(R),this.isCollapsed&&0===this.anchor.parent.childCount&&this._setStoredAttributesTo(R);const N=this._setAttributesTo(R);if(0<N.size){const M=Array.from(N);this.fire('change:attribute',{attributeKeys:M,directChange:!0})}}clearAttributes(){this.setAttributesTo([])}refreshAttributes(){this._updateAttributes(!0)}static createFromSelection(R){const N=new this(R._document);return N.setTo(R),N}_popRange(){this._ranges.pop().detach()}_pushRange(R){const N=this._prepareRange(R);N&&this._ranges.push(N)}_prepareRange(R){if(!(R instanceof f.a))throw new P.a('model-selection-added-not-range: Trying to add an object that is not an instance of Range.');if(R.root==this._document.graveyard)return void S.a.warn('model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.');this._checkRange(R);const N=h.a.createFromRange(R);return this.listenTo(N,'change',(M,I)=>{N.root==this._document.graveyard&&this._fixGraveyardSelection(N,I),this.fire('change:range',{directChange:!1})}),N}_updateAttributes(R){const N=s.i(T.a)(this._getSurroundingAttributes()),M=s.i(T.a)(this.getAttributes());if(R)this._attributePriority=new Map,this._attrs=new Map;else for(let[L,D]of this._attributePriority)'low'==D&&(this._attrs.delete(L),this._attributePriority.delete(L));this._setAttributesTo(N,!1);const I=[];for(let[L,D]of this.getAttributes())M.has(L)&&M.get(L)===D||I.push(L);for(let[L]of M)this.hasAttribute(L)||I.push(L);0<I.length&&this.fire('change:attribute',{attributeKeys:I,directChange:!1})}static _getStoreAttributeKey(R){return O+R}_setAttribute(R,N,M=!0){const I=M?'normal':'low';if('low'==I&&'normal'==this._attributePriority.get(R))return!1;const L=super.getAttribute(R);return L!==N&&(this._attrs.set(R,N),this._attributePriority.set(R,I),!0)}_removeAttribute(R,N=!0){const M=N?'normal':'low';return'low'==M&&'normal'==this._attributePriority.get(R)?!1:!!super.hasAttribute(R)&&(this._attrs.delete(R),this._attributePriority.set(R,M),!0)}_setAttributesTo(R,N=!0){const M=new Set;for(let[I,L]of this.getAttributes())R.get(I)!==L&&this._removeAttribute(I,N)&&M.add(I);for(let[I,L]of R){const D=this._setAttribute(I,L,N);D&&M.add(I)}return M}*_getStoredAttributes(){const R=this.getFirstPosition().parent;if(this.isCollapsed&&0===R.childCount)for(let N of R.getAttributeKeys())if(0===N.indexOf(O)){const M=N.substr(O.length);yield[M,R.getAttribute(N)]}}_removeStoredAttribute(R){const N=F._getStoreAttributeKey(R);this._document.batch().removeAttribute(this.anchor.parent,N)}_storeAttribute(R,N){const M=F._getStoreAttributeKey(R);this._document.batch().setAttribute(this.anchor.parent,M,N)}_setStoredAttributesTo(R){const N=this.anchor.parent,M=this._document.batch();for(let[I]of this._getStoredAttributes()){const L=F._getStoreAttributeKey(I);M.removeAttribute(N,L)}for(let[I,L]of R){const D=F._getStoreAttributeKey(I);M.setAttribute(N,D,L)}}_getSurroundingAttributes(){const R=this.getFirstPosition();let N=null;if(!this.isCollapsed){const M=this.getFirstRange();for(let I of M)'text'==I.type&&null==N&&(N=I.item.getAttributes())}else{const M=R.textNode?R.textNode:R.nodeBefore,I=R.textNode?R.textNode:R.nodeAfter;if(N=d(M),N||(N=d(I)),!N)for(let L=M;L&&!N;)L=L.previousSibling,N=d(L);if(!N)for(let L=I;L&&!N;)L=L.nextSibling,N=d(L);N||(N=this._getStoredAttributes())}return N}_fixGraveyardSelection(R,N){const M=R.start.path,I=N.start.path.length-(M.length-2),L=N.start.path.slice(0,I);L[L.length-1]-=M[1];const D=new u.a(N.root,L);let q=this._document.getNearestSelectionRange(D);q||(q=new f.a(new u.a(D.root,[0])));const z=this._prepareRange(q),K=this._ranges.indexOf(R);R.detach(),this._ranges.splice(K,1,z)}}r.a=F},function(o,r,s){'use strict';var d=s(109),u=s(1),f=s(3),h=s(7),w=s(0),C=s(4);class T{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(S){return this._markers.has(S)}get(S){return this._markers.get(S)||null}set(S,E){const O=S instanceof P?S.name:S,V=this._markers.get(O);if(V){const N=V.getRange();if(N.isEqual(E))return V;this.remove(O)}const F=d.a.createFromRange(E),R=new P(O,F);return this._markers.set(O,R),this.fire('add',R),R}remove(S){const E=S instanceof P?S.name:S,O=this._markers.get(E);return!!O&&(this._markers.delete(E),this.fire('remove',O),this._destroyMarker(O),!0)}*getMarkersAtPosition(S){for(let E of this)E.getRange().containsPosition(S)&&(yield E)}destroy(){for(let S of this._markers.values())this._destroyMarker(S);this._markers=null,this.stopListening()}*getMarkersGroup(S){for(let E of this._markers.values())E.name.startsWith(S+':')&&(yield E)}_destroyMarker(S){S.stopListening(),S._liveRange.detach(),S._liveRange=null}}r.a=T,s.i(C.a)(T,h.a);class P{constructor(S,E){this.name=S,this._liveRange=E,this._liveRange.delegate('change').to(this)}getStart(){if(!this._liveRange)throw new w.a('marker-destroyed: Operating on destroyed marker instance.');return u.a.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new w.a('marker-destroyed: Operating on destroyed marker instance.');return u.a.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new w.a('marker-destroyed: Operating on destroyed marker instance.');return f.a.createFromRange(this._liveRange)}}s.i(C.a)(P,h.a)},function(o,r,s){'use strict';var d=s(72),u=s(39),f=s(110),h=s(28),w=s(73),C=s(32),T=s(111),P=s(40),S=s(112),E=s(113);const O={};O[d.a.className]=d.a,O[u.a.className]=u.a,O[f.a.className]=f.a,O[h.a.className]=h.a,O[w.a.className]=w.a,O[C.a.className]=C.a,O[T.a.className]=T.a,O[P.a.className]=P.a,O[S.a.className]=S.a,O[E.a.className]=E.a;r.a=class{static fromJSON(F,R){return O[F.__className].fromJSON(F,R)}}},function(o,r,s){'use strict';function u(I){return[I.clone()]}function f(I,L){for(let D=0;D<L.length;D++)L[D].baseVersion=I+D+1;return L}function h(I,L){return null===I.targetPosition._getTransformedByDeletion(L.sourcePosition,L.howMany)}function w(I){return 0===I.length?null:1==I.length?I[0]:(I[0].end=I[I.length-1].end,I[0])}var C=s(39),T=s(72),P=s(113),S=s(112),E=s(110),O=s(28),V=s(40),F=s(73),R=s(3),N=s(62);r.a=function(I,L,D){let q,z;I instanceof C.a?q=M.InsertOperation:I instanceof T.a?q=M.AttributeOperation:I instanceof P.a?q=M.RootAttributeOperation:I instanceof S.a?q=M.RenameOperation:I instanceof E.a?q=M.MarkerOperation:I instanceof O.a?q=M.MoveOperation:z=u,q&&(L instanceof C.a?z=q.InsertOperation:L instanceof T.a?z=q.AttributeOperation:L instanceof P.a?z=q.RootAttributeOperation:L instanceof S.a?z=q.RenameOperation:L instanceof E.a?z=q.MarkerOperation:L instanceof O.a?z=q.MoveOperation:z=u);let K=z(I,L,D);return f(I.baseVersion,K)};const M={InsertOperation:{InsertOperation(I,L,D){const q=I.clone();return q.position=q.position._getTransformedByInsertion(L.position,L.nodes.maxOffset,!D),[q]},AttributeOperation:u,RootAttributeOperation:u,RenameOperation:u,MarkerOperation:u,MoveOperation(I,L,D){const q=I.clone();return q.position=I.position._getTransformedByMove(L.sourcePosition,L.targetPosition,L.howMany,!D,L.isSticky),[q]}},AttributeOperation:{InsertOperation(I,L){const D=I.range._getTransformedByInsertion(L.position,L.nodes.maxOffset,!0,!1);return D.reverse().map((q)=>{return new T.a(q,I.key,I.oldValue,I.newValue,I.baseVersion)})},AttributeOperation(I,L,D){if(I.key===L.key){let q=I.range.getDifference(L.range).map((K)=>{return new T.a(K,I.key,I.oldValue,I.newValue,I.baseVersion)});const z=I.range.getIntersection(L.range);return z&&(D?q.push(new T.a(z,L.key,L.newValue,I.newValue,I.baseVersion)):0===q.length&&q.push(new F.a(0))),q}return[I.clone()]},RootAttributeOperation:u,RenameOperation:u,MarkerOperation:u,MoveOperation(I,L){const D=R.a.createFromPositionAndShift(L.sourcePosition,L.howMany);let q=[];L instanceof V.a&&L._needsHolderElement&&I.range.root==L.targetPosition.root&&I.range.start.path[0]>=L._holderElementOffset&&(I=I.clone(),I.range.start.path[0]++,I.range.end.path[0]++);const z=w(I.range.getDifference(D)),K=I.range.getIntersection(D);return null!==z&&(z.start=z.start._getTransformedByDeletion(L.sourcePosition,L.howMany),z.end=z.end._getTransformedByDeletion(L.sourcePosition,L.howMany),q=z._getTransformedByInsertion(L.getMovedRangeStart(),L.howMany,!0,!1).reverse()),null!==K&&(K.start=K.start._getCombined(L.sourcePosition,L.getMovedRangeStart()),K.end=K.end._getCombined(L.sourcePosition,L.getMovedRangeStart()),q.push(K)),q.map(($)=>{return new T.a($,I.key,I.oldValue,I.newValue,I.baseVersion)})}},RootAttributeOperation:{InsertOperation:u,AttributeOperation:u,RootAttributeOperation(I,L,D){return I.root!==L.root||I.key!==L.key||(I.newValue===L.newValue||D)&&I.newValue!==L.newValue?[I.clone()]:[new F.a(I.baseVersion)]},RenameOperation:u,MarkerOperation:u,MoveOperation:u},RenameOperation:{InsertOperation(I,L){const D=I.clone();return D.position=D.position._getTransformedByInsertion(L.position,L.nodes.maxOffset,!0),[D]},AttributeOperation:u,RootAttributeOperation:u,RenameOperation(I,L,D){const q=I.clone();if(I.position.isEqual(L.position))if(D)q.oldName=L.newName;else return[new F.a(I.baseVersion)];return[q]},MarkerOperation:u,MoveOperation(I,L){const D=I.clone(),q=D.position.isEqual(L.sourcePosition);return D.position=D.position._getTransformedByMove(L.sourcePosition,L.targetPosition,L.howMany,!0,q),[D]}},MarkerOperation:{InsertOperation(I,L){const D=I.clone();return D.oldRange&&(D.oldRange=D.oldRange._getTransformedByInsertion(L.position,L.nodes.maxOffset,!1,!1)[0]),D.newRange&&(D.newRange=D.newRange._getTransformedByInsertion(L.position,L.nodes.maxOffset,!1,!1)[0]),[D]},AttributeOperation:u,RootAttributeOperation:u,RenameOperation:u,MarkerOperation(I,L,D){const q=I.clone();if(I.name==L.name)if(D)q.oldRange=L.newRange;else return[new F.a(I.baseVersion)];return[q]},MoveOperation(I,L){const D=I.clone();if(D.oldRange){const q=D.oldRange._getTransformedByMove(L.sourcePosition,L.targetPosition,L.howMany);D.oldRange=R.a.createFromRanges(q)}if(D.newRange){const q=D.newRange._getTransformedByMove(L.sourcePosition,L.targetPosition,L.howMany);D.newRange=R.a.createFromRanges(q)}return[D]}},MoveOperation:{InsertOperation(I,L,D){let q=R.a.createFromPositionAndShift(I.sourcePosition,I.howMany);q=q._getTransformedByInsertion(L.position,L.nodes.maxOffset,!1,I.isSticky)[0];let z=new I.constructor(q.start,q.end.offset-q.start.offset,I instanceof V.a?I.baseVersion:I.targetPosition._getTransformedByInsertion(L.position,L.nodes.maxOffset,!D),I instanceof V.a?void 0:I.baseVersion);return z.isSticky=I.isSticky,I instanceof V.a&&(z._needsHolderElement=I._needsHolderElement,z._holderElementOffset=I._holderElementOffset),[z]},AttributeOperation:u,RootAttributeOperation:u,RenameOperation:u,MarkerOperation:u,MoveOperation(I,L,D){if(h(I,L)&&h(L,I))return[L.getReversed()];if(I instanceof V.a&&L instanceof V.a){const J=I.targetPosition.path[0],Q=L.targetPosition.path[0];(J>Q||J==Q&&D)&&(I=I.clone(),I.targetPosition.path[0]++)}I instanceof V.a&&!(L instanceof V.a)?D=!0:!(I instanceof V.a)&&L instanceof V.a&&(D=!1);const q=R.a.createFromPositionAndShift(I.sourcePosition,I.howMany),z=R.a.createFromPositionAndShift(L.sourcePosition,L.howMany);let K=[],$=w(q.getDifference(z));$&&($.start=$.start._getTransformedByMove(L.sourcePosition,L.targetPosition,L.howMany,!I.isSticky,!1),$.end=$.end._getTransformedByMove(L.sourcePosition,L.targetPosition,L.howMany,I.isSticky,!1),K.push($));const H=q.getIntersection(z);let W=s.i(N.a)(I.sourcePosition.getParentPath(),L.sourcePosition.getParentPath()),U=q.containsPosition(L.targetPosition)||q.start.isEqual(L.targetPosition)&&I.isSticky||q.end.isEqual(L.targetPosition)&&I.isSticky,Z=z.containsRange(q)&&(z.containsPosition(I.targetPosition)||z.start.isEqual(I.targetPosition)||z.end.isEqual(I.targetPosition));if(null!==H&&('extension'===W||'same'===W&&D||Z)&&!U&&(H.start=H.start._getCombined(L.sourcePosition,L.getMovedRangeStart()),H.end=H.end._getCombined(L.sourcePosition,L.getMovedRangeStart()),$&&q.start.isBefore(z.start)?K.push(H):K.unshift(H)),0===K.length)return I instanceof V.a?(I=I.clone(),I.howMany=0,I.sourcePosition=L.targetPosition,[I]):[new F.a(I.baseVersion)];let G=I.targetPosition._getTransformedByMove(L.sourcePosition,L.targetPosition,L.howMany,!D,L.isSticky||Z);return K.reverse().map((J,Q)=>{let Y=new I.constructor(J.start,J.end.offset-J.start.offset,I instanceof V.a?I.baseVersion:G,I instanceof V.a?void 0:I.baseVersion);return Y.isSticky=I.isSticky,I instanceof V.a&&(Y._needsHolderElement=I._needsHolderElement&&0===Q,Y._holderElementOffset=I._holderElementOffset),Y})}}}},function(o,r,s){'use strict';var d=s(5);class u extends d.a{constructor(f,h,w='main'){super(h),this._doc=f,this.rootName=w}get document(){return this._doc}is(f,h){return h?'rootElement'==f&&h==this.name||super.is(f,h):'rootElement'==f||super.is(f)}toJSON(){return this.rootName}}r.a=u},function(o,r,s){'use strict';function d(E,O,V){for(let F=V.length-1,R=O.length-1;0<=F&&0<=R;){const N=O[R];if(!E.hasItem(N))return!1;const M=E._extensionChains.get(N);if(M.includes(V[F]))F--,R--;else return!1}return!0}var u=s(1),f=s(5),h=s(94),w=s(12),C=s(147),T=s(0);class P{constructor(){this.objects=new Set,this.limits=new Set,this._items=new Map,this._extensionChains=new Map,this.registerItem('$root'),this.registerItem('$block'),this.registerItem('$inline'),this.registerItem('$text','$inline'),this.allow({name:'$block',inside:'$root'}),this.allow({name:'$inline',inside:'$block'}),this.registerItem('$clipboardHolder','$root'),this.allow({name:'$inline',inside:'$clipboardHolder'})}allow(E){this._getItem(E.name).allow(P._normalizeQueryPath(E.inside),E.attributes)}disallow(E){this._getItem(E.name).disallow(P._normalizeQueryPath(E.inside),E.attributes)}requireAttributes(E,O){this._getItem(E).requireAttributes(O)}check(E){if(!this.hasItem(E.name))return!1;s.i(w.a)(E.attributes)?0===E.attributes.length&&E.attributes.push(void 0):E.attributes=[E.attributes];const O=P._normalizeQueryPath(E.inside),V=this._extensionChains.get(E.name).map((F)=>{return this._getItem(F)});if(!this._getItem(E.name)._checkRequiredAttributes(E.attributes))return!1;for(let F of E.attributes)for(let R of V)if(R._hasMatchingPath('disallow',O,F))return!1;for(let F of E.attributes){let R=!1;for(let N of V)if(N._hasMatchingPath('allow',O,F)){R=!0;break}if(!R)return!1}return!0}hasItem(E){return this._items.has(E)}registerItem(E,O){if(this.hasItem(E))throw new T.a('model-schema-item-exists: Item with specified name already exists in schema.');if(!!O&&!this.hasItem(O))throw new T.a('model-schema-no-item: Item with specified name does not exist in schema.');this._items.set(E,new S(this));const V=this.hasItem(O)?this._extensionChains.get(O).concat(E):[E];this._extensionChains.set(E,V)}itemExtends(E,O){if(!this.hasItem(E)||!this.hasItem(O))throw new T.a('model-schema-no-item: Item with specified name does not exist in schema.');const V=this._extensionChains.get(E);return V.some((F)=>F==O)}_getItem(E){if(!this.hasItem(E))throw new T.a('model-schema-no-item: Item with specified name does not exist in schema.');return this._items.get(E)}static _normalizeQueryPath(E){let O=[];if(s.i(w.a)(E))for(let V of E)V instanceof f.a?O.push(V.name):s.i(C.a)(V)&&O.push(V);else if(E instanceof u.a){for(let V=E.parent;null!==V;)O.push(V.name),V=V.parent;O.reverse()}else s.i(C.a)(E)&&(O=E.split(' '));return O}}r.a=P;class S{constructor(E){this._schema=E,this._allowed=[],this._disallowed=[],this._requiredAttributes=[]}allow(E,O){this._addPath('_allowed',E,O)}disallow(E,O){this._addPath('_disallowed',E,O)}requireAttributes(E){this._requiredAttributes.push(E)}_addPath(E,O,V){O=O.slice(),s.i(w.a)(V)||(V=[V]);for(let F of V)this[E].push({path:O,attribute:F})}_getPaths(E,O){const V='allow'===E?this._allowed:this._disallowed,F=[];for(let R of V)R.attribute===O&&F.push(R.path);return F}_checkRequiredAttributes(E){let O=!0;for(let V of this._requiredAttributes){O=!0;for(let F of V)if(-1==E.indexOf(F)){O=!1;break}if(O)break}return O}_hasMatchingPath(E,O,V){const F=this._getPaths(E,V);for(const R of F)if(d(this._schema,O,R))return!0;return!1}toJSON(){const E=s.i(h.a)(this);return E._schema='[model.Schema]',E}}},function(o,r,s){'use strict';var d=s(61),u=s(325),f=s(164),h=s(168),w=s(59),C=s(48),T=s(167),P=s(323),S=s(320),E=s(321),O=s(319),V=s(4),F=s(31);class R{constructor(){this.domRoots=new Map,this.selection=new d.a,this.domConverter=new f.a,this.roots=new Map,this.set('isFocused',!1),this.renderer=new u.a(this.domConverter,this.selection),this.renderer.bind('isFocused').to(this,'isFocused'),this._observers=new Map,this.addObserver(T.a),this.addObserver(P.a),this.addObserver(S.a),this.addObserver(E.a),this.addObserver(O.a),s.i(w.h)(this),this.on('render',()=>{this.disableObservers(),this.renderer.render(),this.enableObservers()})}addObserver(N){let M=this._observers.get(N);if(M)return M;M=new N(this),this._observers.set(N,M);for(let[I,L]of this.domRoots)M.observe(L,I);return M.enable(),M}getObserver(N){return this._observers.get(N)}createRoot(N,M='main'){const I='string'==typeof N?N:N.tagName,L=new h.a(I.toLowerCase(),M);return L.document=this,this.roots.set(M,L),L.on('change:children',(D,q)=>this.renderer.markToSync('children',q)),L.on('change:attributes',(D,q)=>this.renderer.markToSync('attributes',q)),L.on('change:text',(D,q)=>this.renderer.markToSync('text',q)),this.domConverter.isElement(N)&&this.attachDomRoot(N,M),L}attachDomRoot(N,M='main'){const I=this.getRoot(M);this.domRoots.set(M,N),this.domConverter.bindElements(N,I),this.renderer.markToSync('children',I),this.renderer.domDocuments.add(N.ownerDocument);for(let L of this._observers.values())L.observe(N,M)}getRoot(N='main'){return this.roots.get(N)}getDomRoot(N='main'){return this.domRoots.get(N)}render(){this.fire('render')}focus(){if(!this.isFocused){const N=this.selection.editableElement;N?(this.domConverter.focus(N),this.render()):C.a.warn('view-focus-no-selection: There is no selection in any editable to focus.')}}disableObservers(){for(let N of this._observers.values())N.disable()}enableObservers(){for(let N of this._observers.values())N.enable()}destroy(){for(let N of this._observers.values())N.destroy()}}r.a=R,s.i(V.a)(R,F.a)},function(o,r,s){'use strict';var d=s(60);class u extends d.a{constructor(f){super(f),this.domEventType='click'}onDomEvent(f){this.fire(f.type,f)}}r.a=u},function(o,r,s){'use strict';function d(T){return T==h.d.arrowright||T==h.d.arrowleft||T==h.d.arrowup||T==h.d.arrowdown}var u=s(50),f=s(61),h=s(23),w=s(141);class C extends u.a{constructor(T){super(T),this._fireSelectionChangeDoneDebounced=s.i(w.a)((P)=>this.document.fire('selectionChangeDone',P),200)}observe(){const T=this.document;T.on('keydown',(P,S)=>{const E=T.selection;E.isFake&&d(S.keyCode)&&this.isEnabled&&(S.preventDefault(),this._handleSelectionMove(S.keyCode))},{priority:'lowest'})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(T){const P=this.document.selection,S=f.a.createFromSelection(P);S.setFake(!1),(T==h.d.arrowleft||T==h.d.arrowup)&&S.collapseToStart(),(T==h.d.arrowright||T==h.d.arrowdown)&&S.collapseToEnd();const E={oldSelection:P,newSelection:S,domSelection:null};this.document.fire('selectionChange',E),this._fireSelectionChangeDoneDebounced(E)}}r.a=C},function(o,r,s){'use strict';var d=s(60);class u extends d.a{constructor(f){super(f),this.domEventType=['focus','blur'],this.useCapture=!0,f.on('focus',()=>{f.isFocused=!0,this._renderTimeoutId=setTimeout(()=>f.render(),0)}),f.on('blur',(h,w)=>{const C=f.selection.editableElement;(null===C||C===w.target)&&(f.isFocused=!1,f.render())})}onDomEvent(f){this.fire(f.type,f)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}r.a=u},function(o,r,s){'use strict';var d=s(60),u=s(23);class f extends d.a{constructor(h){super(h),this.domEventType='keydown'}onDomEvent(h){this.fire('keydown',h,{keyCode:h.keyCode,altKey:h.altKey,ctrlKey:h.ctrlKey||h.metaKey,shiftKey:h.shiftKey,get keystroke(){return s.i(u.c)(this)}})}}r.a=f},function(o,r,s){'use strict';var d=s(60);class u extends d.a{constructor(f){super(f),this.domEventType='mousedown'}onDomEvent(f){this.fire(f.type,f)}}r.a=u},function(o,r,s){'use strict';var d=s(50),u=s(167),f=s(48),h=s(141);class w extends d.a{constructor(C){super(C),this.mutationObserver=C.getObserver(u.a),this.document=C,this.selection=C.selection,this.domConverter=C.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=s.i(h.a)((T)=>this.document.fire('selectionChangeDone',T),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(C){const T=C.ownerDocument;this._documents.has(T)||(this.listenTo(T,'selectionchange',()=>{this._handleSelectionChange(T)}),this._documents.add(T))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(C){if(this.isEnabled&&this.document.isFocused){this.mutationObserver.flush();const T=C.defaultView.getSelection(),P=this.domConverter.domSelectionToView(T);if(!this.selection.isEqual(P)){if(60<++this._loopbackCounter)return void f.a.warn('selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.');const S={oldSelection:this.selection,newSelection:P,domSelection:T};this.document.fire('selectionChange',S),this._fireSelectionChangeDoneDebounced(S)}}}_clearInfiniteLoop(){this._loopbackCounter=0}}r.a=w},function(o,r,s){'use strict';function u(V){const F=V.document;V.removeClass('ck-placeholder'),V.removeAttribute('data-placeholder'),O.has(F)&&O.get(F).delete(V)}function f(V){const F=O.get(V);for(let[R,N]of F)h(R,N)}function h(V,F){const R=V.document;if(R){const N=R.selection,M=N.anchor;return F&&!F()?void V.removeClass('ck-placeholder'):R.isFocused||V.childCount?void(!V.childCount&&M&&M.parent!==V?V.addClass('ck-placeholder'):V.removeClass('ck-placeholder')):void V.addClass('ck-placeholder')}}var w=s(45),C=s(7),T=s(0),P=s(507),S=s.n(P);r.a=function(V,F,R){const N=V.document;if(!N)throw new T.a('view-placeholder-element-is-detached: Provided element is not placed in document.');u(V),O.has(N)||(O.set(N,new Map),E.listenTo(N,'render',()=>f(N),{priority:'high'})),V.setAttribute('data-placeholder',F),O.get(N).set(V,R),h(V,R)};const E={};s.i(w.a)(E,C.a);const O=new WeakMap},function(o,r,s){'use strict';function d(N,M){return!N.isCollapsed&&u(N).isEqual(u(M))}function u(N){const M=w.a.createFromSelection(N),I=M.getRanges();let L=[];for(let D of I)L.push(D.getTrimmed());return M.setRanges(L,M.isBackward),M}var f=s(29),h=s(26),w=s(61),C=s(59),T=s(4),P=s(185),S=s(392),E=s(396),O=s(48),V=s(31),F=s(0);class R{constructor(N,M){this.domDocuments=new Set,this.domConverter=N,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=M,this._inlineFiller=null,this.isFocused=!1,this._fakeSelectionContainer=null}markToSync(N,M){if('text'===N)this.domConverter.getCorrespondingDom(M.parent)&&this.markedTexts.add(M);else{if(!this.domConverter.getCorrespondingDom(M))return;if('attributes'===N)this.markedAttributes.add(M);else if('children'===N)this.markedChildren.add(M);else throw new F.a('view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.')}}render(){let N;this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?N=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(N=this.selection.getFirstPosition(),this.markedChildren.add(N.parent));for(let M of this.markedTexts)!this.markedChildren.has(M.parent)&&this.domConverter.getCorrespondingDom(M.parent)&&this._updateText(M,{inlineFillerPosition:N});for(let M of this.markedAttributes)this._updateAttrs(M);for(let M of this.markedChildren)this._updateChildren(M,{inlineFillerPosition:N});this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear(),this._inlineFiller=this._getInlineFillerNode(N)}_getInlineFillerNode(N){if(!N)return void(this._inlineFiller=null);const M=this.domConverter.viewPositionToDom(N);if(!M||!s.i(C.c)(M.parent))throw new F.a('view-renderer-cannot-find-filler: Cannot find filler node by its position.');return M.parent}_getInlineFillerPosition(){const N=this.selection.getFirstPosition();return N.parent.is('text')?h.a.createBefore(this.selection.getFirstPosition().parent):N}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const N=this.selection.getFirstPosition(),M=this.domConverter.viewPositionToDom(N);return M&&this.domConverter.isText(M.parent)&&s.i(C.c)(M.parent)}_removeInlineFiller(){const N=this._inlineFiller;if(!s.i(C.c)(N))throw new F.a('view-renderer-filler-was-lost: The inline filler node was lost.');s.i(C.f)(N)?N.parentNode.removeChild(N):N.data=N.data.substr(C.d),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const N=this.selection.getFirstPosition(),M=N.parent,I=N.offset;if(!this.domConverter.getCorrespondingDomElement(M.root))return!1;if(!M.is('element'))return!1;if(I===M.getFillerOffset())return!1;const L=N.nodeBefore,D=N.nodeAfter;return L instanceof f.a||D instanceof f.a?!1:!0}_updateText(N,M){const I=this.domConverter.getCorrespondingDom(N),L=this.domConverter.viewToDom(N,I.ownerDocument),D=I.data;let q=L.data;const z=M.inlineFillerPosition;z&&z.parent==N.parent&&z.offset==N.index&&(q=C.i+q),D!=q&&(I.data=q)}_updateAttrs(N){const M=this.domConverter.getCorrespondingDom(N),I=Array.from(M.attributes).map((D)=>D.name),L=N.getAttributeKeys();for(let D of L)M.setAttribute(D,N.getAttribute(D));for(let D of I)N.hasAttribute(D)||M.removeAttribute(D)}_updateChildren(N,M){function I(U,Z){if(U===Z)return!0;return L.isText(U)&&L.isText(Z)?U.data===Z.data:s.i(C.e)(U,L.blockFiller)&&s.i(C.e)(Z,L.blockFiller)}const L=this.domConverter,D=L.getCorrespondingDom(N);if(D){const q=D.ownerDocument,z=M.inlineFillerPosition,K=D.childNodes,$=Array.from(L.viewChildrenToDom(N,q,{bind:!0}));if(z&&z.parent==N){const U=$[z.offset];this.domConverter.isText(U)?U.data=C.i+U.data:$.splice(z.offset,0,q.createTextNode(C.i))}const H=s.i(P.a)(K,$,I);let W=0;for(let U of H)'insert'===U?(s.i(S.a)(D,W,$[W]),W++):'delete'===U?(this.domConverter.unbindDomElement(K[W]),s.i(E.a)(K[W])):W++}}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const N=this.domConverter.getCorrespondingDomElement(this.selection.editableElement);this.isFocused&&N&&(this.selection.isFake?this._updateFakeSelection(N):(this._removeFakeSelection(),this._updateDomSelection(N)))}_updateFakeSelection(N){const M=N.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=M.createElement('div'),this._fakeSelectionContainer.style.position='fixed',this._fakeSelectionContainer.style.top=0,this._fakeSelectionContainer.style.left='-9999px',this._fakeSelectionContainer.appendChild(M.createTextNode('\xA0'))),this._fakeSelectionContainer.parentElement||N.appendChild(this._fakeSelectionContainer);const I=this.selection.fakeSelectionLabel||'\xA0';this._fakeSelectionContainer.firstChild.data=I;const L=M.getSelection();L.removeAllRanges();const D=new Range;D.selectNodeContents(this._fakeSelectionContainer),L.addRange(D),this.domConverter.bindFakeSelection(this._fakeSelectionContainer,this.selection)}_updateDomSelection(N){const M=N.ownerDocument.defaultView.getSelection(),I=M&&this.domConverter.domSelectionToView(M);if(!(I&&this.selection.isEqual(I))){if(I&&d(I,this.selection)){const q={oldSelection:I,currentSelection:this.selection};return void O.a.warn('renderer-skipped-selection-rendering: The selection was not rendered due to its similarity to the current one.',q)}const L=this.domConverter.viewPositionToDom(this.selection.anchor),D=this.domConverter.viewPositionToDom(this.selection.focus);M.collapse(L.parent,L.offset),M.extend(D.parent,D.offset)}}_removeDomSelection(){for(let N of this.domDocuments){const M=N.getSelection();if(M.rangeCount){const I=N.activeElement,L=this.domConverter.getCorrespondingViewElement(I);I&&L&&N.getSelection().removeAllRanges()}}}_removeFakeSelection(){const N=this._fakeSelectionContainer;N&&N.remove()}_updateFocus(){if(this.isFocused){const N=this.selection.editableElement;N&&this.domConverter.focus(N)}}}r.a=R,s.i(T.a)(R,V.a)},function(o,r,s){'use strict';var d=s(0);class u{constructor(f,h,w){if(this.textNode=f,0>h||h>f.data.length)throw new d.a('view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.');if(0>w||h+w>f.data.length)throw new d.a('view-textproxy-wrong-length: Given length value is incorrect.');this.data=f.data.substring(h,h+w),this.offsetInText=h}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(f){return'textProxy'==f}getAncestors(f={includeNode:!1,parentFirst:!1}){const h=[];for(let w=f.includeNode?this.textNode:this.parent;null!==w;)h[f.parentFirst?'push':'unshift'](w),w=w.parent;return h}}r.a=u},function(o,r,s){'use strict';var d=s(2),u=s(328),f=s(329);class h extends d.a{static get pluginName(){return'enter/enter'}init(){const w=this.editor,C=w.editing.view;C.addObserver(f.a),w.commands.set('enter',new u.a(w)),this.listenTo(C,'enter',(T,P)=>{w.execute('enter'),P.preventDefault()},{priority:'low'})}}r.a=h},function(o,r,s){'use strict';function d(C,T,P,S){const E=P.isCollapsed,O=P.getFirstRange(),V=O.start.parent,F=O.end.parent;if(!(S.limits.has(V.name)||S.limits.has(F.name))){if(V.root==V)return void(E||C.deleteContent(P,T));if(E)u(T,P,O.start);else{const R=O.start.isAtStart&&O.end.isAtEnd;C.deleteContent(P,T,{merge:R}),R||(V==F?u(T,P,P.focus):P.collapse(F))}}}function u(C,T,P){if(P.isAtEnd){const S=P.parent,E=new S.constructor(S.name,S.getAttributes());C.insert(h.a.createAfter(P.parent),E)}else C.split(P);T.collapse(P.parent.nextSibling)}var f=s(11),h=s(1);class w extends f.a{_doExecute(){const C=this.editor.document,T=C.batch();C.enqueueChanges(()=>{d(this.editor.data,T,C.selection,C.schema),this.fire('afterExecute',{batch:T})})}}r.a=w},function(o,r,s){'use strict';var d=s(50),u=s(116),f=s(23);class h extends d.a{constructor(w){super(w),w.on('keydown',(C,T)=>{this.isEnabled&&T.keyCode==f.d.enter&&w.fire('enter',new u.a(w,T.domEvent))})}observe(){}}r.a=h},function(o,r,s){'use strict';function d(V,F){return Array.prototype.concat(...V.map((R)=>[R,F]))}var u=s(77),f=s(170),h=s(2),w=s(378),C=s(369),T=s(78),P=s(6),S=s(508),E=s.n(S);class O extends h.a{static get requires(){return[u.a,f.a]}static get pluginName(){return'heading/heading'}init(){const V=this.editor,F=new T.a,R=this._getLocalizedOptions(),N=[],M=V.t,I=M('Choose heading'),L=M('Heading');for(let q of R){const z=V.commands.get(q.modelElement),K=new w.a({commandName:q.modelElement,label:q.title,class:q.class});K.bind('isActive').to(z,'value'),F.add(K),N.push(z)}const D=new w.a({withText:!0,items:F,tooltip:L});D.bind('isEnabled').to(...d(N,'isEnabled'),(...q)=>q.some((z)=>z)),D.bind('label').to(...d(N,'value'),(...q)=>{const z=q.findIndex((K)=>K);return R[z]?R[z].title:I}),V.ui.componentFactory.add('headings',(q)=>{const z=s.i(C.a)(D,q);return P.a.extend(z.template,{attributes:{class:['ck-heading-dropdown']}}),this.listenTo(z,'execute',(K)=>{V.execute(K.source.commandName),V.editing.view.focus()}),z})}_getLocalizedOptions(){const V=this.editor,F=V.t,R={Paragraph:F('Paragraph'),'Heading 1':F('Heading 1'),'Heading 2':F('Heading 2'),'Heading 3':F('Heading 3')};return V.config.get('heading.options').map((N)=>{const M=R[N.title];return M&&M!=N.title&&(N=Object.assign({},N,{title:M})),N})}}r.a=O},function(o,r,s){'use strict';var d=s(3),u=s(11),f=s(57),h=s(1),w=s(64);class C extends u.a{constructor(T,P){super(T),Object.assign(this,P),this.set('value',!1),this.listenTo(T.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}_doExecute(T={}){const P=this.editor,S=P.document,E=this.value;S.enqueueChanges(()=>{const O=T.batch||S.batch();for(let V of S.selection.getSelectedBlocks())if(!E)V.is(this.modelElement)||O.rename(V,this.modelElement);else if(V.is(this.modelElement)){const F=new f.a;F.addRange(d.a.createIn(V)),P.execute('paragraph',{selection:F,batch:O})}})}refreshValue(){const T=s.i(w.a)(this.editor.document.selection.getSelectedBlocks());this.value=!!T&&T.is(this.modelElement)}_checkEnabled(){const T=s.i(w.a)(this.editor.document.selection.getSelectedBlocks());return!!T&&this.editor.document.schema.check({name:this.modelElement,inside:h.a.createBefore(T)})}}r.a=C},function(o,r,s){'use strict';var d=s(2),u=s(171),f=s(504),h=s(341),w=s(511),C=s.n(w);class T extends d.a{static get requires(){return[u.a,f.a,h.a]}static get pluginName(){return'image/image'}}r.a=T},function(o,r,s){'use strict';function f(T,P,S,E){const O=T.name.split(':'),V=O[0]+':'+O[1];if(S.consume(P.item,V)){const F=E.mapper.toViewElement(P.item),R=F.getChild(0);'removeAttribute'==O[0]?R.removeAttribute(P.attributeKey):R.setAttribute(P.attributeKey,P.attributeNewValue)}}var h=s(5),w=s(1),C=s(13);r.b=function(){return(T,P,S,E)=>{const O=P.input;if(S.test(O,{name:!0,class:'image'})&&E.schema.check({name:'image',inside:P.context,attributes:'src'})){const V=O.getChild(0);if(V&&'img'==V.name&&S.test(V,{name:!0,attribute:'src'})){S.consume(O,{name:!0,class:'image'}),S.consume(V,{name:!0,attribute:'src'});const F=new h.a('image',{src:V.getAttribute('src')});S.consume(V,{attribute:['alt']})&&F.setAttribute('alt',V.getAttribute('alt')),P.context.push(F);const R=E.convertChildren(O,S,P),N=w.a.createAt(F,'end');C.a.insert(N,R),P.context.pop(),P.output=F}}}},r.a=function(T,P){for(let S of T)S.on(`addAttribute:${P}:image`,f),S.on(`changeAttribute:${P}:image`,f),S.on(`removeAttribute:${P}:image`,f)}},function(o,r,s){'use strict';var d=s(2),u=s(335),f=s(509),h=s.n(f);class w extends d.a{static get requires(){return[u.a]}static get pluginName(){return'image/imagecaption'}}r.a=w},function(o,r,s){'use strict';function d(I,L,D,q){if('insert'===L){const z=new C.a({boundaries:D.range,ignoreElementEnd:!0});for(let K of z){const $=K.item;'elementStart'==K.type&&s.i(R.b)($)&&!s.i(N.c)($)&&q.document.enqueueChanges(()=>{s.i(N.c)($)||q.insert(O.a.createAt($,'end'),new T.a('caption'))})}}}function u(I,L=!0){return(D,q,z,K)=>{const $=q.item;if(($.childCount||L)&&s.i(R.b)($.parent)){if(!z.consume(q.item,'insert'))return;const H=K.mapper.toViewElement(q.range.start.parent),W=I instanceof S.a?I.clone(!0):I();$.childCount||W.addClass('ck-hidden'),f(W,q.item,H,K.mapper)}}}function f(I,L,D,q){const z=V.a.createAt(D,'end');E.a.insert(z,I),q.bindElements(L,I)}function h(I){const L=I.getAncestors({includeNode:!0}),D=L.find((q)=>'caption'==q.name);return D&&D.parent&&'image'==D.parent.name?D:null}var w=s(2),C=s(33),T=s(5),P=s(41),S=s(21),E=s(76),O=s(1),V=s(26),F=s(38),R=s(42),N=s(336);class M extends w.a{init(){const I=this.editor,L=I.document,D=I.editing.view,q=L.schema,z=I.data,K=I.editing,$=I.t;this._createCaption=s.i(N.a)(D,$('Enter image caption')),q.registerItem('caption'),q.allow({name:'$inline',inside:'caption'}),q.allow({name:'caption',inside:'image'}),q.limits.add('caption'),L.on('change',d),s.i(F.a)().for(z.viewToModel).from(N.b).toElement('caption'),z.modelToView.on('insert:caption',u(new P.a('figcaption'),!1)),K.modelToView.on('insert:caption',u(this._createCaption)),K.modelToView.on('insert',(H,W)=>this._fixCaptionVisibility(W.item),{priority:'high'}),K.modelToView.on('remove',(H,W)=>this._fixCaptionVisibility(W.sourcePosition.parent),{priority:'high'}),this.listenTo(D,'render',()=>this._updateCaptionVisibility(),{priority:'high'})}_updateCaptionVisibility(){const I=this.editor.editing.mapper,L=this.editor.editing.view.selection,D=L.getSelectedElement();let q;if(this._lastSelectedCaption&&!this._lastSelectedCaption.childCount&&this._lastSelectedCaption.addClass('ck-hidden'),D&&s.i(R.a)(D)){const z=I.toModelElement(D),K=s.i(N.c)(z);q=I.toViewElement(K)}s.i(N.d)(L.editableElement)&&(q=L.editableElement),q&&(q.removeClass('ck-hidden'),this._lastSelectedCaption=q)}_fixCaptionVisibility(I){const L=h(I),D=this.editor.editing.mapper;if(L){const q=D.toViewElement(L);q&&(L.childCount?q.removeClass('ck-hidden'):q.addClass('ck-hidden'))}}}r.a=M},function(o,r,s){'use strict';var w=s(5),C=s(74),T=s(324),P=s(151);r.a=function(E,O){return()=>{const V=new C.a('figcaption');return V.document=E,V.setCustomProperty(S,!0),s.i(T.a)(V,O),s.i(P.c)(V)}},r.d=function(E){return!!E.getCustomProperty(S)},r.c=function(E){for(let O of E.getChildren())if(O instanceof w.a&&'caption'==O.name)return O;return null},r.b=function(E){const O=E.parent;return'figcaption'==E.name&&O&&'figure'==O.name&&O.hasClass('image')?{name:!0}:null};const S=Symbol('imageCaption')},function(o,r,s){'use strict';var d=s(2),u=s(340),f=s(22);class h extends d.a{static get requires(){return[u.a]}static get pluginName(){return'image/imagestyle'}init(){const w=this.editor.config.get('image.styles');for(let T of w)this._createButton(T);const C=this.editor.config.get('image.defaultToolbar');C&&(C.length&&C.push('|'),w.forEach((T)=>C.push(T.name)))}_createButton(w){const C=this.editor,T=C.commands.get(w.name);C.ui.componentFactory.add(w.name,(P)=>{const S=new f.a(P);return S.set({label:w.title,icon:w.icon,tooltip:!0}),S.bind('isEnabled').to(T,'isEnabled'),S.bind('isOn').to(T,'value'),this.listenTo(S,'execute',()=>C.execute(w.name)),S})}}r.a=h},function(o,r,s){'use strict';function f(P,S,E,O){const V=S.input,F=S.output;if(E.test(V,{class:P.className})&&s.i(T.b)(F)){const R=[...F.getAttributeKeys(),'imageStyle'];O.schema.check({name:'image',inside:S.context,attributes:R})&&(E.consume(V,{class:P.className}),F.setAttribute('imageStyle',P.value))}}function h(P,S){for(let E of S)if(E.value===P)return E}function w(P,S,E){return S&&('changeAttribute'==P||'removeAttribute'==P)&&(E.removeClass(S.className),!0)}function C(P,S,E){return S&&('addAttribute'==P||'changeAttribute'==P)&&(E.addClass(S.className),!0)}var T=s(42);r.a=function(P){return(S,E,O,V)=>{const F=S.name.split(':')[0],R=F+':imageStyle';if(O.test(E.item,R)){const N=h(E.attributeNewValue,P),M=h(E.attributeOldValue,P),I=V.mapper.toViewElement(E.item);(w(F,M,I)||C(F,N,I))&&O.consume(E.item,R)}}},r.b=function(P){const S=P.filter((E)=>null!==E.value);return(E,O,V,F)=>{for(let R of S)f(R,O,V,F)}}},function(o,r,s){'use strict';var d=s(11),u=s(42);class f extends d.a{constructor(h,w){super(h),this.set('value',!1),this.style=w,this.listenTo(h.document,'changesDone',()=>{this._updateValue(),this.refreshState()})}_updateValue(){const h=this.editor.document,w=h.selection.getSelectedElement();return w?void(null===this.style.value?this.value=!w.hasAttribute('imageStyle'):this.value=w.getAttribute('imageStyle')==this.style.value):void(this.value=!1)}_checkEnabled(){const h=this.editor.document.selection.getSelectedElement();return s.i(u.b)(h)}_doExecute(h={}){if(this.value)return;const w=this.editor,C=w.document,T=C.selection,P=T.getSelectedElement();C.enqueueChanges(()=>{const S=h.batch||C.batch();S.setAttribute(P,'imageStyle',this.style.value)})}}r.a=f},function(o,r,s){'use strict';var d=s(2),u=s(339),f=s(171),h=s(338),w=s(517),C=s.n(w),T=s(518),P=s.n(T);class S extends d.a{static get requires(){return[f.a]}init(){const E=this.editor,O=E.t,V=E.document,F=V.schema,R=E.data,N=E.editing;E.config.define('image.styles',[{name:'imageStyleFull',title:O('Full size image'),icon:C.a,value:null},{name:'imageStyleSide',title:O('Side image'),icon:P.a,value:'side',className:'image-style-side'}]);const M=E.config.get('image.styles');F.allow({name:'image',attributes:'imageStyle',inside:'$root'});const I=s.i(h.a)(M);N.modelToView.on('addAttribute:imageStyle:image',I),R.modelToView.on('addAttribute:imageStyle:image',I),N.modelToView.on('changeAttribute:imageStyle:image',I),R.modelToView.on('changeAttribute:imageStyle:image',I),N.modelToView.on('removeAttribute:imageStyle:image',I),R.modelToView.on('removeAttribute:imageStyle:image',I),R.viewToModel.on('element:figure',s.i(h.b)(M),{priority:'low'});for(let L of M)E.commands.set(L.name,new u.a(E,L))}}r.a=S},function(o,r,s){'use strict';var d=s(2),u=s(22),f=s(343),h=s(364),w=s(178),C=s(173),T=s(344),P=s(172),S=s(516),E=s.n(S),O=s(510),V=s.n(O);class F extends d.a{static get requires(){return[f.a]}static get pluginName(){return'image/imagetextalternative'}init(){this._createButton();const R=this.editor.config.get('image.defaultToolbar');return R&&(R.length&&R.push('|'),R.push('imageTextAlternative')),this._createBalloonPanel().then((N)=>{this.balloonPanel=N,this.form=N.content.get(0)})}_createButton(){const R=this.editor,N=R.commands.get('imageTextAlternative'),M=R.t;R.ui.componentFactory.add('imageTextAlternative',(I)=>{const L=new u.a(I);return L.set({label:M('Change image text alternative'),icon:E.a,tooltip:!0}),L.bind('isEnabled').to(N,'isEnabled'),this.listenTo(L,'execute',()=>this._showBalloonPanel()),L})}_createBalloonPanel(){const R=this.editor,N=new P.a(R),M=new T.a(R.locale);this.listenTo(M,'submit',()=>{R.execute('imageTextAlternative',{newValue:M.lebeledInput.inputView.element.value}),this._hideBalloonPanel()});const I=R.plugins.get(C.a);return I&&this.listenTo(N,'change:isVisible',()=>{N.isVisible?(I.hide(),I.isEnabled=!1):(I.show(),I.isEnabled=!0)}),this.listenTo(M,'cancel',()=>this._hideBalloonPanel()),s.i(h.a)({emitter:N,activator:()=>N.isVisible,callback:()=>this._hideBalloonPanel()}),s.i(w.a)({emitter:N,activator:()=>N.isVisible,contextElement:N.element,callback:()=>this._hideBalloonPanel()}),Promise.all([N.content.add(M),R.ui.view.body.add(N)]).then(()=>N)}_showBalloonPanel(){const R=this.editor,N=R.commands.get('imageTextAlternative');this.form.lebeledInput.value=N.value||'',this.balloonPanel.attach(),this.form.lebeledInput.select()}_hideBalloonPanel(){const R=this.editor;this.balloonPanel.detach(),R.editing.view.focus()}}r.a=F},function(o,r,s){'use strict';var d=s(11),u=s(42);class f extends d.a{constructor(h){super(h),this.set('value',!1),this.listenTo(h.document,'changesDone',()=>{this._updateValue(),this.refreshState()})}_updateValue(){const h=this.editor.document,w=h.selection.getSelectedElement();this.value=s.i(u.b)(w)&&w.hasAttribute('alt')&&w.getAttribute('alt')}_checkEnabled(){const h=this.editor.document.selection.getSelectedElement();return s.i(u.b)(h)}_doExecute(h){const w=this.editor,C=w.document,T=C.selection.getSelectedElement();C.enqueueChanges(()=>{const P=h.batch||C.batch();P.setAttribute(T,'alt',h.newValue)})}}r.a=f},function(o,r,s){'use strict';var d=s(342),u=s(2);class f extends u.a{init(){this.editor.commands.set('imageTextAlternative',new d.a(this.editor))}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(22),f=s(6),h=s(181),w=s(180),C=s(179);class T extends d.a{constructor(P){super(P);const S=this.locale.t;this.lebeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(S('Save')),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(S('Cancel'),'cancel'),f.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new f.a({tag:'form',attributes:{class:['cke-text-alternative-form']},children:[this.lebeledInput,{tag:'div',attributes:{class:['cke-text-alternative-form__actions']},children:[this.saveButtonView,this.cancelButtonView]}]}),s.i(C.a)({view:this})}_createButton(P,S){const E=new u.a(this.locale);return E.label=P,E.withText=!0,S&&E.delegate('execute').to(this,S),E}_createLabeledInputView(){const P=this.locale.t,S=new h.a(this.locale,w.a);return S.label=P('Text alternative'),S}}r.a=T},function(o,r,s){'use strict';function d(I){return I.parent.getAncestors().find((L)=>L instanceof w.a)}var u=s(2),f=s(318),h=s(347),w=s(175),C=s(178),T=s(22),P=s(182),S=s(348),E=s(520),O=s.n(E),V=s(521),F=s.n(V),R=s(512),N=s.n(R);class M extends u.a{static get requires(){return[h.a]}static get pluginName(){return'link/link'}init(){this.editor.editing.view.addObserver(f.a),this.balloonPanelView=this._createBalloonPanel(),this.formView=this._createForm(),this._createToolbarLinkButton(),this._createToolbarUnlinkButton()}_createToolbarLinkButton(){const I=this.editor,L=I.commands.get('link'),D=I.t;I.keystrokes.set('CTRL+K',()=>this._showPanel()),I.ui.componentFactory.add('link',(q)=>{const z=new T.a(q);return z.isEnabled=!0,z.label=D('Link'),z.icon=O.a,z.keystroke='CTRL+K',z.tooltip=!0,z.bind('isEnabled').to(L,'isEnabled'),this.listenTo(z,'execute',()=>this._showPanel()),z})}_createToolbarUnlinkButton(){const I=this.editor,L=I.t,D=I.commands.get('unlink');I.ui.componentFactory.add('unlink',(q)=>{const z=new T.a(q);return z.isEnabled=!1,z.label=L('Unlink'),z.icon=F.a,z.tooltip=!0,z.bind('isEnabled').to(D,'isEnabled'),this.listenTo(z,'execute',()=>I.execute('unlink')),z})}_createBalloonPanel(){const I=this.editor,L=I.editing.view,D=new P.a(I.locale);return D.maxWidth=300,I.ui.focusTracker.add(D.element),this.listenTo(L,'click',()=>{const q=L.selection,z=d(q.getFirstPosition());q.isCollapsed&&z&&(this._attachPanelToElement(),this.listenTo(L,'render',()=>{const K=d(q.getFirstPosition());q.isCollapsed&&z===K?this._attachPanelToElement(z):this._hidePanel()}),this.listenTo(D,'change:isVisible',()=>this.stopListening(L,'render')))}),I.keystrokes.set('Tab',(q,z)=>{D.isVisible&&!this.formView.focusTracker.isFocused&&(this.formView.focus(),z())}),I.keystrokes.set('Esc',(q,z)=>{D.isVisible&&(this._hidePanel(!0),z())}),s.i(C.a)({emitter:D,activator:()=>D.isVisible,contextElement:D.element,callback:()=>this._hidePanel()}),I.ui.view.body.add(D),D}_createForm(){const I=this.editor,L=new S.a(I.locale);return L.urlInputView.bind('value').to(I.commands.get('link'),'value'),this.listenTo(L,'submit',()=>{I.execute('link',L.urlInputView.inputView.element.value),this._hidePanel(!0)}),this.listenTo(L,'unlink',()=>{I.execute('unlink'),this._hidePanel(!0)}),L.keystrokes.set('Esc',(D,q)=>{this._hidePanel(!0),q()}),this.listenTo(L,'cancel',()=>this._hidePanel(!0)),this.balloonPanelView.content.add(L),L}_attachPanelToElement(I){const L=this.editor.editing.view,D=I||d(L.selection.getFirstPosition()),q=D?L.domConverter.getCorrespondingDomElement(D):L.domConverter.viewRangeToDom(L.selection.getFirstRange());this.balloonPanelView.attachTo({target:q,limiter:L.domConverter.getCorrespondingDomElement(L.selection.editableElement)})}_hidePanel(I){this.balloonPanelView.hide(),I&&this.editor.editing.view.focus()}_showPanel(){this._attachPanelToElement(),this.formView.urlInputView.select()}}r.a=M},function(o,r,s){'use strict';var d=s(11),u=s(25),f=s(3),h=s(99),w=s(154),C=s(174);class T extends d.a{constructor(P){super(P),this.set('value',void 0),this.listenTo(this.editor.document.selection,'change:attribute',()=>{this.value=this.editor.document.selection.getAttribute('linkHref')})}_checkEnabled(){const P=this.editor.document;return s.i(w.a)('linkHref',P.selection,P.schema)}_doExecute(P){const S=this.editor.document,E=S.selection;S.enqueueChanges(()=>{const O=S.batch();if(E.isCollapsed){const V=E.getFirstPosition(),F=V.parent;if(E.hasAttribute('linkHref')){const R=s.i(C.a)(E.getFirstPosition(),E.getAttribute('linkHref'));O.setAttribute(R,'linkHref',P),E.setRanges([R])}else if(S.schema.check({name:'$text',attributes:'linkHref',inside:F.name})){const R=new u.a(P,{linkHref:P});O.insert(V,R),E.setRanges([f.a.createOn(R)])}}else{const V=s.i(h.a)('linkHref',E.getRanges(),S.schema);for(let F of V)O.setAttribute(F,'linkHref',P)}})}}r.a=T},function(o,r,s){'use strict';var d=s(2),u=s(37),f=s(38),h=s(175),w=s(346),C=s(349);class T extends d.a{init(){const P=this.editor,S=P.data,E=P.editing;P.document.schema.allow({name:'$inline',attributes:'linkHref'}),s.i(u.a)().for(S.modelToView,E.modelToView).fromAttribute('linkHref').toElement((O)=>new h.a('a',{href:O})),s.i(f.a)().for(S.viewToModel).fromElement('a').toAttribute((O)=>({key:'linkHref',value:O.getAttribute('href')})),P.commands.set('link',new w.a(P)),P.commands.set('unlink',new C.a(P))}}r.a=T},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(118),h=s(22),w=s(181),C=s(180),T=s(179),P=s(65),S=s(117),E=s(66);class O extends d.a{constructor(V){super(V);const F=V.t;this.focusTracker=new P.a,this.keystrokes=new E.a,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(F('Save')),this.saveButtonView.type='submit',this.cancelButtonView=this._createButton(F('Cancel'),'cancel'),this.unlinkButtonView=this._createButton(F('Unlink'),'unlink'),this._focusables=new f.a,this._focusCycler=new S.a({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'shift + tab',focusNext:'tab'}}),u.a.extend(this.saveButtonView.template,{attributes:{class:['ck-button-action']}}),this.template=new u.a({tag:'form',attributes:{class:['ck-link-form']},children:[this.urlInputView,{tag:'div',attributes:{class:['ck-link-form__actions']},children:[this.saveButtonView,this.cancelButtonView,this.unlinkButtonView]}]}),s.i(T.a)({view:this});const R=[this.urlInputView,this.saveButtonView,this.cancelButtonView,this.unlinkButtonView];R.forEach((N)=>{this._focusables.add(N),this.focusTracker.add(N.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const V=this.locale.t,F=new w.a(this.locale,C.a);return F.label=V('Link URL'),F}_createButton(V,F){const R=new h.a(this.locale);return R.label=V,R.withText=!0,F&&R.delegate('execute').to(this,F),R}}r.a=O},function(o,r,s){'use strict';var d=s(11),u=s(174);class f extends d.a{constructor(h){super(h),this.listenTo(h.document.selection,'change:attribute',()=>this.refreshState())}_doExecute(){const h=this.editor.document,w=h.selection;h.enqueueChanges(()=>{const C=w.isCollapsed?[s.i(u.a)(w.getFirstPosition(),w.getAttribute('linkHref'))]:w.getRanges(),T=h.batch();for(let P of C)T.removeAttribute(P,'linkHref')})}_checkEnabled(){return this.editor.document.selection.hasAttribute('linkHref')}}r.a=f},function(o,r,s){'use strict';function F(Q,Y,X){const ee=Q.nodeBefore;let te=Q.nodeAfter;if(te&&'listItem'==te.name){const ae=ee&&ee.is('listItem')?ee.getAttribute('indent')+1:0;let ne=te.getAttribute('indent')-ae;const ie=[];for(;te&&'listItem'==te.name&&te.getAttribute('indent')>ae;){ne>te.getAttribute('indent')&&(ne=te.getAttribute('indent'));const oe=te.getAttribute('indent')-ne;ie.push({item:te,indent:oe}),te=te.nextSibling}0<ie.length&&Y.enqueueChanges(()=>{for(let oe of ie.reverse())X.setAttribute(oe.item,'indent',oe.indent)})}}function R(Q,Y,X,ee){let te=Q[Y?'nodeBefore':'nodeAfter'];if(!te||!te.is('listItem')||0===te.getAttribute('indent'))return;const ae=q(te,!Y);if(!ae||ae==te)return;const ne=ae.getAttribute('indent'),ie=ae.getAttribute('type');X.enqueueChanges(()=>{for(;te&&te.is('listItem')&&te.getAttribute('indent')>=ne;)te.getAttribute('type')!=ie&&te.getAttribute('indent')==ne&&ee.setAttribute(te,'type',ie),te=te[Y?'previousSibling':'nextSibling']})}function N(Q,Y){const X='numbered'==Q.getAttribute('type')?'ol':'ul',ee=new z.a,te=new W.a(X,null);return te.appendChildren(ee),Y.bindElements(Q,ee),ee}function M(Q,Y){const X=Y.getNext?'nextSibling':'previousSibling',ee=Y.getNext?'nodeAfter':'nodeBefore',te=!!Y.checkAllSiblings,ae=!!Y.sameIndent,ne=!!Y.biggerIndent,ie=!!Y.smallerIndent,oe=!!Y.isMapped,re=Q instanceof K.a?Q.getAttribute('indent'):Y.indent;for(let se=Q instanceof K.a?Q[X]:Q[ee],le;se&&'listItem'==se.name;){if(le=se.getAttribute('indent'),ae&&re==le||ne&&re<le||ie&&re>le){if(!oe||Y.mapper.toViewElement(se))return se;se=se[X];continue}if(!te)return null;se=se[X]}return null}function I(Q,Y){return Q&&Y&&('ul'==Q.name||'ol'==Q.name)&&Q.name==Y.name?J.a.mergeContainers(U.a.createAfter(Q)):null}function L(Q,Y,X,ee){const te=Y.parent;let ae,ne=M(Q,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0});if(ne&&ne.getAttribute('indent')==Q.getAttribute('indent')){let oe=X.toViewElement(ne);ae=J.a.breakContainer(U.a.createAfter(oe))}else ne=Q.previousSibling,ae=ne&&'listItem'==ne.name?ne.getAttribute('indent')<Q.getAttribute('indent')?X.toViewPosition($.a.createAt(ne,'end')):ee.parent.is('ul')||ee.parent.is('ol')?J.a.breakContainer(ee):ee:X.toViewPosition($.a.createBefore(Q));J.a.insert(ae,te);const ie=M(Q,{biggerIndent:!0,getNext:!0,isMapped:!0,mapper:X});if(ie){let oe=X.toViewElement(ie);J.a.breakContainer(U.a.createBefore(oe));const re=U.a.createBefore(oe.parent),se=q(ie,!1),le=X.toViewElement(se),de=J.a.breakContainer(U.a.createAfter(le)),ce=new Z.a(re,de),ue=U.a.createAt(Y,'end');J.a.move(ce,ue)}I(te,te.nextSibling),I(te.previousSibling,te)}function D(Q,Y,X,ee,te){const ae=M(Y,{sameIndent:!0,smallerIndent:!0,checkAllSiblings:!0,indent:Q}),ne=ae?ae.getAttribute('indent'):null;let ie;if(!ae)ie=X;else if(ne==Q){const oe=te.toViewElement(ae).parent;ie=U.a.createAfter(oe)}else{const oe=$.a.createAt(ae,'end');ie=te.toViewPosition(oe)}for(let oe of[...ee.getChildren()])(oe.is('ul')||oe.is('ol'))&&(ie=J.a.move(Z.a.createOn(oe),ie).end,I(oe,oe.nextSibling),I(oe.previousSibling,oe))}function q(Q,Y){const X=Q.getAttribute('indent'),ee=Y?'previousSibling':'nextSibling';let te=Q;for(;Q[ee]&&Q[ee].is('listItem')&&Q[ee].getAttribute('indent')>=X;)Q=Q[ee],Q.getAttribute('indent')==X&&(te=Q);return te}var z=s(354),K=s(5),$=s(1),H=s(13),W=s(41),U=s(26),Z=s(34),G=s(51),J=s(76);r.e=function(Q,Y,X,ee){if(X.test(Y.item,'insert')&&X.test(Y.item,'addAttribute:type')&&X.test(Y.item,'addAttribute:indent')){X.consume(Y.item,'insert'),X.consume(Y.item,'addAttribute:type'),X.consume(Y.item,'addAttribute:indent');const te=Y.item,ae=N(te,ee.mapper);L(te,ae,ee.mapper)}},r.f=function(Q,Y,X,ee){if(!X.consume(Y.item,'changeAttribute:type'))return;const te=ee.mapper.toViewElement(Y.item);J.a.breakContainer(U.a.createBefore(te)),J.a.breakContainer(U.a.createAfter(te));let ae=te.parent;const ne='numbered'==Y.attributeNewValue?'ol':'ul';ae=J.a.rename(ae,ne),I(ae,ae.nextSibling),I(ae.previousSibling,ae)},r.g=function(Q,Y,X,ee){if(X.consume(Y.item,'remove')){const te=ee.mapper.toViewPosition(Y.sourcePosition),ae=te.nodeAfter.is('li')?te.nodeAfter:te.nodeAfter.getChild(0);J.a.breakContainer(U.a.createBefore(ae)),J.a.breakContainer(U.a.createAfter(ae));const ne=ae.parent,ie=ne.previousSibling,oe=Z.a.createOn(ne);J.a.remove(oe),ie&&ie.nextSibling&&I(ie,ie.nextSibling),D(Y.item.getAttribute('indent')+1,Y.sourcePosition,oe.start,ae,ee.mapper),'$graveyard'==Y.item.root.rootName&&ee.mapper.unbindModelElement(Y.item)}},r.i=function(Q,Y,X,ee){if(!X.consume(Y.item,'changeAttribute:indent'))return;const te=ee.mapper.toViewElement(Y.item);J.a.breakContainer(U.a.createBefore(te)),J.a.breakContainer(U.a.createAfter(te));const ae=te.parent,ne=ae.previousSibling,ie=Z.a.createOn(ae);J.a.remove(ie);let oe;ne&&ne.nextSibling&&(oe=I(ne,ne.nextSibling)),oe||(oe=ie.start),D(Y.attributeOldValue+1,Y.range.start,ie.start,te,ee.mapper),L(Y.item,te,ee.mapper,oe)},r.d=function(Q,Y,X,ee){if('listItem'!=Y.item.name){let te=ee.mapper.toViewPosition(Y.range.start);const ae=[];for(;('ul'==te.parent.name||'ol'==te.parent.name)&&(te=J.a.breakContainer(te),'li'==te.parent.name);){const ne=te,ie=U.a.createAt(te.parent,'end');if(!ne.isEqual(ie)){const oe=J.a.remove(new Z.a(ne,ie));ae.push(oe)}te=U.a.createAfter(te.parent)}if(0<ae.length){for(let ne=0;ne<ae.length;ne++){const ie=te.nodeBefore,oe=J.a.insert(te,ae[ne]);if(te=oe.end,0<ne){let re=I(ie,ie.nextSibling);re&&re.parent==ie&&te.offset--}}I(te.nodeBefore,te.nodeAfter)}}},r.h=function(Q,Y,X,ee){if(!Y.item.is('listItem')){const te=ee.mapper.toViewPosition(Y.sourcePosition),ae=te.nodeBefore,ne=te.nodeAfter;I(ae,ne)}},r.l=function(Q,Y,X,ee){if(X.consume(Y.input,{name:!0})){const te=new K.a('listItem');Y.indent=Y.indent?Y.indent:0;const ae='ul'==Y.input.parent.name?'bulleted':'numbered';te.setAttribute('type',ae),te.setAttribute('indent',Y.indent),Y.context.push(te),Y.indent++;let ne=[te];for(let ie of Y.input.getChildren()){const oe=ee.convertItem(ie,X,Y);'ul'==ie.name||'ol'==ie.name?ne=ne.concat(Array.from(oe.getChildren())):H.a.insert($.a.createAt(te,'end'),oe)}Y.indent--,Y.context.pop(),Y.output=ne}},r.j=function(Q,Y,X){if(X.test(Y.input,{name:!0})){const ee=Array.from(Y.input.getChildren());for(let te of ee)te.is('li')||te.remove()}},r.k=function(Q,Y,X){if(X.test(Y.input,{name:!0})){if(0===Y.input.childCount)return;const ee=[...Y.input.getChildren()];let te=!1,ae=!0;for(let ne of ee)!te||ne.is('ul')||ne.is('ol')||ne.remove(),ne.is('text')?(ae&&(ne.data=ne.data.replace(/^\s+/,'')),(!ne.nextSibling||ne.nextSibling.is('ul')||ne.nextSibling.is('ol'))&&(ne.data=ne.data.replace(/\s+$/,''))):(ne.is('ul')||ne.is('ol'))&&(te=!0),ae=!1}},r.b=function(Q,Y){const X=Y.modelPosition.nodeBefore;if(X&&X.is('listItem')){const ee=Y.mapper.toViewElement(X),te=ee.getAncestors().find((ne)=>ne.is('ul')||ne.is('ol')),ae=new G.a({startPosition:U.a.createAt(ee,0)});for(let ne of ae)if('elementStart'==ne.type&&ne.item.is('li')){Y.viewPosition=ne.previousPosition;break}else if('elementEnd'==ne.type&&ne.item==te){Y.viewPosition=ne.nextPosition;break}}},r.c=function(Q,Y){const X=Y.viewPosition,ee=X.parent,te=Y.mapper;if('ul'==ee.name||'ol'==ee.name){if(!X.isAtEnd){const ae=te.toModelElement(X.nodeAfter);Y.modelPosition=$.a.createBefore(ae)}else{const ae=te.toModelElement(X.nodeBefore),ne=te.getModelLength(X.nodeBefore);Y.modelPosition=$.a.createBefore(ae).getShiftedBy(ne)}Q.stop()}else if('li'==ee.name&&X.nodeBefore&&('ul'==X.nodeBefore.name||'ol'==X.nodeBefore.name)){const ae=te.toModelElement(ee);let ne=1,ie=X.nodeBefore;for(;ie&&(ie.is('ul')||ie.is('ol'));)ne+=te.getModelLength(ie),ie=ie.previousSibling;Y.modelPosition=$.a.createBefore(ae).getShiftedBy(ne),Q.stop()}},r.a=function(Q){return(Y,X,ee,te)=>{if('remove'==X)F(ee.sourcePosition,Q,te),R(ee.sourcePosition,!1,Q,te);else if('move'==X)F(ee.sourcePosition,Q,te),R(ee.sourcePosition,!1,Q,te),F(ee.range.start,Q,te),R(ee.range.start,!1,Q,te),F(ee.range.end,Q,te),R(ee.range.end,!0,Q,te);else if('rename'==X&&'listItem'==ee.oldName&&'listItem'!=ee.newName){const ae=ee.element;Q.enqueueChanges(()=>{te.removeAttribute(ae,'indent').removeAttribute(ae,'type')});const ne=$.a.createAfter(ee.element);F(ne,Q,te)}else'insert'==X&&(F(ee.range.start,Q,te),R(ee.range.start,!1,Q,te),F(ee.range.end,Q,te),R(ee.range.end,!0,Q,te))}}},function(o,r,s){'use strict';function d(C,T){const P=u(C,!1);if(P)return void T.setAttribute(C,'type',P.getAttribute('type'));const S=u(C,!0);S&&T.setAttribute(C,'type',S.getAttribute('type'))}function u(C,T){for(let P=C[T?'nextSibling':'previousSibling'];P&&P.is('listItem')&&P.getAttribute('indent')>=C.getAttribute('indent');){if(P.getAttribute('indent')==C.getAttribute('indent'))return P;P=P[T?'nextSibling':'previousSibling']}return null}var f=s(11),h=s(64);class w extends f.a{constructor(C,T){super(C),this._indentBy='forward'==T?1:-1,this.listenTo(C.document,'changesDone',()=>{this.refreshState()})}_doExecute(){const C=this.editor.document,T=C.batch();let P=Array.from(C.selection.getSelectedBlocks());C.enqueueChanges(()=>{const S=P[P.length-1];for(let E=S.nextSibling;E&&'listItem'==E.name&&E.getAttribute('indent')>S.getAttribute('indent');)P.push(E),E=E.nextSibling;0>this._indentBy&&(P=P.reverse());for(let O of P){const V=O.getAttribute('indent')+this._indentBy;0>V?T.rename(O,'paragraph'):T.setAttribute(O,'indent',V)}0>this._indentBy&&(P=P.reverse());for(let O of P)d(O,T)})}_checkEnabled(){const C=s.i(h.a)(this.editor.document.selection.getSelectedBlocks());if(!C||!C.is('listItem'))return!1;if(0<this._indentBy){const T=C.getAttribute('indent'),P=C.getAttribute('type');for(let S=C.previousSibling;S&&S.is('listItem')&&S.getAttribute('indent')>=T;){if(S.getAttribute('indent')==T)return S.getAttribute('type')==P;S=S.previousSibling}return!1}return!0}}r.a=w},function(o,r,s){'use strict';var d=s(176),u=s(523),f=s.n(u),h=s(522),w=s.n(h),C=s(2),T=s(23),P=s(22);class S extends C.a{static get requires(){return[d.a]}static get pluginName(){return'list/list'}init(){const E=this.editor.t;this._addButton('numberedList',E('Numbered List'),f.a),this._addButton('bulletedList',E('Bulleted List'),w.a),this.listenTo(this.editor.editing.view,'enter',(O,V)=>{const F=this.editor.document,R=F.selection.getLastPosition().parent;F.selection.isCollapsed&&'listItem'==R.name&&R.isEmpty&&(this.editor.execute('outdentList'),V.preventDefault(),O.stop())}),this.listenTo(this.editor.editing.view,'keydown',(O,V)=>{let F;if(V.keystroke==s.i(T.a)('Tab')?F='indentList':V.keystroke==s.i(T.a)('Shift+Tab')&&(F='outdentList'),F){const R=this.editor.commands.get(F);R.isEnabled&&(this.editor.execute(F),V.preventDefault(),O.stop())}})}_addButton(E,O,V){const F=this.editor,R=F.commands.get(E);F.ui.componentFactory.add(E,(N)=>{const M=new P.a(N);return M.set({label:O,icon:V,tooltip:!0}),M.bind('isOn','isEnabled').to(R,'value','isEnabled'),this.listenTo(M,'execute',()=>F.execute(E)),M})}}r.a=S},function(o,r,s){'use strict';function d(C,T,P){const S=T?C[0]:C[C.length-1];if(S.is('listItem'))for(let E=S[T?'previousSibling':'nextSibling'],O=S.getAttribute('indent');E&&E.is('listItem')&&E.getAttribute('indent')>=P;)O>E.getAttribute('indent')&&(O=E.getAttribute('indent')),E.getAttribute('indent')==O&&C[T?'unshift':'push'](E),E=E[T?'previousSibling':'nextSibling']}var u=s(11),f=s(1),h=s(64);class w extends u.a{constructor(C,T){super(C),this.type='bulleted'==T?'bulleted':'numbered',this.set('value',!1),this.listenTo(C.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}refreshValue(){const C=s.i(h.a)(this.editor.document.selection.getSelectedBlocks());this.value=C&&C.is('listItem')&&C.getAttribute('type')==this.type}_doExecute(C={}){const T=this.editor.document,P=Array.from(T.selection.getSelectedBlocks()),S=!0===this.value;T.enqueueChanges(()=>{const E=C.batch||T.batch();if(S){let O=P[P.length-1].nextSibling,V=_NumberPOSITIVE_INFINITY,F=[];for(;O&&'listItem'==O.name&&0!==O.getAttribute('indent');){const R=O.getAttribute('indent');R<V&&(V=R);const N=R-V;F.push({element:O,indent:N}),O=O.nextSibling}F=F.reverse();for(let R of F)E.setAttribute(R.element,'indent',R.indent)}if(!S){let O=_NumberPOSITIVE_INFINITY;for(let V of P)V.is('listItem')&&V.getAttribute('indent')<O&&(O=V.getAttribute('indent'));O=0===O?1:O,d(P,!0,O),d(P,!1,O)}for(let O of P.reverse())S&&'listItem'==O.name?E.rename(O,'paragraph'):S||'listItem'==O.name?S||'listItem'!=O.name||O.getAttribute('type')==this.type||E.setAttribute(O,'type',this.type):E.setAttribute(O,'type',this.type).setAttribute(O,'indent',0).rename(O,'listItem')})}_checkEnabled(){if(this.value)return!0;const C=this.editor.document.selection,T=this.editor.document.schema,P=s.i(h.a)(C.getSelectedBlocks());return!!P&&T.check({name:'listItem',attributes:['type','indent'],inside:f.a.createBefore(P)})}}r.a=w},function(o,r,s){'use strict';function d(){const h=!this.isEmpty&&('ul'==this.getChild(0).name||'ol'==this.getChild(0).name);return this.isEmpty||h?0:null}var u=s(41);class f extends u.a{constructor(h,w){super('li',h,w),this.getFillerOffset=d}}r.a=f},function(o,r,s){'use strict';var d=s(11),u=s(1),f=s(64);class h extends d.a{constructor(w){super(w),this.set('value',!1),this.listenTo(w.document,'changesDone',()=>{this.refreshValue(),this.refreshState()})}_doExecute(w={}){const C=this.editor.document;C.enqueueChanges(()=>{const T=w.batch||C.batch(),P=(w.selection||C.selection).getSelectedBlocks();for(let S of P)S.is('paragraph')||T.rename(S,'paragraph')})}refreshValue(){const w=s.i(f.a)(this.editor.document.selection.getSelectedBlocks());this.value=!!w&&w.is('paragraph')}_checkEnabled(){const w=s.i(f.a)(this.editor.document.selection.getSelectedBlocks());return!!w&&this.editor.document.schema.check({name:'paragraph',inside:u.a.createBefore(w)})}}r.a=h},function(o,r,s){'use strict';var d=s(2),u=s(357),f=s(279),h=s(277),w=s(330),C=s(332),T=s(334),P=s(337),S=s(173),E=s(278),O=s(345),V=s(352),F=s(77);class R extends d.a{static get requires(){return[u.a,f.a,h.a,w.a,C.a,T.a,P.a,S.a,E.a,O.a,V.a,F.a]}}r.a=R},function(o,r,s){'use strict';var d=s(2),u=s(282),f=s(327),h=s(363),w=s(383);class C extends d.a{static get requires(){return[u.a,f.a,h.a,w.a]}}r.a=C},function(o,r,s){'use strict';var d=s(2),u=s(359),f=s(360);class h extends d.a{static get pluginName(){return'typing/delete'}init(){const w=this.editor,C=w.editing.view;C.addObserver(f.a),w.commands.set('forwardDelete',new u.a(w,'forward')),w.commands.set('delete',new u.a(w,'backward')),this.listenTo(C,'delete',(T,P)=>{w.execute('forward'==P.direction?'forwardDelete':'delete',{unit:P.unit}),P.preventDefault()})}}r.a=h},function(o,r,s){'use strict';var d=s(11),u=s(57),f=s(177),h=s(184);class w extends d.a{constructor(C,T){super(C),this.direction=T,this._buffer=new f.a(C.document,C.config.get('typing.undoStep'))}_doExecute(C={}){const T=this.editor.document,P=this.editor.data;T.enqueueChanges(()=>{this._buffer.lock();const S=u.a.createFromSelection(T.selection);if(S.isCollapsed&&P.modifySelection(S,{direction:this.direction,unit:C.unit}),S.isCollapsed)return;let E=0;S.getFirstRange().getMinimalFlatRanges().forEach((O)=>{E+=s.i(h.a)(O.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),P.deleteContent(S,this._buffer.batch,{merge:!0}),this._buffer.input(E),T.selection.setRanges(S.getRanges(),S.isBackward),this._buffer.unlock()})}}r.a=w},function(o,r,s){'use strict';var d=s(50),u=s(116),f=s(23);class h extends d.a{constructor(w){super(w),w.on('keydown',(C,T)=>{const P={};if(T.keyCode==f.d.delete)P.direction='forward',P.unit='character';else if(T.keyCode==f.d.backspace)P.direction='backward',P.unit='codePoint';else return;P.unit=T.altKey?'word':P.unit,w.fire('delete',new u.a(w,T.domEvent,P))})}observe(){}}r.a=h},function(o,r,s){'use strict';function d(R){return!!R.ctrlKey||F.includes(R.keyCode)}function u(R,N){return R instanceof C.a&&N instanceof C.a?R.data===N.data:R===N}var f=s(2),h=s(3),w=s(26),C=s(29),T=s(185),P=s(387),S=s(23),E=s(362);class O extends f.a{static get pluginName(){return'typing/input'}init(){const R=this.editor,N=R.editing.view,M=new E.a(R,R.config.get('typing.undoStep')||20);R.commands.set('input',M),this.listenTo(N,'keydown',(I,L)=>{this._handleKeydown(L,M.buffer)},{priority:'lowest'}),this.listenTo(N,'mutations',(I,L,D)=>{this._handleMutations(L,D)})}_handleKeydown(R,N){const M=this.editor.document;d(R)||M.selection.isCollapsed||(N.lock(),M.enqueueChanges(()=>{this.editor.data.deleteContent(M.selection,N.batch)}),N.unlock())}_handleMutations(R,N){new V(this.editor).handle(R,N)}}r.a=O;class V{constructor(R){this.editor=R,this.editing=this.editor.editing}handle(R,N){for(let M of R)this._handleTextMutation(M,N),this._handleTextNodeInsertion(M)}_handleTextMutation(R,N){if('text'!=R.type)return;const M=R.newText.replace(/\u00A0/g,' '),I=R.oldText.replace(/\u00A0/g,' '),L=s.i(T.a)(I,M);let D=null,q=null;for(let G=0;G<L.length;G++){const J=L[G];'equal'!=J&&(D=null==D?G:D,q=G)}let z=0,K=0;for(let G=D;G<=q;G++)'insert'!=L[G]&&z++,'delete'!=L[G]&&K++;let $=null;N&&($=this.editing.mapper.toModelRange(N.getFirstRange()));const H=new w.a(R.node,D),W=this.editing.mapper.toModelPosition(H),U=h.a.createFromPositionAndShift(W,z),Z=M.substr(D,K);this.editor.execute('input',{text:Z,range:U,resultRange:$})}_handleTextNodeInsertion(R){if('children'==R.type&&1==R.newChildren.length-R.oldChildren.length){const N=s.i(T.a)(R.oldChildren,R.newChildren,u),M=s.i(P.a)(N,R.newChildren);if(!(1<M.length)){const I=M[0];if(I.values[0]instanceof C.a){const L=new w.a(R.node,I.index),D=this.editing.mapper.toModelPosition(L),q=I.values[0].data;this.editor.execute('input',{text:q.replace(/\u00A0/g,' '),range:new h.a(D)})}}}}}const F=[s.i(S.c)('arrowUp'),s.i(S.c)('arrowRight'),s.i(S.c)('arrowDown'),s.i(S.c)('arrowLeft'),9,16,17,18,20,27,33,34,35,36,229];for(let R=112;135>=R;R++)F.push(R)},function(o,r,s){'use strict';var d=s(11),u=s(177);class f extends d.a{constructor(h,w){super(h),this._buffer=new u.a(h.document,w)}destroy(){super.destroy(),this._buffer.destroy(),this._buffer=null}get buffer(){return this._buffer}_doExecute(h={}){const w=this.editor.document,C=h.text||'',T=C.length,P=h.range||w.selection.getFirstRange(),S=h.resultRange;w.enqueueChanges(()=>{const E=P.isCollapsed;this._buffer.lock(),E||this._buffer.batch.remove(P),this._buffer.batch.weakInsert(P.start,C),S?this.editor.data.model.selection.setRanges([S]):E&&this.editor.data.model.selection.collapse(P.start.getShiftedBy(T)),this._buffer.unlock(),this._buffer.input(T)})}}r.a=f},function(o,r,s){'use strict';var d=s(2),u=s(361),f=s(358);class h extends d.a{static get requires(){return[u.a,f.a]}static get pluginName(){return'typing/typing'}}r.a=h},function(o,r,s){'use strict';var u=s(23);r.a=function({emitter:f,activator:h,callback:w}){f.listenTo(document,'keydown',(C,{keyCode:T})=>{T==u.d.esc&&h()&&w()})}},function(o,r,s){'use strict';var d=s(0);r.a=class{constructor(f){this.editor=f,this._components=new Map}add(f,h){if(this._components.get(f))throw new d.a('componentfactory-item-exists: The item already exists in the component factory.',{name:f});this._components.set(f,h)}create(f){const h=this._components.get(f);if(!h)throw new d.a('componentfactory-item-missing: There is no such UI component in the factory.',{name:f});return h(this.editor.locale)}}},function(o,r,s){'use strict';var u=s(22),f=s(368),h=s(367);r.a=function(w,C){const T=new u.a(C);T.bind('label','isOn','isEnabled','withText','keystroke','tooltip').to(w);const P=new h.a(C);return new f.a(C,T,P)}},function(o,r,s){'use strict';var d=s(9),u=s(6);class f extends d.a{constructor(h){super(h);const w=this.bindTemplate;this.set('isVisible',!1),this.children=this.createCollection(),this.template=new u.a({tag:'div',attributes:{class:['ck-reset','ck-dropdown__panel',w.if('isVisible','ck-dropdown__panel-visible')]},children:this.children})}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(65),h=s(66);class w extends d.a{constructor(C,T,P){super(C),u.a.extend(T.template,{attributes:{class:['ck-dropdown__button']}}),this.buttonView=T,this.panelView=P,this.set('isOpen',!1),this.focusTracker=new f.a,this.keystrokes=new h.a,this.template=new u.a({tag:'div',attributes:{class:['ck-dropdown']},children:[T,P]}),this.listenTo(T,'execute',()=>this.isOpen=!this.isOpen),P.bind('isVisible').to(this,'isOpen')}init(){this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const C=(T,P)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,P())};return this.keystrokes.set('arrowdown',(T,P)=>{this.isOpen||(this.isOpen=!0,P())}),this.keystrokes.set('arrowright',(T,P)=>{this.isOpen&&P()}),this.keystrokes.set('arrowleft',C),this.keystrokes.set('esc',C),super.init()}focus(){this.buttonView.focus()}}r.a=w},function(o,r,s){'use strict';function u(C){C.listenTo(document,'click',(T,{target:P})=>{C.element==P||C.element.contains(P)||(C.isOpen=!1)})}var f=s(377),h=s(376),w=s(366);r.a=function(C,T){const P=s.i(w.a)(C,T),S=P.listView=new f.a(T);return S.items.bindTo(C.items).using((E)=>{const O=new h.a(T);return O.bind(...Object.keys(E)).to(E),O}),S.items.delegate('execute').to(P),P.panelView.children.add(S),P.on('change:isOpen',(E,O,V)=>{V?u(P):P.stopListening(document)}),P.on('execute',()=>{P.isOpen=!1}),P.keystrokes.set('arrowdown',(E,O)=>{P.isOpen&&(S.focus(),O())}),P.keystrokes.set('arrowup',(E,O)=>{P.isOpen&&(S.focusLast(),O())}),P}},function(o,r,s){'use strict';var d=s(9),u=s(6);class f extends d.a{constructor(h,w){super(h);const C=this.bindTemplate;w&&(this.element=this.editableElement=w),this.template=new u.a({tag:'div',attributes:{class:[C.to('isFocused',(T)=>T?'ck-focused':'ck-blurred'),'ck-editor__editable'],contenteditable:C.to('isReadOnly',(T)=>!T)}}),this.set('isReadOnly',!1),this.set('isFocused',!1),this.externalElement=w}init(){return this.externalElement?this.template.apply(this.externalElement):this.editableElement=this.element,super.init()}destroy(){return this.externalElement&&this.template.revert(this.externalElement),super.destroy()}}r.a=f},function(o,r,s){'use strict';var d=s(370),u=s(6);class f extends d.a{constructor(h,w){super(h,w);const C=this.bindTemplate,T=this.t;this.set('name',null);u.a.extend(this.template,{attributes:{role:'textbox','aria-label':C.to('name',(S)=>{return T('Rich Text Editor, %0',[S])}),class:'ck-editor__editable_inline'}})}}r.a=f},function(o,r,s){'use strict';var d=s(373),u=s(70),f=s(6);class h extends d.a{constructor(w){super(w);const C=this.t,T=s.i(u.a)();this.set('width',null),this.set('height',null),this.top=this.createCollection(),this.main=this.createCollection(),this.template=new f.a({tag:'div',attributes:{class:['ck-reset','ck-editor','ck-rounded-corners'],role:'application',dir:'ltr',lang:w.lang,'aria-labelledby':`cke-editor__aria-label_${T}`},children:[{tag:'span',attributes:{id:`cke-editor__aria-label_${T}`,class:'cke-voice-label'},children:[C('Rich Text Editor')]},{tag:'div',attributes:{class:'ck-editor__top ck-reset_all',role:'presentation'},children:this.top},{tag:'div',attributes:{class:'ck-editor__main',role:'presentation'},children:this.main}]})}}r.a=h},function(o,r,s){'use strict';var d=s(9),u=s(6);class f extends d.a{constructor(h){super(h),this.body=this.createCollection()}init(){return Promise.resolve().then(()=>this._renderBodyCollection()).then(()=>super.init())}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const h=this._bodyCollectionContainer=new u.a({tag:'div',attributes:{class:['ck-body','ck-rounded-corners','ck-reset_all']},children:this.body}).render();document.body.appendChild(h)}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6);class f extends d.a{constructor(){super();const h=this.bindTemplate;this.set('content'),this.set('viewBox','0 0 20 20'),this.template=new u.a({tag:'svg',ns:'http://www.w3.org/2000/svg',attributes:{class:'ck-icon',viewBox:h.to('viewBox')}}),this.on('change:content',(w,C,T)=>{for(const P=new DOMParser().parseFromString(T.trim(),'image/svg+xml').firstChild;0<P.childNodes.length;)this.element.appendChild(P.childNodes[0])})}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6);class f extends d.a{constructor(h){super(h),this.set('text'),this.set('for');const w=this.bindTemplate;this.template=new u.a({tag:'label',attributes:{class:['ck-label'],for:w.to('for')},children:[{text:w.to('text')}]})}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6);class f extends d.a{constructor(){super(),this.set('tabindex',-1);const h=this.bindTemplate;this.template=new u.a({tag:'li',attributes:{class:['ck-list__item',h.to('class'),h.if('isActive','ck-list__item_active')],style:h.to('style'),tabindex:h.to('tabindex')},children:[{text:h.to('label')}],on:{click:h.to('execute')}})}focus(){this.element.focus()}}r.a=f},function(o,r,s){'use strict';var d=s(9),u=s(6),f=s(65),h=s(117),w=s(66);class C extends d.a{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new f.a,this.keystrokes=new w.a,this._focusCycler=new h.a({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:'arrowup',focusNext:'arrowdown'}}),this.template=new u.a({tag:'ul',attributes:{class:['ck-reset','ck-list']},children:this.items}),this.items.on('add',(T,P)=>{this.focusTracker.add(P.element)}),this.items.on('remove',(T,P)=>{this.focusTracker.remove(P.element)})}init(){return this.keystrokes.listenTo(this.element),super.init()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}r.a=C},function(o,r,s){'use strict';var d=s(45),u=s(4),f=s(31);class h{constructor(w,C){C&&s.i(d.a)(this,C),w&&this.set(w)}}r.a=h,s.i(u.a)(h,f.a)},function(o,r){'use strict';r.a=function({origin:u,originKeystrokeHandler:f,originFocusTracker:h,toolbar:w}){h.add(w.element),f.set('Alt+F10',(C,T)=>{h.isFocused&&!w.focusTracker.isFocused&&(w.focus(),T())}),w.keystrokes.set('Esc',(C,T)=>{w.focusTracker.isFocused&&(u.focus(),T())})}},function(o,r,s){'use strict';var d=s(63),u=s(6),f=s(183),h=s(187);const w=s.i(h.a)('px');class C extends f.a{constructor(T){super(T);const P=this.bindTemplate;this.set('isActive',!1),this.set('isSticky',!1),this.set('limiterElement',null),this.set('limiterOffset',50),this.set('_marginLeft',null),this.set('_isStickyToTheLimiter',!1),u.a.extend(this.template,{attributes:{class:[P.if('isSticky','ck-toolbar_sticky'),P.if('_isStickyToTheLimiter','ck-toolbar_sticky_bottom-limit')],style:{width:P.to('isSticky',(S)=>{return S?w(this._elementPlaceholder.getBoundingClientRect().width):null}),bottom:P.to('_isStickyToTheLimiter',(S)=>{return S?w(this.limiterOffset):null}),marginLeft:P.to('_marginLeft')}}}),this._elementPlaceholder=new u.a({tag:'div',attributes:{class:['ck-toolbar__placeholder'],style:{display:P.to('isSticky',(S)=>S?'block':'none'),height:P.to('isSticky',(S)=>{return S?w(this._toolbarRect.height):null})}}}).render()}init(){super.init(),this.element.parentNode.insertBefore(this._elementPlaceholder,this.element),this.listenTo(d.a.window,'scroll',()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,'change:isActive',()=>{this._checkIfShouldBeSticky()})}destroy(){return super.destroy().then(()=>{this._elementPlaceholder.remove()})}_checkIfShouldBeSticky(){const T=this._limiterRect=this.limiterElement.getBoundingClientRect(),P=this._toolbarRect=this.element.getBoundingClientRect();this.isSticky=this.isActive&&0>T.top&&this._toolbarRect.height+this.limiterOffset<T.height,this.isSticky?(this._isStickyToTheLimiter=T.bottom<P.height+this.limiterOffset,this._marginLeft=this._isStickyToTheLimiter?null:w(-d.a.window.scrollX)):(this._isStickyToTheLimiter=!1,this._marginLeft=null)}}r.a=C},function(o,r,s){'use strict';var d=s(9),u=s(6);class f extends d.a{constructor(h){super(h),this.template=new u.a({tag:'span',attributes:{class:['ck-toolbar__separator']}})}}r.a=f},function(o,r,s){'use strict';var d=s(119),u=s(106);class f extends d.a{_doExecute(){const h=this._stack.pop();this.editor.document.enqueueChanges(()=>{const w=h.batch.deltas[h.batch.deltas.length-1],C=w.baseVersion+w.operations.length,T=Array.from(this.editor.document.history.getDeltas(C)).filter((P)=>{return!this._createdBatches.has(P.batch)});this._restoreSelection(h.selection.ranges,h.selection.isBackward,T),this._redo(h.batch)}),this.refreshState()}_redo(h){const w=this.editor.document,C=w.batch();this._createdBatches.add(C);const T=h.deltas.slice();T.reverse();for(let P of T){const S=P.baseVersion+P.operations.length;let E=[P.getReversed()];for(let O of w.history.getDeltas(S))this._createdBatches.has(O.batch)||(E=s.i(u.a)(E,[O],!0).deltasA);for(let O of E){O.baseVersion=w.version,C.addDelta(O);for(let V of O.operations)w.applyOperation(V)}}}}r.a=f},function(o,r,s){'use strict';var d=s(2),u=s(385),f=s(22),h=s(525),w=s.n(h),C=s(524),T=s.n(C);class P extends d.a{static get requires(){return[u.a]}static get pluginName(){return'undo/undo'}init(){const S=this.editor,E=S.t;this._addButton('undo',E('Undo'),'CTRL+Z',w.a),this._addButton('redo',E('Redo'),'CTRL+Y',T.a),S.keystrokes.set('CTRL+Z','undo'),S.keystrokes.set('CTRL+Y','redo'),S.keystrokes.set('CTRL+SHIFT+Z','redo')}_addButton(S,E,O,V){const F=this.editor,R=F.commands.get(S);F.ui.componentFactory.add(S,(N)=>{const M=new f.a(N);return M.set({label:E,icon:V,keystroke:O,tooltip:!0}),M.bind('isEnabled').to(R,'isEnabled'),this.listenTo(M,'execute',()=>F.execute(S)),M})}}r.a=P},function(o,r,s){'use strict';var d=s(119),u=s(106);class f extends d.a{_doExecute(h=null){let w=h?this._stack.findIndex((T)=>T.batch==h):this._stack.length-1;const C=this._stack.splice(w,1)[0];this.editor.document.enqueueChanges(()=>{const T=this._undo(C.batch),P=this.editor.document.history.getDeltas(C.batch.baseVersion);this._restoreSelection(C.selection.ranges,C.selection.isBackward,P),this.fire('revert',C.batch,T)}),this.refreshState()}_getItemIndexFromBaseVersion(h){for(let w=0;w<this._stack.length;w++)if(this._stack[w].batch.baseVersion==h)return w;return null}_undo(h){const w=this.editor.document,C=w.batch();this._createdBatches.add(C);const T=w.history,P=h.deltas.slice();P.reverse();for(let S of P){const E=S.baseVersion,O=E+S.operations.length,V=T.getDelta(E);if(null===V)continue;V.reverse();let F=[];for(let N of V)F.push(N.getReversed());const R={};for(let N of T.getDeltas(O)){const M=this._getItemIndexFromBaseVersion(N.baseVersion);null!==M&&(this._stack[M].selection.ranges=s.i(d.b)(this._stack[M].selection.ranges,F));const I=s.i(u.a)(F,[N],!0);F=I.deltasA;const L=I.deltasB;R[N.baseVersion]||(R[N.baseVersion]=[]),R[N.baseVersion]=R[N.baseVersion].concat(L)}for(let N of F){N.baseVersion=w.version,C.addDelta(N);for(let M of N.operations)w.applyOperation(M)}T.removeDelta(E);for(let N of F)T.removeDelta(N.baseVersion);for(let N in R)T.updateDelta(+N,R[N])}return C}}r.a=f},function(o,r,s){'use strict';var d=s(2),u=s(384),f=s(382);class h extends d.a{constructor(w){super(w),this._batchRegistry=new WeakSet}init(){this._undoCommand=new u.a(this.editor),this._redoCommand=new f.a(this.editor),this.editor.commands.set('undo',this._undoCommand),this.editor.commands.set('redo',this._redoCommand),this.listenTo(this.editor.document,'change',(w,C,T,P)=>{this._batchRegistry.has(P)||'transparent'==P.type||(this._redoCommand._createdBatches.has(P)?this._undoCommand.addBatch(P):!this._undoCommand._createdBatches.has(P)&&(this._undoCommand.addBatch(P),this._redoCommand.clearStack()),this._batchRegistry.add(P))},{priority:'highest'}),this.listenTo(this._undoCommand,'revert',(w,C,T)=>{this._redoCommand.addBatch(T)})}}r.a=h},function(o,r,s){'use strict';var d=s(97);r.a=class{constructor(f,h){this._config={},h&&this.define(h),f&&this._setObjectToTarget(this._config,f)}set(f,h){this._setToTarget(this._config,f,h)}define(f,h){this._setToTarget(this._config,f,h,!0)}get(f){return this._getFromSource(this._config,f)}_setToTarget(f,h,w,C=!1){if(s.i(d.a)(h))return void this._setObjectToTarget(f,h,C);const T=h.split('.');h=T.pop();for(let P of T)s.i(d.a)(f[P])||(f[P]={}),f=f[P];return s.i(d.a)(w)?(s.i(d.a)(f[h])||(f[h]={}),f=f[h],void this._setObjectToTarget(f,w,C)):void(C&&'undefined'!=typeof f[h]||(f[h]=w))}_getFromSource(f,h){const w=h.split('.');h=w.pop();for(let C of w){if(!s.i(d.a)(f[C])){f=null;break}f=f[C]}return f?f[h]:void 0}_setObjectToTarget(f,h,w){Object.keys(h).forEach((C)=>{this._setToTarget(f,C,h[C],w)})}}},function(o,r){'use strict';r.a=function(u,f){function h(){P&&(C.push(P),P=null)}function w(S){return P&&P.type==S}const C=[];let T=0,P;return u.forEach((S)=>{'equal'==S?(h(),T++):'insert'==S?(w('insert')?P.values.push(f[T]):(h(),P={type:'insert',index:T,values:[f[T]]}),T++):w('delete')?P.howMany++:(h(),P={type:'delete',index:T,howMany:1})}),h(),C}},function(o,r,s){'use strict';var u=s(186);r.a=function(f,h){const w=s.i(u.a)(f),C=s.i(u.a)(h);let T=0;for(;w[T]==C[T]&&w[T];)T++;return 0==T?null:w[T-1]}},function(o,r){'use strict';r.a=function(u){return u instanceof HTMLTextAreaElement?u.value:u.innerHTML}},function(o,r,s){'use strict';var u=s(63);r.a=function(f){for(;f&&'html'!=f.tagName.toLowerCase();){if('static'!=u.a.window.getComputedStyle(f).position)return f;f=f.parentElement}return null}},function(o,r){'use strict';r.a=function(u){let f=0;for(;u.previousSibling;)u=u.previousSibling,f++;return f}},function(o,r){'use strict';r.a=function(u,f,h){u.insertBefore(h,u.childNodes[f]||null)}},function(o,r){'use strict';r.a=function(u){return'[object Range]'==Object.prototype.toString.apply(u)}},function(o,r,s){'use strict';function u(P,S,E){const{left:O,top:V,name:F}=P(S,E);return[F,E.clone().moveTo(O,V)]}function f(P,S,E,O,V){let F=0,R=0,N,M;const I=E.getArea();return P.some((L)=>{function D(){R=$,F=K,N=z,M=q}const[q,z]=u(L,S,E);let K,$;if(O)if(V){const H=O.getIntersection(V);K=H?H.getIntersectionArea(z):0}else K=O.getIntersectionArea(z);return V&&($=V.getIntersectionArea(z)),V&&!O?$>R&&D():!V&&O?K>F&&D():$>R&&K>=F?D():$>=R&&K>F&&D(),K===I}),N?[M,N]:null}function h({left:P,top:S}){const{scrollX:E,scrollY:O}=w.a.window;return{left:P+E,top:S+O}}var w=s(63),C=s(395),T=s(390);r.a=function({element:P,target:S,positions:E,limiter:O,fitInViewport:V}){const F=s.i(T.a)(P.parentElement),R=new C.a(P),N=new C.a(S);let M,I;if(!O&&!V)[I,M]=u(E[0],N,R);else{const q=O&&new C.a(O),z=V&&C.a.getViewportRect();[I,M]=f(E,N,R,q,z)||u(E[0],N,R)}let{left:L,top:D}=h(M);if(F){const q=h(new C.a(F)),z=w.a.window.getComputedStyle(F);L-=q.left,D-=q.top,L+=F.scrollLeft,D+=F.scrollTop,L-=parseInt(z.borderLeftWidth,10),D-=parseInt(z.borderTopWidth,10)}return{left:L,top:D,name:I}}},function(o,r,s){'use strict';var d=s(63),u=s(393),f=s(486);const h=['top','right','bottom','left','width','height'];class w{constructor(C){(s.i(f.a)(C)||s.i(u.a)(C))&&(C=C.getBoundingClientRect()),h.forEach((T)=>this[T]=C[T])}clone(){return new w(this)}moveTo(C,T){return this.top=T,this.right=C+this.width,this.bottom=T+this.height,this.left=C,this}moveBy(C,T){return this.top+=T,this.right+=C,this.left+=C,this.bottom+=T,this}getIntersection(C){const T={top:_Mathmax(this.top,C.top),right:_Mathmin(this.right,C.right),bottom:_Mathmin(this.bottom,C.bottom),left:_Mathmax(this.left,C.left)};return T.width=T.right-T.left,T.height=T.bottom-T.top,0>T.width||0>T.height?null:new w(T)}getIntersectionArea(C){const T=this.getIntersection(C);return T?T.getArea():0}getArea(){return this.width*this.height}static getViewportRect(){const{innerWidth:C,innerHeight:T}=d.a.window;return new w({top:0,right:C,bottom:T,left:0,width:C,height:T})}}r.a=w},function(o,r){'use strict';r.a=function(u){const f=u.parentNode;f&&f.removeChild(u)}},function(o,r){'use strict';r.a=function(u,f){u instanceof HTMLTextAreaElement&&(u.value=f),u.innerHTML=f}},function(o,r){'use strict';r.a=class{constructor(){this._replacedElements=[]}replace(u,f){this._replacedElements.push({element:u,newElement:f}),u.style.display='none',f&&u.parentNode.insertBefore(f,u.nextSibling)}restore(){this._replacedElements.forEach(({element:u,newElement:f})=>{u.style.display='',f&&f.remove()}),this._replacedElements=[]}}},function(o,r){'use strict';const u=navigator.userAgent.toLowerCase(),f={mac:function(h){return-1<h.indexOf('macintosh')}(u)};r.a=f},function(o,r,s){'use strict';var d=s(502);r.a=class{constructor(f,h){this.source=f,this.name=h,this.path=[],this.stop=s.i(d.a)(),this.off=s.i(d.a)()}}},function(o,r,s){'use strict';var d=s(52),u=s(30),f=s.i(d.a)(u.a,'DataView');r.a=f},function(o,r,s){'use strict';function d(T){var P=-1,S=T?T.length:0;for(this.clear();++P<S;){var E=T[P];this.set(E[0],E[1])}}var u=s(448),f=s(449),h=s(450),w=s(451),C=s(452);d.prototype.clear=u.a,d.prototype['delete']=f.a,d.prototype.get=h.a,d.prototype.has=w.a,d.prototype.set=C.a,r.a=d},function(o,r,s){'use strict';var d=s(52),u=s(30),f=s.i(d.a)(u.a,'Promise');r.a=f},function(o,r,s){'use strict';var d=s(30),u=d.a.Reflect;r.a=u},function(o,r,s){'use strict';var d=s(52),u=s(30),f=s.i(d.a)(u.a,'WeakMap');r.a=f},function(o,r){'use strict';r.a=function(u,f){return u.set(f[0],f[1]),u}},function(o,r){'use strict';r.a=function(u,f){return u.add(f),u}},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=u.length;++h<w&&!(!1===f(u[h],h,u)););return u}},function(o,r){'use strict';r.a=function(u,f){for(var h=-1,w=u.length;++h<w;)if(f(u[h],h,u))return!0;return!1}},function(o,r,s){'use strict';var u=s(137),f=s(69);r.a=function(h,w){return h&&s.i(u.a)(w,s.i(f.a)(w),h)}},function(o,r,s){'use strict';var u=s(224);r.a=function(f,h){for(var w=-1,T=h.length,P=Array(T);++w<T;)P[w]=null==f?void 0:s.i(u.a)(f,h[w]);return P}},function(o,r){'use strict';r.a=function(u,f,h){return u===u&&(void 0!==h&&(u=u<=h?u:h),void 0!==f&&(u=u>=f?u:f)),u}},function(o,r,s){'use strict';var u=s(15),f=Object.create;r.a=function(h){return s.i(u.a)(h)?f(h):{}}},function(o,r,s){'use strict';var u=s(16),f=s(496);r.a=function(h,w,C,T){var P=h.length;for(C=s.i(u.a)(C),0>C&&(C=-C>P?0:P+C),T=void 0===T||T>P?P:s.i(u.a)(T),0>T&&(T+=P),T=C>T?0:s.i(f.a)(T);C<T;)h[C++]=w;return h}},function(o,r,s){'use strict';var u=s(83),f=s(12);r.a=function(h,w,C){var T=w(h);return s.i(f.a)(h)?T:s.i(u.a)(T,C(h))}},function(o,r){'use strict';r.a=function(u,f){return f in Object(u)}},function(o,r){'use strict';r.a=function(u,f,h,w){for(var C=h-1,T=u.length;++C<T;)if(w(u[C],f))return C;return-1}},function(o,r,s){'use strict';var u=s(121),f=s(201),h=s(442),w=s(443),C=s(139),T=s(12),P=s(89),S=s(488),O='[object Arguments]',V='[object Array]',F='[object Object]',R=Object.prototype,N=R.hasOwnProperty;r.a=function(M,I,L,D,q,z){var K=s.i(T.a)(M),$=s.i(T.a)(I),H=V,W=V;K||(H=s.i(C.a)(M),H=H==O?F:H),$||(W=s.i(C.a)(I),W=W==O?F:W);var U=H==F&&!s.i(P.a)(M),Z=W==F&&!s.i(P.a)(I),G=H==W;if(G&&!U)return z||(z=new u.a),K||s.i(S.a)(M)?s.i(f.a)(M,I,L,D,q,z):s.i(h.a)(M,I,H,L,D,q,z);if(!(q&2)){var J=U&&N.call(M,'__wrapped__'),Q=Z&&N.call(I,'__wrapped__');if(J||Q){var Y=J?M.value():M,X=Q?I.value():I;return z||(z=new u.a),L(Y,X,D,q,z)}}return!!G&&(z||(z=new u.a),s.i(w.a)(M,I,L,D,q,z))}},function(o,r,s){'use strict';var u=s(121),f=s(128);r.a=function(C,T,P,S){var E=P.length,O=E,V=!S;if(null==C)return!O;for(C=Object(C);E--;){var F=P[E];if(V&&F[2]?F[1]!==C[F[0]]:!(F[0]in C))return!1}for(;++E<O;){F=P[E];var R=F[0],N=C[R],M=F[1];if(!(V&&F[2])){var I=new u.a;if(S)var L=S(N,M,R,C,T,I);if(void 0===L?!s.i(f.a)(M,N,S,1|2,I):!L)return!1}else if(void 0===N&&!(R in C))return!1}return!0}},function(o,r){'use strict';var u=Object.keys;r.a=function(f){return u(Object(f))}},function(o,r,s){'use strict';function d(T){T=null==T?T:Object(T);var P=[];for(var S in T)P.push(S);return P}var u=s(404),f=s(458),h=Object.prototype,w=u.a?u.a.enumerate:void 0,C=h.propertyIsEnumerable;w&&!C.call({valueOf:1},'valueOf')&&(d=function(T){return s.i(f.a)(w(T))}),r.a=d},function(o,r,s){'use strict';var u=s(419),f=s(446),h=s(206);r.a=function(w){var C=s.i(f.a)(w);return 1==C.length&&C[0][2]?s.i(h.a)(C[0][0],C[0][1]):function(T){return T===w||s.i(u.a)(T,w,C)}}},function(o,r,s){'use strict';var u=s(128),f=s(224),h=s(484),w=s(53),C=s(205),T=s(206),P=s(54);r.a=function(O,V){return s.i(w.a)(O)&&s.i(C.a)(V)?s.i(T.a)(s.i(P.a)(O),V):function(F){var R=s.i(f.a)(F,O);return R===void 0&&R===V?s.i(h.a)(F,O):s.i(u.a)(V,R,void 0,1|2)}}},function(o,r,s){'use strict';var u=s(36);r.a=function(f,h){var w=f.length;if(w)return h+=0>h?w:0,s.i(u.a)(h,w)?f[h]:void 0}},function(o,r,s){'use strict';var u=s(125);r.a=function(f){return function(h){return s.i(u.a)(h,f)}}},function(o,r,s){'use strict';var u=s(67),f=s(87),h=s(36),w=s(53),C=s(15),T=s(54);r.a=function(P,S,E,O){S=s.i(w.a)(S,P)?[S]:s.i(f.a)(S);for(var V=-1,F=S.length,N=P,M;null!=N&&++V<F;){if(M=s.i(T.a)(S[V]),s.i(C.a)(N)){var I=E;if(V!=F-1){var L=N[M];I=O?O(L,M,N):void 0,void 0===I&&(I=null==L?s.i(h.a)(S[V+1])?[]:{}:L)}s.i(u.a)(N,M,I)}N=N[M]}return P}},function(o,r,s){'use strict';var u=s(27);r.a=function(f,h){return s.i(u.a)(h,function(w){return[w,f[w]]})}},function(o,r,s){'use strict';var u=s(122),f=s(47),w=u.a?u.a.prototype:void 0,C=w?w.toString:void 0;r.a=function(T){if('string'==typeof T)return T;if(s.i(f.a)(T))return C?C.call(T):'';var P=T+'';return'0'==P&&1/T==-(1/0)?'-0':P}},function(o,r){'use strict';r.a=function(u){return u&&u.Object===Object?u:null}},function(o,r){'use strict';r.a=function(u,f){if(f)return u.slice();var h=new u.constructor(u.length);return u.copy(h),h}},function(o,r,s){'use strict';var u=s(136);r.a=function(f,h){var w=h?s.i(u.a)(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.byteLength)}},function(o,r,s){'use strict';var u=s(406),f=s(192),h=s(140);r.a=function(w,C,T){var P=C?T(s.i(h.a)(w),!0):s.i(h.a)(w);return s.i(f.a)(P,u.a,new w.constructor)}},function(o,r){'use strict';var u=/\w*$/;r.a=function(f){var h=new f.constructor(f.source,u.exec(f));return h.lastIndex=f.lastIndex,h}},function(o,r,s){'use strict';var u=s(407),f=s(192),h=s(93);r.a=function(w,C,T){var P=C?T(s.i(h.a)(w),!0):s.i(h.a)(w);return s.i(f.a)(P,u.a,new w.constructor)}},function(o,r,s){'use strict';var u=s(122),f=u.a?u.a.prototype:void 0,h=f?f.valueOf:void 0;r.a=function(w){return h?Object(h.call(w)):{}}},function(o,r,s){'use strict';var u=s(136);r.a=function(f,h){var w=h?s.i(u.a)(f.buffer):f.buffer;return new f.constructor(w,f.byteOffset,f.length)}},function(o,r,s){'use strict';var u=s(47);r.a=function(f,h){if(f!==h){var w=f!==void 0,C=null===f,T=f===f,P=s.i(u.a)(f),S=h!==void 0,E=null===h,O=h===h,V=s.i(u.a)(h);if(!E&&!V&&!P&&f>h||P&&S&&O&&!E&&!V||C&&S&&O||!w&&O||!T)return 1;if(!C&&!P&&!V&&f<h||V&&w&&T&&!C&&!P||E&&w&&T||!S&&T||!O)return-1}return 0}},function(o,r,s){'use strict';var u=s(137),f=s(202);r.a=function(h,w){return s.i(u.a)(h,s.i(f.a)(h),w)}},function(o,r,s){'use strict';var u=s(90),f=s(8);r.a=function(h){return s.i(f.a)(function(w,C){var T=-1,P=C.length,S=1<P?C[P-1]:void 0,E=2<P?C[2]:void 0;for(S=3<h.length&&'function'==typeof S?(P--,S):void 0,E&&s.i(u.a)(C[0],C[1],E)&&(S=3>P?void 0:S,P=1),w=Object(w);++T<P;){var O=C[T];O&&h(w,O,T,S)}return w})}},function(o,r,s){'use strict';var d=s(189),u=s(491),f=s(93),w=d.a&&1/s.i(f.a)(new d.a([,-0]))[1]==1/0?function(C){return new d.a(C)}:u.a;r.a=w},function(o,r,s){'use strict';var u=s(427),f=s(139),h=s(140),w=s(472);r.a=function(P){return function(S){var E=s.i(f.a)(S);return E=='[object Map]'?s.i(h.a)(S):E=='[object Set]'?s.i(w.a)(S):s.i(u.a)(S,P(S))}}},function(o,r,s){'use strict';var u=s(122),f=s(190),h=s(201),w=s(140),C=s(93),q=u.a?u.a.prototype:void 0,z=q?q.valueOf:void 0;r.a=function(K,$,H,W,U,Z,G){switch(H){case'[object DataView]':if(K.byteLength!=$.byteLength||K.byteOffset!=$.byteOffset)return!1;K=K.buffer,$=$.buffer;case'[object ArrayBuffer]':return K.byteLength==$.byteLength&&W(new f.a(K),new f.a($));case'[object Boolean]':case'[object Date]':return+K==+$;case'[object Error]':return K.name==$.name&&K.message==$.message;case'[object Number]':return K==+K?K==+$:$!=+$;case'[object RegExp]':case'[object String]':return K==$+'';case'[object Map]':var J=w.a;case'[object Set]':var Q=Z&2;if(J||(J=C.a),K.size!=$.size&&!Q)return!1;var Y=G.get(K);return Y?Y==$:(Z|=1,G.set(K,$),s.i(h.a)(J(K),J($),W,U,Z,G));case'[object Symbol]':if(z)return z.call(K)==z.call($);}return!1}},function(o,r,s){'use strict';var u=s(195),f=s(69);r.a=function(w,C,T,P,S,E){var O=S&2,V=s.i(f.a)(w),F=V.length,R=s.i(f.a)(C),N=R.length;if(F!=N&&!O)return!1;for(var M=F,I;M--;)if(I=V[M],O?!(I in C):!s.i(u.a)(C,I))return!1;var L=E.get(w);if(L)return L==C;var D=!0;E.set(w,C);for(var q=O;++M<F;){I=V[M];var z=w[I],K=C[I];if(P)var $=O?P(K,z,I,C,w,E):P(z,K,I,w,C,E);if(void 0===$?!(z===K||T(z,K,P,S,E)):!$){D=!1;break}q||(q='constructor'==I)}if(D&&!q){var H=w.constructor,W=C.constructor;H!=W&&'constructor'in w&&'constructor'in C&&!('function'==typeof H&&H instanceof H&&'function'==typeof W&&W instanceof W)&&(D=!1)}return E['delete'](w),D}},function(o,r,s){'use strict';var u=s(415),f=s(202),h=s(69);r.a=function(w){return s.i(u.a)(w,h.a,f.a)}},function(o,r,s){'use strict';var d=s(129),u=s.i(d.a)('length');r.a=u},function(o,r,s){'use strict';var u=s(205),f=s(497);r.a=function(h){for(var w=s.i(f.a)(h),C=w.length;C--;)w[C][2]=s.i(u.a)(w[C][1]);return w}},function(o,r,s){'use strict';var u=s(87),f=s(145),h=s(12),w=s(36),C=s(53),T=s(96),P=s(147),S=s(54);r.a=function(E,O,V){O=s.i(C.a)(O,E)?[O]:s.i(u.a)(O);for(var R=-1,N=O.length,F,M;++R<N&&(M=s.i(S.a)(O[R]),!!(F=null!=E&&V(E,M)));)E=E[M];if(F)return F;var N=E?E.length:0;return!!N&&s.i(T.a)(N)&&s.i(w.a)(M,N)&&(s.i(h.a)(E)||s.i(P.a)(E)||s.i(f.a)(E))}},function(o,r,s){'use strict';var u=s(92);r.a=function(){this.__data__=u.a?s.i(u.a)(null):{}}},function(o,r){'use strict';r.a=function(u){return this.has(u)&&delete this.__data__[u]}},function(o,r,s){'use strict';var u=s(92),h=Object.prototype,w=h.hasOwnProperty;r.a=function(C){var T=this.__data__;if(u.a){var P=T[C];return P==='__lodash_hash_undefined__'?void 0:P}return w.call(T,C)?T[C]:void 0}},function(o,r,s){'use strict';var u=s(92),f=Object.prototype,h=f.hasOwnProperty;r.a=function(w){var C=this.__data__;return u.a?C[w]!==void 0:h.call(C,w)}},function(o,r,s){'use strict';var u=s(92);r.a=function(h,w){var C=this.__data__;return C[h]=u.a&&void 0===w?'__lodash_hash_undefined__':w,this}},function(o,r){'use strict';var u=Object.prototype,f=u.hasOwnProperty;r.a=function(h){var w=h.length,C=h.constructor(w);return w&&'string'==typeof h[0]&&f.call(h,'index')&&(C.index=h.index,C.input=h.input),C}},function(o,r,s){'use strict';var u=s(136),f=s(431),h=s(432),w=s(433),C=s(434),T=s(435),P=s(436);r.a=function(G,J,Q,Y){var X=G.constructor;return J==='[object ArrayBuffer]'?s.i(u.a)(G):J==='[object Boolean]'||J==='[object Date]'?new X(+G):J==='[object DataView]'?s.i(f.a)(G,Y):J==='[object Float32Array]'||J==='[object Float64Array]'||J==='[object Int8Array]'||J==='[object Int16Array]'||J==='[object Int32Array]'||J==='[object Uint8Array]'||J==='[object Uint8ClampedArray]'||J==='[object Uint16Array]'||J==='[object Uint32Array]'?s.i(P.a)(G,Y):J==='[object Map]'?s.i(h.a)(G,Y,Q):J==='[object Number]'||J==='[object String]'?new X(G):J==='[object RegExp]'?s.i(w.a)(G):J==='[object Set]'?s.i(C.a)(G,Y,Q):J==='[object Symbol]'?s.i(T.a)(G):void 0}},function(o,r,s){'use strict';var u=s(413),f=s(138),h=s(91);r.a=function(w){return'function'!=typeof w.constructor||s.i(h.a)(w)?{}:s.i(u.a)(s.i(f.a)(w))}},function(o,r,s){'use strict';var u=s(145),f=s(12);r.a=function(h){return s.i(f.a)(h)||s.i(u.a)(h)}},function(o,r){'use strict';r.a=function(u){var f=typeof u;return'string'==f||'number'==f||'symbol'==f||'boolean'==f?'__proto__'!==u:null===u}},function(o,r){'use strict';r.a=function(u){for(var h=[],f;!(f=u.next()).done;)h.push(f.value);return h}},function(o,r){'use strict';r.a=function(){this.__data__=[]}},function(o,r,s){'use strict';var u=s(84),f=Array.prototype,h=f.splice;r.a=function(w){var C=this.__data__,T=s.i(u.a)(C,w);if(0>T)return!1;var P=C.length-1;return T==P?C.pop():h.call(C,T,1),!0}},function(o,r,s){'use strict';var u=s(84);r.a=function(f){var h=this.__data__,w=s.i(u.a)(h,f);return 0>w?void 0:h[w][1]}},function(o,r,s){'use strict';var u=s(84);r.a=function(f){return-1<s.i(u.a)(this.__data__,f)}},function(o,r,s){'use strict';var u=s(84);r.a=function(f,h){var w=this.__data__,C=s.i(u.a)(w,f);return 0>C?w.push([f,h]):w[C][1]=h,this}},function(o,r,s){'use strict';var u=s(402),f=s(80),h=s(188);r.a=function(){this.__data__={hash:new u.a,map:new(h.a||f.a),string:new u.a}}},function(o,r,s){'use strict';var u=s(88);r.a=function(f){return s.i(u.a)(this,f)['delete'](f)}},function(o,r,s){'use strict';var u=s(88);r.a=function(f){return s.i(u.a)(this,f).get(f)}},function(o,r,s){'use strict';var u=s(88);r.a=function(f){return s.i(u.a)(this,f).has(f)}},function(o,r,s){'use strict';var u=s(88);r.a=function(f,h){return s.i(u.a)(this,f).set(f,h),this}},function(o,r,s){'use strict';var u=s(125),f=s(35);r.a=function(h,w){return 1==w.length?h:s.i(u.a)(h,s.i(f.a)(w,0,-1))}},function(o,r){'use strict';r.a=function(f){return this.__data__.set(f,'__lodash_hash_undefined__'),this}},function(o,r){'use strict';r.a=function(u){return this.__data__.has(u)}},function(o,r){'use strict';r.a=function(u){var f=-1,h=Array(u.size);return u.forEach(function(w){h[++f]=[w,w]}),h}},function(o,r,s){'use strict';var u=s(80);r.a=function(){this.__data__=new u.a}},function(o,r){'use strict';r.a=function(u){return this.__data__['delete'](u)}},function(o,r){'use strict';r.a=function(u){return this.__data__.get(u)}},function(o,r){'use strict';r.a=function(u){return this.__data__.has(u)}},function(o,r,s){'use strict';var u=s(80),f=s(120);r.a=function(w,C){var T=this.__data__;return T instanceof u.a&&T.__data__.length==200&&(T=this.__data__=new f.a(T.__data__)),T.set(w,C),this}},function(o,r,s){'use strict';var d=s(490),u=s(498),f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,h=/\\(\\)?/g,w=s.i(d.a)(function(C){var T=[];return s.i(u.a)(C).replace(f,function(P,S,E,O){T.push(E?O.replace(h,'$1'):S||P)}),T});r.a=w},function(o,r,s){'use strict';var d=s(208),u=s(209),f=s(210),h=s(211),w=s(212),C=s(213),T=s(142),P=s(143),S=s(214),E=s(215),O=s(216),V=s(217),F=s(218),R=s(219),N=s(220),M=s(221),I=s(222),L=s(223),D=s(144),q=s(226),z=s(227),K=s(228),$=s(229),H=s(230),W=s(232),U=s(19),Z=s(233),G=s(234),J=s(235),Q=s(148),Y=s(236),X=s(237),ee=s(238),te=s(239),ae=s(240),ne=s(241),ie=s(242),oe=s(243),re=s(244),se=s(245),le=s(246),de=s(247),ce=s(248),ue=s(249),me=s(250),ge=s(251),pe=s(252),fe=s(253),he=s(254),be=s(256),_e=s(257),ye=s(258),ve=s(259),we=s(260),ke=s(261),xe=s(98),Ce=s(149),Te=s(262),Pe=s(263),Ae=s(264),Se=s(265),Ee=s(266),Oe=s(267),Ve=s(268),Fe=s(269);r.a={chunk:d.a,compact:u.a,concat:f.a,difference:h.a,differenceBy:w.a,differenceWith:C.a,drop:T.a,dropRight:P.a,dropRightWhile:S.a,dropWhile:E.a,fill:O.a,findIndex:V.a,findLastIndex:F.a,first:R.a,flatten:N.a,flattenDeep:M.a,flattenDepth:I.a,fromPairs:L.a,head:D.a,indexOf:q.a,initial:z.a,intersection:K.a,intersectionBy:$.a,intersectionWith:H.a,join:W.a,last:U.a,lastIndexOf:Z.a,nth:G.a,pull:J.a,pullAll:Q.a,pullAllBy:Y.a,pullAllWith:X.a,pullAt:ee.a,remove:te.a,reverse:ae.a,slice:ne.a,sortedIndex:ie.a,sortedIndexBy:oe.a,sortedIndexOf:re.a,sortedLastIndex:se.a,sortedLastIndexBy:le.a,sortedLastIndexOf:de.a,sortedUniq:ce.a,sortedUniqBy:ue.a,tail:me.a,take:ge.a,takeRight:pe.a,takeRightWhile:fe.a,takeWhile:he.a,union:be.a,unionBy:_e.a,unionWith:ye.a,uniq:ve.a,uniqBy:we.a,uniqWith:ke.a,unzip:xe.a,unzipWith:Ce.a,without:Te.a,xor:Pe.a,xorBy:Ae.a,xorWith:Se.a,zip:Ee.a,zipObject:Oe.a,zipObjectDeep:Ve.a,zipWith:Fe.a}},function(o,r,s){'use strict';var d=s(208),u=s(209),f=s(210),h=s(211),w=s(212),C=s(213),T=s(142),P=s(143),S=s(214),E=s(215),O=s(216),V=s(217),F=s(218),R=s(219),N=s(220),M=s(221),I=s(222),L=s(223),D=s(144),q=s(226),z=s(227),K=s(228),$=s(229),H=s(230),W=s(232),U=s(19),Z=s(233),G=s(234),J=s(235),Q=s(148),Y=s(236),X=s(237),ee=s(238),te=s(239),ae=s(240),ne=s(241),ie=s(242),oe=s(243),re=s(244),se=s(245),le=s(246),de=s(247),ce=s(248),ue=s(249),me=s(250),ge=s(251),pe=s(252),fe=s(253),he=s(254),be=s(256),_e=s(257),ye=s(258),ve=s(259),we=s(260),ke=s(261),xe=s(98),Ce=s(149),Te=s(262),Pe=s(263),Ae=s(264),Se=s(265),Ee=s(266),Oe=s(267),Ve=s(268),Fe=s(269),Re=s(479);s.d(r,'a',function(){return Re.a})},function(o,r,s){'use strict';var d=s(67),u=s(137),f=s(439),h=s(95),w=s(91),C=s(489),T=Object.prototype,P=T.propertyIsEnumerable,S=!P.call({valueOf:1},'valueOf'),E=s.i(f.a)(function(O,V){if(S||s.i(w.a)(V)||s.i(h.a)(V))return void s.i(u.a)(V,s.i(C.a)(V),O);for(var F in V)s.i(d.a)(O,F,V[F])});r.a=E},function(o,r,s){'use strict';var u=s(193);r.a=function(f,h){return s.i(u.a)(f,!0,!0,h)}},function(o,r){'use strict';r.a=function(u){return function(){return u}}},function(o,r,s){'use strict';var u=s(416),f=s(447);r.a=function(h,w){return null!=h&&s.i(f.a)(h,w,u.a)}},function(o,r,s){'use strict';(function(d){var u=s(483),f=s(30),h={'function':!0,object:!0},w=h[typeof exports]&&exports&&!exports.nodeType?exports:void 0,C=h[typeof d]&&d&&!d.nodeType?d:void 0,T=C&&C.exports===w?w:void 0,P=T?f.a.Buffer:void 0,S=P?function(E){return E instanceof P}:s.i(u.a)(!1);r.a=S}).call(r,s(272)(o))},function(o,r,s){'use strict';var u=s(46),f=s(97);r.a=function(h){return!!h&&1===h.nodeType&&s.i(u.a)(h)&&!s.i(f.a)(h)}},function(o,r,s){'use strict';var u=s(128);r.a=function(f,h){return s.i(u.a)(f,h)}},function(o,r,s){'use strict';var u=s(96),f=s(46),G={};G['[object Float32Array]']=G['[object Float64Array]']=G['[object Int8Array]']=G['[object Int16Array]']=G['[object Int32Array]']=G['[object Uint8Array]']=G['[object Uint8ClampedArray]']=G['[object Uint16Array]']=G['[object Uint32Array]']=!0,G['[object Arguments]']=G['[object Array]']=G['[object ArrayBuffer]']=G['[object Boolean]']=G['[object DataView]']=G['[object Date]']=G['[object Error]']=G['[object Function]']=G['[object Map]']=G['[object Number]']=G['[object Object]']=G['[object RegExp]']=G['[object Set]']=G['[object String]']=G['[object WeakMap]']=!1;var J=Object.prototype,Q=J.toString;r.a=function(Y){return s.i(f.a)(Y)&&s.i(u.a)(Y.length)&&!!G[Q.call(Y)]}},function(o,r,s){'use strict';var u=s(421),f=s(203),h=s(36),w=s(91),C=Object.prototype,T=C.hasOwnProperty;r.a=function(P){for(var S=-1,E=s.i(w.a)(P),O=s.i(u.a)(P),V=O.length,F=s.i(f.a)(P),N=F||[],M=N.length,I;++S<V;)I=O[S],!!F&&('length'==I||s.i(h.a)(I,M))||'constructor'==I&&(E||!T.call(P,I))||N.push(I);return N}},function(o,r,s){'use strict';function d(h,w){if('function'!=typeof h||w&&'function'!=typeof w)throw new TypeError(f);var C=function(){var T=arguments,P=w?w.apply(this,T):T[0],S=C.cache;if(S.has(P))return S.get(P);var E=h.apply(this,T);return C.cache=S.set(P,E),E};return C.cache=new(d.Cache||u.a),C}var u=s(120),f='Expected a function';d.Cache=u.a,r.a=d},function(o,r){'use strict';r.a=function(){}},function(o,r){'use strict';var d=Date.now;r.a=d},function(o,r,s){'use strict';var u=s(129),f=s(425),h=s(53),w=s(54);r.a=function(C){return s.i(h.a)(C)?s.i(u.a)(s.i(w.a)(C)):s.i(f.a)(C)}},function(o,r,s){'use strict';var u=s(141),f=s(15);r.a=function(w,C,T){var P=!0,S=!0;if('function'!=typeof w)throw new TypeError('Expected a function');return s.i(f.a)(T)&&(P='leading'in T?!!T.leading:P,S='trailing'in T?!!T.trailing:S),s.i(u.a)(w,C,{leading:P,maxWait:C,trailing:S})}},function(o,r,s){'use strict';var u=s(255),f=1/0;r.a=function(w){if(!w)return 0===w?w:0;if(w=s.i(u.a)(w),w===f||w===-f){var C=0>w?-1:1;return C*1.7976931348623157e308}return w===w?w:0}},function(o,r,s){'use strict';var u=s(412),f=s(16);r.a=function(w){return w?s.i(u.a)(s.i(f.a)(w),0,4294967295):0}},function(o,r,s){'use strict';var d=s(441),u=s(69),f=s.i(d.a)(u.a);r.a=f},function(o,r,s){'use strict';var u=s(428);r.a=function(f){return null==f?'':s.i(u.a)(f)}},function(o,r,s){'use strict';var d=s(503);r.a=class{constructor(f){this.lang=f||'en',this.t=(...h)=>this._t(...h)}_t(f,h){let w=s.i(d.a)(this.lang,f);return h&&(w=w.replace(/\%(\d+)/g,(C,T)=>{return T<h.length?h[T]:C})),w}}},function(o,r){'use strict';r.a=function(u,f){if(u.size!=f.size)return!1;for(let h of u.entries()){let w=JSON.stringify(h[1]),C=JSON.stringify(f.get(h[0]));if(w!==C)return!1}return!0}},function(o,r){'use strict';const d={get(u){return'number'==typeof u?u:this[u]||this.normal},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};r.a=d},function(o,r){'use strict';r.a=function(){return function u(){u.called=!0}}},function(o,r){'use strict';function f(C,T){return C in w&&T in w[C]}r.a=function(C,T){return f(C,T)?w[C][T]:T.replace(/ \[context: [^\]]+\]$/,'')};let w={}},function(o,r,s){'use strict';function d(M){return M==V.d.arrowright||M==V.d.arrowleft||M==V.d.arrowup||M==V.d.arrowdown}function u(M){return M==V.d.delete||M==V.d.backspace}function f(M){for(;M;){if(M instanceof S.a&&!(M instanceof E.a))return!0;M=M.parent}return!1}var h=s(2),w=s(322),C=s(3),T=s(57),P=s(5),S=s(74),E=s(168),O=s(151),V=s(23),F=s(513),R=s.n(F);class N extends h.a{static get pluginName(){return'widget/widget'}init(){const M=this.editor.editing.view;let I;this.editor.editing.modelToView.on('selection',(L,D,q,z)=>{I&&I.hasClass(O.d)&&I.removeClass(O.d);const K=z.viewSelection,$=K.getSelectedElement();$&&s.i(O.b)($)&&(K.setFake(!0,{label:s.i(O.e)($)}),$.addClass(O.d),I=$)},{priority:'low'}),M.addObserver(w.a),this.listenTo(M,'mousedown',(...L)=>this._onMousedown(...L)),this.listenTo(M,'keydown',(...L)=>this._onKeydown(...L),{priority:'high'})}_onMousedown(M,I){const L=this.editor,D=L.editing.view;let q=I.target;if(f(q))return;if(!s.i(O.b)(q)&&(q=q.findAncestor(O.b),!q))return;I.preventDefault(),D.isFocused||D.focus();const z=L.editing.mapper.toModelElement(q);L.document.enqueueChanges(()=>{this._setSelectionOverElement(z)})}_onKeydown(M,I){const L=I.keyCode,D=L==V.d.delete||L==V.d.arrowdown||L==V.d.arrowright;(u(L)&&this._handleDelete(D)||d(L)&&this._handleArrowKeys(D))&&(I.preventDefault(),M.stop())}_handleDelete(M){const I=this.editor.document,L=I.selection;if(!L.isCollapsed)return;const D=this._getObjectElementNextToSelection(M);if(D)return I.enqueueChanges(()=>{const q=L.anchor.parent;if(q.isEmpty){const z=I.batch();z.remove(q)}this._setSelectionOverElement(D)}),!0}_handleArrowKeys(M){const I=this.editor.document,L=I.schema,D=I.selection,q=D.getSelectedElement();if(q&&L.objects.has(q.name)){const K=M?D.getLastPosition():D.getFirstPosition(),$=I.getNearestSelectionRange(K,M?'forward':'backward');return $&&I.enqueueChanges(()=>{D.setRanges([$])}),!0}if(!D.isCollapsed)return;const z=this._getObjectElementNextToSelection(M);if(z instanceof P.a&&I.schema.objects.has(z.name))return I.enqueueChanges(()=>{this._setSelectionOverElement(z)}),!0}_setSelectionOverElement(M){this.editor.document.selection.setRanges([C.a.createOn(M)])}_getObjectElementNextToSelection(M){const I=this.editor.document,L=I.schema,D=I.selection,q=this.editor.data,z=T.a.createFromSelection(D);q.modifySelection(z,{direction:M?'forward':'backward'});const K=M?z.focus.nodeBefore:z.focus.nodeAfter;return K instanceof P.a&&L.objects.has(K.name)?K:null}}r.a=N},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bold</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bold" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bold" sketch:type="MSLayerGroup" transform="translate(4.000000, 3.000000)">\n                <path d="M11.135257,7.40877709 C11.4960763,7.65684034 11.7892376,7.96832419 12.0147496,8.34323798 C12.2402617,8.71815176 12.353016,9.15930309 12.353016,9.66670521 C12.353016,10.2755877 12.2247579,10.7900294 11.968238,11.2100456 C11.711718,11.6300618 11.343857,11.9612776 10.8646439,12.2037031 C10.3572418,12.463042 9.77232867,12.6462677 9.10988702,12.753386 C8.44744538,12.8605042 7.66803104,12.9140625 6.77162064,12.9140625 L0.5390625,12.9140625 L0.5390625,12.254443 C0.713834339,12.2375296 0.933705291,12.2121599 1.19868195,12.1783331 C1.46365861,12.1445063 1.64970326,12.1050423 1.75682149,12.0599399 C1.96542013,11.9753729 2.10777248,11.864028 2.1838828,11.7259018 C2.25999311,11.5877757 2.2980477,11.4087782 2.2980477,11.1889039 L2.2980477,2.73224432 C2.2980477,2.52928347 2.26704026,2.36015197 2.20502445,2.22484474 C2.14300863,2.08953751 1.99360914,1.97114546 1.75682149,1.86966504 C1.58204965,1.79637362 1.37909184,1.73576817 1.14794199,1.68784686 C0.916792141,1.63992554 0.713834339,1.60187096 0.5390625,1.57368195 L0.5390625,0.9140625 L7.05914707,0.9140625 C8.69974724,0.9140625 9.88366774,1.13957117 10.6109441,1.59059527 C11.3382205,2.04161937 11.7018532,2.70686994 11.7018532,3.58636694 C11.7018532,3.99228863 11.6201063,4.34887421 11.4566101,4.65613438 C11.2931138,4.96339455 11.0591486,5.22977666 10.7547073,5.45528872 C10.4784551,5.66388736 10.1486486,5.8442943 9.76527814,5.99651493 C9.38190766,6.14873557 8.97035434,6.27558419 8.53060584,6.37706461 L8.53060584,6.53774115 C8.97035434,6.58284356 9.42700939,6.68009417 9.9005847,6.8294959 C10.37416,6.97889764 10.7857133,7.17198943 11.135257,7.40877709 L11.135257,7.40877709 Z M8.41221261,3.79778343 C8.41221261,3.13252288 8.22475853,2.61385294 7.84984474,2.24175806 C7.47493096,1.86966318 6.91256872,1.68361853 6.16274115,1.68361853 C6.05562292,1.68361853 5.91608943,1.68784681 5.7441365,1.69630351 C5.57218356,1.70476022 5.42419349,1.71180736 5.30016187,1.71744516 L5.30016187,6.16564812 L5.73990817,6.16564812 C6.65323197,6.16564812 7.32693912,5.95282432 7.76104982,5.52717032 C8.19516051,5.10151633 8.41221261,4.52505979 8.41221261,3.79778343 L8.41221261,3.79778343 Z M9.00417878,9.55676863 C9.00417878,8.72237404 8.75611924,8.0824932 8.25999273,7.6371069 C7.76386622,7.1917206 7.05069506,6.96903079 6.12045785,6.96903079 C6.01333962,6.96903079 5.87098728,6.97325908 5.69339654,6.98171578 C5.5158058,6.99017248 5.38472888,6.99721962 5.30016187,7.00285743 L5.30016187,11.3918638 C5.35090208,11.6004624 5.50875814,11.7766411 5.7737348,11.920405 C6.03871146,12.0641689 6.36006132,12.1360498 6.737794,12.1360498 C7.40869235,12.1360498 7.95414144,11.9105411 8.37415764,11.459517 C8.79417383,11.0084929 9.00417878,10.3742498 9.00417878,9.55676863 L9.00417878,9.55676863 Z" id="B" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>italic</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="italic" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:italic" sketch:type="MSLayerGroup" transform="translate(5.000000, 3.000000)">\n                <path d="M8.82538319,0.9140625 L8.6985333,1.47220203 C8.52376146,1.47783984 8.29543393,1.50320956 8.01354387,1.54831197 C7.73165381,1.59341438 7.52305829,1.63569726 7.38775106,1.67516187 C7.1509634,1.74845328 6.9818319,1.86120762 6.88035148,2.01342825 C6.77887106,2.16564888 6.70558074,2.33196153 6.66047833,2.51237117 L4.63088002,11.2819272 C4.61960442,11.3213918 4.61114784,11.3664935 4.60551004,11.4172337 C4.59987224,11.467974 4.59705338,11.5130757 4.59705338,11.5525403 C4.59705338,11.6822097 4.62524197,11.7921452 4.68161998,11.88235 C4.73799799,11.9725548 4.83947689,12.0514829 4.98605973,12.1191365 C5.07062674,12.1586011 5.2566714,12.2051123 5.54419926,12.2586714 C5.83172712,12.3122305 6.04596036,12.3446474 6.18690539,12.355923 L6.0600555,12.9140625 L0.65625,12.9140625 L0.783099894,12.355923 C0.94095833,12.3446474 1.166467,12.3277342 1.45963266,12.305183 C1.75279833,12.2826318 1.96139385,12.2488055 2.08542548,12.2037031 C2.30529973,12.1247739 2.47161237,12.0162478 2.58436839,11.8781217 C2.69712442,11.7399956 2.77323359,11.5722735 2.8126982,11.3749504 L4.83383985,2.59693776 C4.84511545,2.54619755 4.85357203,2.4954581 4.85920983,2.44471789 C4.86484763,2.39397768 4.86766649,2.34323823 4.86766649,2.29249802 C4.86766649,2.17974199 4.84370619,2.08108195 4.79578488,1.99651493 C4.74786357,1.91194791 4.6477941,1.83583874 4.49557347,1.76818512 C4.34335283,1.70053151 4.13616674,1.63710719 3.87400899,1.57791028 C3.61185123,1.51871337 3.41875943,1.48347764 3.2947278,1.47220203 L3.4215777,0.9140625 L8.82538319,0.9140625 Z" id="I" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;"><path d="M5.414,6.749l-2.511,-2.512c-0.192,-0.191 -0.192,-0.502 0,-0.694c0.192,-0.192 0.503,-0.192 0.694,0l2.797,2.797c0.695,-0.251 1.407,-0.428 2.127,-0.53c0.366,-0.051 0.734,-0.081 1.103,-0.095c0.137,-0.003 0.275,-0.005 0.412,-0.004c0.371,0.006 0.742,0.029 1.112,0.074c1.109,0.134 2.204,0.449 3.243,0.936c0.743,0.347 1.464,0.782 2.12,1.331c0.276,0.231 0.542,0.484 0.784,0.766c0.18,0.211 0.349,0.439 0.488,0.692c0.169,0.307 0.301,0.664 0.301,1.039c0,0.375 -0.132,0.732 -0.301,1.039c-0.139,0.252 -0.308,0.481 -0.488,0.691c-0.242,0.283 -0.508,0.535 -0.784,0.767c-0.647,0.542 -1.359,0.973 -2.092,1.318l2.196,2.197c0.192,0.191 0.192,0.503 0,0.694c-0.191,0.192 -0.503,0.192 -0.694,0l-2.485,-2.484l-0.008,0.003l-0.931,-0.931l0.009,-0.003l-6.215,-6.215c-0.321,0.131 -0.636,0.278 -0.945,0.444l6.239,6.24l-0.006,0.005l0.78,0.78c-0.388,0.094 -0.78,0.166 -1.174,0.215l-1.11,-1.11l0.011,0l-5.603,-5.603c-0.229,0.157 -0.452,0.328 -0.665,0.514c-0.038,0.032 -0.075,0.065 -0.112,0.098l4.897,4.897l-0.005,0.006l1.276,1.276c-0.494,-0.003 -0.987,-0.042 -1.477,-0.117l-0.479,-0.479l-0.009,0.009l-4.863,-4.863c-0.007,0.01 -0.015,0.021 -0.022,0.031c-0.044,0.065 -0.086,0.131 -0.124,0.2c-0.026,0.047 -0.05,0.095 -0.071,0.145c-0.014,0.031 -0.026,0.063 -0.037,0.096c-0.013,0.042 -0.026,0.087 -0.028,0.133c-0.001,0.024 0.003,0.049 0.008,0.072c0.009,0.041 0.022,0.082 0.036,0.12c0.014,0.036 0.029,0.072 0.046,0.106c0.031,0.065 0.066,0.126 0.103,0.186c0.041,0.067 0.085,0.131 0.131,0.193l3.463,3.594c-0.281,-0.097 -0.56,-0.206 -0.835,-0.326c-0.44,-0.193 -0.872,-0.417 -1.29,-0.674c-0.35,-0.215 -0.69,-0.454 -1.015,-0.721c-0.281,-0.23 -0.551,-0.482 -0.798,-0.764c-0.184,-0.21 -0.357,-0.438 -0.502,-0.69c-0.184,-0.319 -0.329,-0.693 -0.329,-1.089c0,-0.375 0.131,-0.732 0.301,-1.039c0.139,-0.253 0.307,-0.481 0.488,-0.692c0.225,-0.263 0.471,-0.5 0.728,-0.719c0.647,-0.552 1.36,-0.99 2.096,-1.341l0.019,-0.009l0,0Zm6.674,0.401c1.069,0.849 1.755,2.16 1.755,3.63c0,0.833 -0.224,1.648 -0.647,2.362l0.345,0.344c0.015,-0.006 0.03,-0.012 0.046,-0.018c0.695,-0.285 1.372,-0.649 2,-1.112c0.252,-0.186 0.497,-0.388 0.727,-0.613c0.137,-0.134 0.27,-0.277 0.392,-0.431c0.072,-0.091 0.141,-0.185 0.203,-0.286c0.037,-0.06 0.072,-0.121 0.103,-0.186c0.016,-0.034 0.032,-0.07 0.045,-0.106c0.015,-0.039 0.028,-0.079 0.036,-0.12c0.005,-0.023 0.009,-0.048 0.008,-0.072c-0.002,-0.046 -0.014,-0.091 -0.028,-0.133c-0.01,-0.033 -0.023,-0.065 -0.036,-0.096c-0.022,-0.05 -0.046,-0.098 -0.071,-0.145c-0.039,-0.069 -0.081,-0.135 -0.125,-0.2c-0.081,-0.118 -0.17,-0.229 -0.263,-0.335c-0.166,-0.19 -0.345,-0.362 -0.53,-0.523c-0.333,-0.29 -0.689,-0.543 -1.054,-0.768c-0.601,-0.369 -1.232,-0.664 -1.879,-0.891c-0.338,-0.119 -0.681,-0.219 -1.027,-0.301Zm-2.85,0.21c-0.023,0 -0.046,0.001 -0.069,0.002c-0.092,0.01 -0.18,0.041 -0.254,0.097c-0.163,0.123 -0.234,0.34 -0.175,0.535c0.016,0.051 0.04,0.1 0.071,0.144c0.036,0.05 0.082,0.093 0.133,0.126c0.059,0.038 0.124,0.061 0.193,0.073c0.023,0.003 0.022,0.003 0.045,0.005c0.091,0.003 0.181,0.003 0.272,0.012c0.158,0.016 0.315,0.048 0.467,0.094c0.496,0.151 0.937,0.462 1.246,0.878c0.124,0.167 0.224,0.349 0.304,0.541c0.024,0.061 0.043,0.125 0.069,0.185c0.038,0.077 0.089,0.144 0.159,0.194c0.085,0.062 0.188,0.093 0.291,0.093l0.008,0c0.077,-0.002 0.154,-0.021 0.224,-0.059c0.047,-0.026 0.09,-0.059 0.126,-0.099c0.042,-0.045 0.075,-0.098 0.097,-0.155c0.022,-0.057 0.034,-0.119 0.033,-0.18c0,-0.077 -0.022,-0.147 -0.048,-0.219c-0.015,-0.043 -0.031,-0.085 -0.048,-0.127c-0.084,-0.209 -0.189,-0.409 -0.312,-0.596c-0.436,-0.664 -1.102,-1.164 -1.862,-1.395c-0.214,-0.066 -0.434,-0.11 -0.657,-0.132c-0.09,-0.009 -0.181,-0.014 -0.272,-0.016c-0.009,0 -0.018,0 -0.028,-0.001l-0.013,0Z" style="fill:#3a3a3a;"/></svg>\n'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path d="M2,16l16,0l0,1l-16,0l0,-1Zm15,-2l-14,0l0,-8l14,0l0,8Zm-1,-7l-12,0l0,6l12,0l0,-6Zm-14,-4l16,0l0,1l-16,0l0,-1Z" style="fill:#343434;"/></svg>\n'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg width="100%" height="100%" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"><path id="_-Curves-" d="M18,16l-16,0l0,-1l16,0l0,1Zm-11.022,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-7l0,7l-9,0l0,-7l9,0Zm-1,6l0,-5l-7,0l0,5l7,0Zm-10.022,-2l-4.978,0l0,-1l4.978,0l0,1Zm0,-3l-4.978,0l0,-1l4.978,0l0,1Zm11.022,-3l-16,0l0,-1l16,0l0,1Z" style="fill:#343434;"/></svg>\n'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>quote</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="quote" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:blockquote" sketch:type="MSLayerGroup" transform="translate(2.000000, 4.000000)">\n                <path d="M6.04296875,0.887157207 L6.04296875,1.76899314 C4.64843053,2.61665363 3.69824472,3.40277858 3.19238281,4.12739158 C2.82324034,4.66059737 2.63867188,5.28949733 2.63867188,6.01411033 C2.63867188,6.45161252 2.7207023,6.77289837 2.88476562,6.97797752 C3.035157,7.18305667 3.2128896,7.28559471 3.41796875,7.28559471 C3.55468818,7.28559471 3.74609252,7.23774362 3.9921875,7.14204002 C4.36132997,7.01899253 4.66210821,6.95746971 4.89453125,6.95746971 C5.44140898,6.95746971 5.92675569,7.16254578 6.35058594,7.57270408 C6.77441618,7.98286238 6.98632812,8.49555257 6.98632812,9.11079002 C6.98632812,9.80805913 6.77441618,10.3480928 6.35058594,10.7309072 C5.76269237,11.2504411 5.07910546,11.5102041 4.29980469,11.5102041 C3.37011254,11.5102041 2.54297237,11.1205595 1.81835938,10.3412588 C1.09374638,9.561958 0.731445312,8.59810045 0.731445312,7.44965721 C0.731445312,5.83636789 1.3330018,4.36665602 2.53613281,3.04047752 C3.34277747,2.16547314 4.51171109,1.44770688 6.04296875,0.887157207 L6.04296875,0.887157207 Z M14.429297,0.887157207 L14.429297,1.76899314 C13.0347587,2.61665363 12.0845729,3.40277858 11.578711,4.12739158 C11.2095686,4.66059737 11.0250001,5.28949733 11.0250001,6.01411033 C11.0250001,6.45161252 11.1070305,6.77289837 11.2710938,6.97797752 C11.4214852,7.18305667 11.5992178,7.28559471 11.804297,7.28559471 C11.9410164,7.28559471 12.1324207,7.23774362 12.3785157,7.14204002 C12.7476582,7.01899253 13.0484364,6.95746971 13.2808595,6.95746971 C13.8277372,6.95746971 14.3130839,7.16254578 14.7369142,7.57270408 C15.1607444,7.98286238 15.3726563,8.49555257 15.3726563,9.11079002 C15.3726563,9.80805913 15.1607444,10.3480928 14.7369142,10.7309072 C14.1490206,11.2504411 13.4654337,11.5102041 12.6861329,11.5102041 C11.7564408,11.5102041 10.9293006,11.1205595 10.2046876,10.3412588 C9.4800746,9.561958 9.11777353,8.59810045 9.11777353,7.44965721 C9.11777353,5.83636789 9.71933002,4.36665602 10.922461,3.04047752 C11.7291057,2.16547314 12.8980393,1.44770688 14.429297,0.887157207 L14.429297,0.887157207 Z" id="\u2018\u2018" sketch:type="MSShapeGroup" transform="translate(8.052051, 6.198681) rotate(-180.000000) translate(-8.052051, -6.198681) "></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>link</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="link" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:link" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28" transform="translate(9.646447, 9.853553) rotate(-315.000000) translate(-9.646447, -9.853553) translate(5.646447, 0.853553)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20810045e-12,2.61822724 -3.20810045e-12,4.82450549 L-3.20810045e-12,7.75542568 C-3.20810045e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M2.63603897,6.90151354 C3.06184352,6.74698845 3.52119959,6.66270951 4,6.66270951 C6.2104719,6.66270951 8,8.44762587 8,10.6587879 L8,13.5897081 C8,15.7959863 6.20646602,17.5857864 4,17.5857864 C1.7895281,17.5857864 -2.32347475e-12,15.8008701 -2.32347475e-12,13.5897081 L-2.32347475e-12,11.6627095 L1,11.6627095 L1,13.5897081 C1,15.2499117 2.34314575,16.5857864 4,16.5857864 C5.65348288,16.5857864 7,15.2443965 7,13.5897081 L7,10.6587879 C7,8.99858429 5.65685425,7.66270951 4,7.66270951 C3.5092458,7.66270951 3.04553235,7.78087311 2.63603897,7.99032058 L2.63603897,6.90151354 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>unlink</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="unlink" sketch:type="MSArtboardGroup" fill="#222222">\n            <g id="icon:unlink" sketch:type="MSLayerGroup">\n                <g id="Rectangle-18-+-Rectangle-18-Copy-+-Path-28-Copy" transform="translate(12.828427, 13.035534) rotate(-315.000000) translate(-12.828427, -13.035534) translate(4.328427, 4.035534)" sketch:type="MSShapeGroup">\n                    <path d="M8,6.55919636 L8,4.82450549 C8,2.61334348 6.2104719,0.828427125 4,0.828427125 C1.79353398,0.828427125 -3.20454774e-12,2.61822724 -3.20454774e-12,4.82450549 L-3.20454774e-12,7.75542568 C-3.20454774e-12,9.96658769 1.7895281,11.751504 4,11.751504 C4.5511606,11.751504 5.07655559,11.6398264 5.55466651,11.437876 L5.12132034,11.437876 L5.12132034,10.5346402 C4.77469964,10.6745028 4.39616036,10.751504 4,10.751504 C2.34314575,10.751504 1,9.41562927 1,7.75542568 L1,4.82450549 C1,3.1698171 2.34651712,1.82842712 4,1.82842712 C5.65685425,1.82842712 7,3.1643019 7,4.82450549 L7,6.55919636 L8,6.55919636 Z" id="Shape"></path>\n                    <path d="M12.1301896,9.691731 L12.1301896,6.07623654 L11.1099103,6.07623654 L11.1099103,9.691731 L7.79324873,9.691731 L7.79324873,10.7120103 L11.1099103,10.7120103 L11.1099103,14.3275047 L12.1301896,14.3275047 L12.1301896,10.7120103 L16.0445169,10.7120103 L16.0445169,9.691731 L12.1301896,9.691731 Z M7.52584209,8.6418508 C6.80172121,7.49371533 5.53005392,6.73384534 4.08111717,6.73384534 C3.59260703,6.73384534 3.12393555,6.82077136 2.68949598,6.98014985 L2.68949598,8.10315471 C3.10729359,7.8871288 3.58041083,7.76525387 4.08111717,7.76525387 C5.2472836,7.76525387 6.26112906,8.4209623 6.77783518,9.38985772 L7.52584209,8.6418508 Z M8.16223435,12.3942945 L8.16223435,13.8784107 C8.16223435,16.1539849 6.33232877,18 4.08111717,18 C1.82581847,18 -8.17124146e-14,16.1590221 -8.17124146e-14,13.8784107 L-8.17124146e-14,11.890888 L1.02027929,11.890888 L1.02027929,13.8784107 C1.02027929,15.5907588 2.39066309,16.9685915 4.08111717,16.9685915 C5.76813152,16.9685915 7.14195505,15.5850704 7.14195505,13.8784107 L7.14195505,11.3740152 L8.16223435,12.3942945 Z" id="Shape"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>bulletedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="bulletedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:bulletedlist" sketch:type="MSLayerGroup" transform="translate(1.000000, 3.000000)">\n                <path d="M5,13 L5,14 L15,14 L15,13 L5,13 L5,13 Z M5,1 L5,2 L17,2 L17,1 L5,1 L5,1 Z M5,7 L5,8 L16,8 L16,7 L5,7 L5,7 Z M0,1.5 C0,0.671572875 0.665797234,0 1.5,0 L1.5,0 C2.32842712,0 3,0.665797234 3,1.5 L3,1.5 C3,2.32842712 2.33420277,3 1.5,3 L1.5,3 C0.671572875,3 0,2.33420277 0,1.5 L0,1.5 Z M0,7.5 C0,6.67157288 0.665797234,6 1.5,6 L1.5,6 C2.32842712,6 3,6.66579723 3,7.5 L3,7.5 C3,8.32842712 2.33420277,9 1.5,9 L1.5,9 C0.671572875,9 0,8.33420277 0,7.5 L0,7.5 Z M0,13.5 C0,12.6715729 0.665797234,12 1.5,12 L1.5,12 C2.32842712,12 3,12.6657972 3,13.5 L3,13.5 C3,14.3284271 2.33420277,15 1.5,15 L1.5,15 C0.671572875,15 0,14.3342028 0,13.5 L0,13.5 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n    <!-- Generator: Sketch 3.5.2 (25235) - http://www.bohemiancoding.com/sketch -->\n    <title>numberedlist</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="numberedlist" sketch:type="MSArtboardGroup" fill="#454545">\n            <g id="icon:numberedlist" sketch:type="MSLayerGroup" transform="translate(2.000000, 2.000000)">\n                <path d="M5,15 L15,15 L15,14 L5,14 L5,15 Z M4,2 L4,3 L17,3 L17,2 L4,2 L4,2 Z M5,8 L5,9 L16,9 L16,8 L5,8 L5,8 Z" id="path4634" sketch:type="MSShapeGroup"></path>\n                <g id="path4712-path-+-path4712-path-+-path4712-path-copy" sketch:type="MSShapeGroup">\n                    <path d="M0,0.5 C0,0.77699 0.223,1 0.5,1 L1,1 L1,4.5 C1,4.77699 1.223,5 1.5,5 C1.777,5 2,4.77699 2,4.5 L2,0.5 C2,0.223 1.777,0 1.5,0 L0.5,0 C0.223,0 0,0.223 0,0.5 Z" id="path4712-path"></path>\n                    <path d="M0.5,6 C0.223,6 0,6.223 0,6.5 C0,6.77699 0.223,7 0.5,7 L2,7 L2,8 L0.5,8 C0.223,8 0,8.223 0,8.5 L0,10.5 C0,10.77699 0.223,11 0.5,11 L2.5,11 C2.777,11 3,10.77699 3,10.5 C3,10.223 2.777,10 2.5,10 L1,10 L1,9 L2.5,9 C2.5693,9 2.62764,8.994 2.6875,8.9688 C2.81468,8.9278 2.9182,8.82667 2.96875,8.68755 C2.99395,8.62765 2.99995,8.5693 2.99995,8.50005 L2.99995,6.50005 C2.99995,6.43075 2.99395,6.3724 2.96875,6.31255 C2.91825,6.17342 2.81468,6.07227 2.6875,6.0313 C2.6471,6.0142 2.6076,6.006 2.5625,6.0001 L2.5,6.0001 L0.5,6.0001 L0.5,6 Z" id="path4712-path"></path>\n                    <path d="M2.85209534,16.8526748 C2.94267961,16.7627344 3,16.6389489 3,16.5023012 L3,12.4976988 C3,12.3570579 2.94465639,12.2332311 2.85505992,12.1442682 C2.76454727,12.057652 2.64101746,12 2.50461102,12 L0.495388985,12 C0.215752602,12 0,12.2238576 0,12.5 C0,12.7680664 0.221793203,13 0.495388985,13 L2,13 L2,14 L0.495388985,14 C0.215752602,14 0,14.2238576 0,14.5 C0,14.7680664 0.221793203,15 0.495388985,15 L2,15 L2,16 L0.495388985,16 C0.215752602,16 0,16.2238576 0,16.5 C0,16.7680664 0.221793203,17 0.495388985,17 L2.50461102,17 C2.6440432,17 2.76759251,16.9443442 2.85643212,16.854302 Z" id="Rectangle-403"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>redo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="redo" fill="#454545">\n            <g id="undo">\n                <path d="M10.00002,15.99998 L11,12.0184937 C7.58334,12.0184937 2.38444,12.88666 1,16 C1,10.01667 7.60112,8.03985596 11,8.03985596 C10.99998,7.18907596 9.99999,4.71945 10,4 L18,10 L10.00002,15.99998 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){o.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 3.8.2 (29753) - http://www.bohemiancoding.com/sketch -->\n    <title>undo</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="Mockups" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="undo" fill="#454545">\n            <g>\n                <path d="M2,10 L9.99998,15.99998 L9,12.0184937 C12.41666,12.0184937 17.61556,12.88666 19,16 C19,10.01667 12.39888,8.03985596 9,8.03985596 C9.00002,7.18907596 10.00001,4.71945 10,4 L2,10 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},function(o){var s=function(){return this}();try{s=s||Function('return this')()||(1,eval)('this')}catch(d){'object'==typeof window&&(s=window)}o.exports=s},function(o,r,s){o.exports=s(273)}]);
//# sourceMappingURL=app.js.map