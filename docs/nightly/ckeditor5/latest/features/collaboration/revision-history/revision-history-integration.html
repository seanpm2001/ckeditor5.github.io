<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Integration - CKEditor 5 Documentation</title>
    <meta name="description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:card" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:site" content="@ckeditor">
    <meta name="x-generated-at" content="Thu Feb 09 2023 03:58:37 GMT+0000 (Coordinated Universal Time)">
    <meta property="og:title" content="Integration - CKEditor 5 Documentation">
    <meta property="og:description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/revision-history/revision-history-integration.html">
    <meta property="DC.language" content="en">
    <meta property="DC.publisher" content="CKSource">
    <meta property="DC.creator" content="CKEditor">
    <meta property="DC.title" content="Integration - CKEditor 5 Documentation">
    <meta property="DC.format" content="text/html">
    <meta property="DC.type" content="Text">
    <meta property="DC.description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <link rel="canonical" href="https://ckeditor.com/docs/ckeditor5/latest/features/collaboration/revision-history/revision-history-integration.html">
    <link rel="icon" type="image/png" href="../../../assets/img/favicons/16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="../../../assets/img/favicons/32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../../assets/img/favicons/96x96.png" sizes="96x96">
    <link rel="apple-touch-icon" type="image/png" href="../../../assets/img/favicons/200x200.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
    <link rel="stylesheet" href="../../../../../assets/2.3.1/css/styles.css" type="text/css" media="all">
    <link rel="stylesheet" href="../../../assets/styles.css" type="text/css">
    <link rel="stylesheet" href="../../../snippets/features/revision-history-build/snippet.css" type="text/css" data-cke="true">
    <link rel="stylesheet" href="../../../assets/snippet-styles.css" type="text/css" data-cke="true">
    <link rel="stylesheet" href="../../../snippets/assets.css" type="text/css" data-cke="true">
    <script>if ( ["ckeditor5.github.io"].indexOf( location.hostname ) !== -1 ) {
      	function pageView() {
      		ga( 'send', 'pageview', location.pathname + location.search + location.hash );
      	}
      
      	(function( i, s, o, g, r, a, m ) {
      		i[ 'GoogleAnalyticsObject' ] = r;
      		i[ r ] = i[ r ] || function() {
      				(i[ r ].q = i[ r ].q || []).push( arguments )
      			}, i[ r ].l = 1 * new Date();
      		a = s.createElement( o ),
      			m = s.getElementsByTagName( o )[ 0 ];
      		a.async = 1;
      		a.src = g;
      		m.parentNode.insertBefore( a, m )
      	})( window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga' );
      
      	ga( 'create', {"trackingId":"UA-271067-19","cookieDomain":"ckeditor5.github.io"} );
      
      	pageView();
      
      	window.addEventListener( 'hashchange', pageView );
      }
    </script>
  <meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    <header class="top" data-project="ckeditor5">
      <div class="header__main">
        <div class="header__main-rwd-button"><a href="#"><span></span><span></span><span></span></a></div>
        <div class="header__main-title"><a class="header__main-title-home" href="../../../../../index.html">CKEditor Ecosystem Documentation</a></div>
        <div class="top__search">
          <input class="top__search__box" type="text" id="docsearch_input" placeholder="Search in CKEditor 5">
          <div class="top__search__button"><img src="../../../../../assets/2.3.1/img/loupe.svg" alt="Search"></div>
        </div>
      </div>
      <div class="header__sub">
        <ul class="top__menu">
          <li class="top__menu-project-logo"><a href="../../../index.html">CKEditor 5</a></li>
          <li><a href="../../../installation/index.html">Getting started</a></li>
          <li><a class="top__menu__item--active" href="../../index.html">Features</a></li>
          <li><a href="../../../examples/index.html">Examples</a></li>
          <li><a href="../../../updating/index.html">Updating</a></li>
          <li><a href="../../../support/index.html">Support</a></li>
          <li><a href="../../../framework/index.html">Framework</a></li>
          <li><a class="top__menu__api" href="../../../api/index.html">API</a></li>
          <li><a class="top__menu-github-link" href="https://github.com/ckeditor/ckeditor5" target="_blank" title="CKEditor 5 on GitHub."><svg viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></li>
        </ul>
      </div>
      <div class="header__menu-rwd">
        <ul class="header__menu-rwd__projects">
          <li data-project="ckeditor5"><a href="../../../../latest/index.html">CKEditor 5</a>
            <ul class="tree header__menu-rwd__projects-pages">
              <li data-group="installation"><a href="../../../installation/index.html">Getting started</a>
              </li>
              <li data-group="features"><a href="../../index.html">Features</a>
                <ul class="header__menu-rwd__projects-subpages">
                          <li><a href="../../index.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">CKEditor 5 features overview</span>
                              </div></a></li>
                          <li><a href="../../autoformat.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Autoformatting</span>
                              </div></a></li>
                          <li><a href="../../text-transformation.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Automatic text transformation</span>
                              </div></a></li>
                          <li><a href="../../basic-styles.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Basic text styles</span>
                              </div></a></li>
                          <li><a href="../../indent.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block indentation</span>
                              </div></a></li>
                          <li><a href="../../block-quote.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block quote</span>
                              </div></a></li>
                          <li><a href="../../code-blocks.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code blocks</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Collaboration</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                            </div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../collaboration.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Comments</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../comments/comments.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../comments/comments-integration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                              </div></a></li>
                                          <li><a href="../comments/comments-only-mode.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Comments-only mode</span>
                                              </div></a></li>
                                          <li><a href="../comments/comments-outside-editor.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Comments outside the editor</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Track changes</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../track-changes/track-changes.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../track-changes/track-changes-integration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                              </div></a></li>
                                          <li><a href="../track-changes/track-changes-custom-features.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom features</span>
                                              </div></a></li>
                                          <li><a href="../track-changes/track-changes-data.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Saving data without suggestions</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Real-time collaboration</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../real-time-collaboration/real-time-collaboration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../real-time-collaboration/real-time-collaboration-integration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                              </div></a></li>
                                          <li><a href="../real-time-collaboration/users-in-real-time-collaboration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Users in real-time collaboration</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Revision history</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="revision-history.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="">
                                              <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Integration</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li><a href="../users.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Users</span>
                                      </div></a></li>
                                  <li><a href="../context-and-collaboration-features.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Context and collaboration features</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Annotations</span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../annotations/annotations.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../annotations/annotations-display-mode.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Display mode</span>
                                              </div></a></li>
                                          <li><a href="../annotations/annotations-custom-configuration.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Configuration</span>
                                              </div></a></li>
                                          <li><a href="../annotations/annotations-custom-theme.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom theme</span>
                                              </div></a></li>
                                          <li><a href="../annotations/annotations-custom-template.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom template</span>
                                              </div></a></li>
                                          <li><a href="../annotations/annotations-custom-view.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom view</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                            </ul>
                          </li>
                          <li><a href="../../minimap.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Content minimap</span>
                              </div></a></li>
                          <li><a href="../../title.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document title</span>
                              </div></a></li>
                          <li><a href="../../editor-placeholder.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor placeholder</span>
                              </div></a></li>
                          <li><a href="../../export-pdf.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Export to PDF</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                              </div></a></li>
                          <li><a href="../../export-word.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Export to Word</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                              </div></a></li>
                          <li><a href="../../find-and-replace.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Find and replace</span>
                              </div></a></li>
                          <li><a href="../../font.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Font</span>
                              </div></a></li>
                          <li><a href="../../general-html-support.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">General HTML Support</span>
                              </div></a></li>
                          <li><a href="../../headings.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Headings</span>
                              </div></a></li>
                          <li><a href="../../highlight.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Highlight</span>
                              </div></a></li>
                          <li><a href="../../horizontal-line.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Horizontal line</span>
                              </div></a></li>
                          <li><a href="../../html-embed.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">HTML embed</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Images</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../../images/images-overview.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                      </div></a></li>
                                  <li><a href="../../images/images-installation.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Installation</span>
                                      </div></a></li>
                                  <li><a href="../../images/images-text-alternative.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text alternative</span>
                                      </div></a></li>
                                  <li><a href="../../images/images-captions.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Image captions</span>
                                      </div></a></li>
                                  <li><a href="../../images/images-resizing.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Resizing images</span>
                                      </div></a></li>
                                  <li><a href="../../images/images-styles.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Image styles</span>
                                      </div></a></li>
                                  <li><a href="../../images/images-linking.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Linking images</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Image upload</span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../../images/image-upload/image-upload.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                              </div></a></li>
                                          <li><a href="../../images/image-upload/ckbox.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">CKBox file manager</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                              </div></a></li>
                                          <li><a href="../../images/image-upload/easy-image.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Easy Image</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                              </div></a></li>
                                          <li><a href="../../images/image-upload/ckfinder.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">CKFinder file manager</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                              </div></a></li>
                                          <li><a href="../../images/image-upload/base64-upload-adapter.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Base64 upload adapter</span>
                                              </div></a></li>
                                          <li><a href="../../images/image-upload/simple-upload-adapter.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Simple upload adapter</span>
                                              </div></a></li>
                                          <li><a href="../../images/image-upload/images-inserting.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Inserting images via URL</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Import from Word</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                            </div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../../import-word/import-word.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Import from Word</span>
                                      </div></a></li>
                                  <li><a href="../../import-word/features-comparison.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Features comparison</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../../keyboard-support.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Keyboard support</span>
                              </div></a></li>
                          <li><a href="../../link.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Link</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Lists</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../../lists/lists.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Ordered and unordered lists</span>
                                      </div></a></li>
                                  <li><a href="../../lists/todo-lists.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">To-do lists</span>
                                      </div></a></li>
                                  <li><a href="../../lists/document-lists.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document lists</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../../markdown.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Markdown output</span>
                              </div></a></li>
                          <li><a href="../../math-equations.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Math and chemical formulas</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                              </div></a></li>
                          <li><a href="../../media-embed.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Media embed</span>
                              </div></a></li>
                          <li><a href="../../mentions.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Mentions</span>
                              </div></a></li>
                          <li><a href="../../page-break.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Page break</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Pagination</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                            </div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../../pagination/pagination.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                      </div></a></li>
                                  <li><a href="../../pagination/pagination-integration.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration with Export to PDF/Word</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Pasting</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../../pasting/paste-from-word.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste from Word</span>
                                      </div></a></li>
                                  <li><a href="../../pasting/paste-from-google-docs.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste from Google Docs</span>
                                      </div></a></li>
                                  <li><a href="../../pasting/paste-plain-text.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste plain text</span>
                                      </div></a></li>
                                  <li><a href="../../pasting/drag-drop.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Drag and drop</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../../read-only.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Read-only support</span>
                              </div></a></li>
                          <li><a href="../../remove-format.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Remove formatting</span>
                              </div></a></li>
                          <li><a href="../../restricted-editing.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Restricted editing</span>
                              </div></a></li>
                          <li><a href="../../select-all.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Select all</span>
                              </div></a></li>
                          <li><a href="../../source-editing.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Source editing</span>
                              </div></a></li>
                          <li><a href="../../special-characters.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Special characters</span>
                              </div></a></li>
                          <li><a href="../../spelling-and-grammar-checking.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Spell and grammar checker</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                              </div></a></li>
                          <li><a href="../../style.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Styles</span>
                              </div></a></li>
                          <li><a href="../../table.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Tables</span>
                              </div></a></li>
                          <li><a href="../../text-alignment.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text alignment</span>
                              </div></a></li>
                          <li><a href="../../language.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text part language</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Toolbar</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../../toolbar/toolbar.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor toolbar</span>
                                      </div></a></li>
                                  <li><a href="../../toolbar/blocktoolbar.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block toolbar</span>
                                      </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../../ui-language.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI language</span>
                              </div></a></li>
                          <li><a href="../../undo-redo.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Undo/Redo</span>
                              </div></a></li>
                          <li><a href="../../watchdog.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Watchdog</span>
                              </div></a></li>
                          <li><a href="../../word-count.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Word and character count</span>
                              </div></a></li>
                </ul>
              </li>
              <li data-group="examples"><a href="../../../examples/index.html">Examples</a>
              </li>
              <li data-group="updating"><a href="../../../updating/index.html">Updating</a>
              </li>
              <li data-group="support"><a href="../../../support/index.html">Support</a>
              </li>
              <li data-group="framework"><a href="../../../framework/index.html">Framework</a>
              </li>
              <li data-group="api-reference"><a href="../../../api/index.html">API</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </header>
    <main class="main">
      <section class="main__content formatted">
        <div class="main__content-inner">
          <div class="github-contrib"><a href="https://github.com/ckeditor/ckeditor5/issues/new" title="Report an issue"><img src="../../../../../assets/2.3.1/img/exclamation-circle.svg" alt="Report an issue"></a>
          </div>
          <div class="rwd-breadcrumbs"><a href="../../../../../index.html">Home</a><span class="rwd-breadcrumbs__separator">/</span><a href="../../../index.html">CKEditor 5</a><span class="rwd-breadcrumbs__separator">/</span><a href="../../index.html">Features</a>
          </div>
          <h1 class="main__content-title"><img src="../../../../../assets/2.3.1/img/book.svg" alt="guide">Integrating revision history with your application
          </h1><nav class="secondary-navigation"><h3>Table of contents</h3><ol><li><a href="#before-you-start">Before you start</a><ol><li><a href="#prepare-a-custom-build">Prepare a custom build</a></li><li><a href="#core-setup">Core setup</a></li></ol></li><li><a href="#a-simple-load-and-save-integration">A simple “load and save” integration</a><ol><li><a href="#loading-the-data">Loading the data</a></li><li><a href="#saving-the-data">Saving the data</a></li><li><a href="#full-implementation">Full implementation</a></li><li><a href="#demo">Demo</a></li></ol></li><li><a href="#adapter-integration">Adapter integration</a><ol><li><a href="#saving-document-data-and-revisions-data">Saving document data and revisions data</a></li><li><a href="#implementation">Implementation</a></li><li><a href="#full-implementation-2">Full implementation</a></li><li><a href="#demo-2">Demo</a></li></ol></li><li><a href="#learn-more">Learn more</a><ol><li><a href="#pending-actions">Pending actions</a></li><li><a href="#editor-initial-data-and-revision-data">Editor initial data and revision data</a></li><li><a href="#autosave-integration">Autosave integration</a><ol><li><a href="#autosave-and-load-save-integration">Autosave and “load &amp; save” integration</a></li><li><a href="#autosave-and-adapter-integration">Autosave and adapter integration</a></li><li><a href="#advanced-autosave-strategies">Advanced autosave strategies</a></li></ol></li><li><a href="#how-revisions-are-updated-and-saved">How revisions are updated and saved</a><ol><li><a href="#save-or-update-revision-using-the-feature-api">Save or update revision using the feature API</a></li></ol></li></ol></li></ol></nav>

<div class="info-box notice"><p>This guide describes integrating the revision history feature as a standalone plugin.</p><p>If you are using the real-time collaboration feature, refer to the <a href="../real-time-collaboration/real-time-collaboration-integration.html">Real-time collaboration features integration</a> guide.</p></div>
<p>The revision history plugin provides an API for creating and managing named revisions of the document. To save and load the revisions from your database you need to provide a proper integration.</p>
<p>This guide will discuss two ways to integrate CKEditor 5 with revision history plugin:</p>
<ul>
<li><a href="#a-simple-load-and-save-integration">A simple “load and save” integration</a> using the <code>RevisionHistory</code> plugin API.</li>
<li><a href="#adapter-integration">An adapter integration</a> which saves the revision data immediately in the database.</li>
</ul>
<p>The adapter integration is the recommended one for two reasons:</p>
<ul>
<li>it gives you a better control over the data,</li>
<li>it is more efficient and provides a better user experience, as the revisions’ data is loaded on demand rather than upfront before the editor is initialized.</li>
</ul>
<h2 id="before-you-start"><a class="headerlink" href="#before-you-start">#</a> Before you start</h2>
<div class="info-box notice"><p>This is an additionally payable feature. <a href="https://ckeditor.com/contact/?sales=true#contact-form">Contact us</a> to receive an offer tailored to your needs. If you already have a valid license, please log into your <a href="https://dashboard.ckeditor.com/">user dashboard</a> to access the feature settings.</p><p>You can also sign up for the <a href="https://orders.ckeditor.com/trial/premium-features">CKEditor Premium Features 30-day free trial</a> to test the feature.</p><p>If you have more than one license for CKEditor premium features (Comments, Track changes, Revision history, or Pagination), you may use any key of those in your CKEditor configuration to activate all of the features.</p><p>Since the introduction of single key for all premium features (Comments, Track changes, Revision history, or Pagination), the one key can be used to activate any and all of the features.</p></div>
<p>Before you start creating an integration, there are a few concepts you should be familiar with. This guide will explain how to create a custom build with the revision history plugin, what data structure do the revisions use and what the plugin API looks like.</p>
<p>Make sure that you understand all of these concepts before you proceed with the integration.</p>
<h3 id="prepare-a-custom-build"><a class="headerlink" href="#prepare-a-custom-build">#</a> Prepare a custom build</h3>
<p>The revision history plugin is not included by default in any CKEditor 5 build. To enable it, you need to <a href="../../../installation/plugins/installing-plugins.html#adding-a-plugin-to-a-build">create a custom CKEditor 5 build</a> that includes the revision history plugin.</p>
<div class="info-box notice"><p>You can also easily create your own CKEditor 5 build with the revision history feature included using the <a href="https://ckeditor.com/ckeditor-5/online-builder/">CKEditor5 online builder</a>.</p></div>
<pre class="highlight"><code class="bash">git clone -b stable https://github.com/ckeditor/ckeditor5
cd ckeditor5/packages/ckeditor5-build-classic

npm install
</code></pre>
<p>You need to install the <a href="https://www.npmjs.com/package/@ckeditor/ckeditor5-revision-history"><code>@ckeditor5/ckeditor5-revision-history</code></a> package using <code>npm</code>:</p>
<pre class="highlight"><code class="bash">npm install --save-dev @ckeditor/ckeditor5-revision-history
</code></pre>
<p>To make the revision history work, you need to import revision history plugin and add it to the list of <code>plugins</code>.</p>
<p>An updated <code>src/ckeditor.js</code> should look like this:</p>
<pre class="highlight"><code class="js">import ClassicEditorBase from '@ckeditor/ckeditor5-editor-classic/src/classiceditor';

import Essentials from '@ckeditor/ckeditor5-essentials/src/essentials';
import Paragraph from '@ckeditor/ckeditor5-paragraph/src/paragraph';
import Bold from '@ckeditor/ckeditor5-basic-styles/src/bold';
import Italic from '@ckeditor/ckeditor5-basic-styles/src/italic';
import Image from '@ckeditor/ckeditor5-image/src/image';
import Table from '@ckeditor/ckeditor5-table/src/table';
import Autoformat from '@ckeditor/ckeditor5-autoformat/src/autoformat';

import RevisionHistory from '@ckeditor/ckeditor5-revision-history/src/revisionhistory';

export default class ClassicEditor extends ClassicEditorBase {}

// Plugins to include in the build.
ClassicEditor.builtinPlugins = [ Essentials, Paragraph, Bold, Italic, Image, Table, RevisionHistory ];

// The editor configuration.
ClassicEditor.defaultConfig = {
    language: 'en',

    // Provide the configuration for the comments feature.
    comments: {
        editorConfig: {
            // The list of plugins that will be included in the comments editors.
            extraPlugins: [ Bold, Italic, Autoformat ]
        }
    }
};
</code></pre>
<p>Note that your custom build needs to be bundled using a webpack.</p>
<pre class="highlight"><code class="bash">npm run build
</code></pre>
<div class="info-box notice notice__info"><p>Read more about this topic in the <a href="../../../installation/plugins/installing-plugins.html">installing plugins</a> guide.</p></div>
<h3 id="core-setup"><a class="headerlink" href="#core-setup">#</a> Core setup</h3>
<div class="info-box notice notice__info"><p>The examples below implement the <a href="../annotations/annotations-display-mode.html#wide-sidebar">wide sidebar display mode</a> to display comments and suggestions.</p></div>
<p>When you have the revision history package included in your custom build, prepare an HTML structure for the editor sidebar and revision history. After that you can enable the revision history plugin.</p>
<p>To browse through the saved revisions, the feature uses an additional editor instance on top of the original editor instance. To enable that, you will need to provide an HTML structure for both the original editor and the revision history editor. The HTML elements for the revision history editor structure should be hidden by default.</p>
<p>To set up the feature, you need to:</p>
<ul>
<li>Add the HTML layout for the document editor and the revision history editor.</li>
<li>Add the <code>sidebar</code> and <code>revisionHistory</code> configurations.</li>
<li>Add the <code>revisionHistory</code> dropdown to the <code>toolbar</code>.</li>
<li>Add your <code>licenseKey</code>. If you do not have a key yet, please <a href="https://ckeditor.com/contact/">contact us</a>.</li>
</ul>
<p>Edit the <code>sample/index.html</code> file as follows:</p>
<pre class="highlight"><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;CKEditor 5 with revision history&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .editor-container {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        position: relative;
        width: 1260px;
    }

    .ck.ck-editor {
        max-width: 800px;
    }

    #revision-viewer-container {
        display: none;
    }

    .editor-container &gt; .ck-editor {
        position: relative;
        width: 950px;
    }

    .editor-container .ck-editor__top .ck-toolbar {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .editor-container .ck-editor__editable_inline {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .sidebar-container {
        position: relative;
        width: 600px;
        overflow: hidden;
        background: var(--ck-color-toolbar-background);
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div class="editors-holder"&gt;
    &lt;!-- The original editor !--&gt;
    &lt;div id="editor-container"&gt;
        &lt;div class="editor-container"&gt;
            &lt;div id="editor"&gt;&lt;/div&gt;
            &lt;div class="sidebar-container" id="sidebar-container"&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Structure for the revision viewer editor !--&gt;
    &lt;div id="revision-viewer-container"&gt;
        &lt;div class="editor-container"&gt;
            &lt;div id="revision-viewer-editor"&gt;&lt;/div&gt;
            &lt;div class="sidebar-container" id="revision-viewer-sidebar"&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;script src="../build/ckeditor.js"&gt;&lt;/script&gt;
&lt;script&gt;
    ClassicEditor.create( document.querySelector( '#editor' ), {
        licenseKey: 'your-license-key',
        sidebar: {
            container: document.querySelector( '#sidebar-container' )
        },
        revisionHistory: {
            editorContainer: document.querySelector( '#editor-container' ),
            viewerContainer: document.querySelector( '#revision-viewer-container' ),
            viewerEditorElement: document.querySelector( '#revision-viewer-editor' ),
            viewerSidebarContainer: document.querySelector( '#revision-viewer-sidebar' )
        },
        toolbar: {
            items: [ 'bold', 'italic', '|', 'revisionHistory' ]
        }
    } )
    .catch( error =&gt; console.error( error ) );
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>When you open the sample in the browser, you should see the WYSIWYG editor with the revision history plugin. However, it still does not load or save any revision data and the user is not defined. You will learn how to add those later in this guide.</p>
<h2 id="a-simple-load-and-save-integration"><a class="headerlink" href="#a-simple-load-and-save-integration">#</a> A simple “load and save” integration</h2>
<p>In this solution, users and revisions data are loaded during the editor initialization and revisions data is saved after you finish working with the editor (for example when you submit the form containing the WYSIWYG editor).</p>
<div class="info-box notice"><p>The integration below uses the revision history API. Making yourself familiar with the API may help you understand the code snippets. In case of any problems, refer to the <a href="../../../api/revision-history.html">revision history API documentation</a>.</p></div>
<h3 id="loading-the-data"><a class="headerlink" href="#loading-the-data">#</a> Loading the data</h3>
<p>After you include the revision history plugin in the editor, you need to create your own additional plugin that will initialize users and existing revisions.</p>
<p>It is important to load the revisions data during the plugins initialization step, i.e. using the <code>init()</code> method of the integration plugin that you will provide (as in the example below).</p>
<p>First, dump the users and the revisions data into a variable that will be available for your plugin.</p>
<div class="info-box notice"><p>Note, that the revisions data may be very heavy for large documents, which will have an impact on your application loading time. Since the adapter integration loads the revisions data on demand, it is the recommended integration type for applications handling bigger documents with many revisions.</p></div>
<div class="info-box notice"><p>If your application needs to request the revisions data from the server asynchronously, you can create a plugin that will fetch the data from the database instead of putting the data in the HTML source. In such a case, your plugin should <a href="../../../api/module_core_plugin-PluginInterface.html#function-init">return a <code>Promise</code> from the <code>Plugin.init</code> method</a> to make sure that the editor initialization waits for your data.</p><p>You can also refer to an example shown in the <a href="#adapter-integration">adapter integration</a> section.</p></div>
<pre class="highlight"><code class="js">// Application data will be available under a global variable `appData`.
const appData = {
    // Initial editor data
    data: `&lt;figure class="image"&gt;
        &lt;img src="https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"&gt;
    &lt;/figure&gt;
    &lt;h1&gt;PUBLISHING AGREEMENT&lt;/h1&gt;
    &lt;h3&gt;Introduction&lt;/h3&gt;
    &lt;p&gt;This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”.&lt;/p&gt;
    &lt;h3&gt;Grant of Rights&lt;/h3&gt;
    &lt;p&gt;The Author grants the Publisher full right and title to the following, in perpetuity:&lt;/p&gt;
    &lt;ul&gt;
        &lt;li&gt;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&lt;/li&gt;
        &lt;li&gt;To create or devise modified, abridged, or derivative works based on the works listed.&lt;/li&gt;
        &lt;li&gt;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&lt;/li&gt;
    &lt;/ul&gt;
    &lt;p&gt;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&lt;/p&gt;
    &lt;p&gt;Any rights not granted to the Publisher above remain with the Author.&lt;/p&gt;
    &lt;p&gt;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&lt;/p&gt;`,

    // User data.
    user: {
        id: 'u1',
        name: 'Joe Doe',
        // Note that the avatar is optional.
        avatar: 'https://randomuser.me/api/portraits/thumb/men/26.jpg'
    },

    // Initial revisions data
    revisions: [
        {
            "id": "initial",
            "name": "Initial revision",
            "creatorId": "u1",
            "authorsIds": [ "u1" ],
            "diffData": {
                "main": {
                    "insertions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ………… by and between The Lower Shelf, the “Publisher”, and …………, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A."]}]',
                    "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ………… by and between The Lower Shelf, the “Publisher”, and …………, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A."]}]'
                }
            },
            "createdAt": "2021-05-27T13:22:59.077Z",
            "attributes": {},
            "fromVersion": 1,
            "toVersion": 1
        },
        {
            "id": "e6f80e6be6ee6057fd5a449ab13fba25d",
            "name": "Updated with the actual data",
            "creatorId": "u1",
            "authorsIds": [ "u1" ],
            "diffData": {
                "main": {
                    "insertions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ",{"name":"revision-start","attributes":[["name","insertion:u1:0"]],"children":[]},"1st",{"name":"revision-end","attributes":[["name","insertion:u1:0"]],"children":[]}," ",{"name":"revision-start","attributes":[["name","insertion:u1:1"]],"children":[]},"June 2020 ",{"name":"revision-end","attributes":[["name","insertion:u1:1"]],"children":[]},"by and between The Lower Shelf, the “Publisher”, and ",{"name":"revision-start","attributes":[["name","insertion:u1:2"]],"children":[]},"John Smith",{"name":"revision-end","attributes":[["name","insertion:u1:2"]],"children":[]},", the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                    "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ",{"name":"revision-start","attributes":[["name","deletion:u1:0"]],"children":[]},"…………",{"name":"revision-end","attributes":[["name","deletion:u1:0"]],"children":[]}," by and between The Lower Shelf, the “Publisher”, and ",{"name":"revision-start","attributes":[["name","deletion:u1:1"]],"children":[]},"…………",{"name":"revision-end","attributes":[["name","deletion:u1:1"]],"children":[]},", the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him",{"name":"revision-start","attributes":[["name","deletion:u1:2"]],"children":[]},"/herself",{"name":"revision-end","attributes":[["name","deletion:u1:2"]],"children":[]}," and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.",{"name":"revision-start","attributes":[["name","deletion:u1:3"]],"children":[]}]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A.",{"name":"revision-end","attributes":[["name","deletion:u1:3"]],"children":[]}]}]'
                }
            },
            "createdAt": "2021-05-27T13:23:52.553Z",
            "attributes": {},
            "fromVersion": 1,
            "toVersion": 20
        },
        {
            "id": "e6590c50ccbc86acacb7d27231ad32064",
            "name": "Inserted logo",
            "creatorId": "u1",
            "authorsIds": [ "u1" ],
            "diffData": {
                "main": {
                    "insertions": '[{"name":"figure","attributes":[["data-revision-start-before","insertion:u1:0"],["class","image"]],"children":[{"name":"img","attributes":[["src","https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"]],"children":[]}]},{"name":"h1","attributes":[],"children":[{"name":"revision-end","attributes":[["name","insertion:u1:0"]],"children":[]},"PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                    "deletions": '[{"name":"h1","attributes":[["data-revision-start-before","deletion:u1:0"]],"children":[{"name":"revision-end","attributes":[["name","deletion:u1:0"]],"children":[]},"PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]'
                }
            },
            "createdAt": "2021-05-27T13:26:39.252Z",
            "attributes": {},
            "fromVersion": 20,
            "toVersion": 24
        },
        // Empty current revision:
        {
            "id": "egh91t5jccbi894cacxx7dz7t36aj3k021",
            "name": null,
            "creatorId": null,
            "authorsIds": [],
            "diffData": {
                "main": {
                    "insertions": '[{"name":"figure","attributes":[["class","image"]],"children":[{"name":"img","attributes":[["src","https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"]],"children":[]}]},{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                    "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]'
                }
            },
            "createdAt": "2021-05-27T13:26:39.252Z",
            "attributes": {},
            "fromVersion": 24,
            "toVersion": 24
        }
    ]
};
</code></pre>
<p>Then, prepare a plugin that will read the data from <code>appData</code> and use the <code>Users</code> and <code>RevisionsRepository</code> API.</p>
<pre class="highlight"><code class="js">class RevisionHistoryIntegration {
    constructor( editor ) {
        this.editor = editor;
    }

    static get pluginName() {
        return 'RevisionHistoryIntegration';
    }

    static get requires() {
        return [ 'RevisionHistory' ];
    }

    init() {
        const revisionHistory = this.editor.plugins.get( 'RevisionHistory' );

        for ( const revisionData of appData.revisions ) {
            revisionHistory.addRevisionData( revisionData );
        }
    }
}

// Initialize users here
class UsersInit {
    constructor( editor ) {
        this.editor = editor;
    }

    static get pluginName() {
        return 'UsersInit';
    }

    static get requires() {
        return [ 'Users' ];
    }

    init() {
        const users = this.editor.plugins.get( 'Users' );

        users.addUser( appData.user );
        users.defineMe( appData.user.id );
    }
}

// In order to load comments and track changes,
// you should also create the comments and track changes integrations.
</code></pre>
<h3 id="saving-the-data"><a class="headerlink" href="#saving-the-data">#</a> Saving the data</h3>
<div class="info-box notice"><p>Document data and revisions data have to be kept in sync for the feature to work correctly.</p><p>It is important that you always save revisions data and document data together.</p></div>
<p>To save the revisions data you need to get it from the <code>RevisionsRepository</code> plugin first. To do this, use the <code>getRevisions()</code> method.</p>
<p>Then, use the data to save it in your database in a selected way. See the example below (remember to update your HTML structure to contain a button with <code>get-data</code> id, e.g. <code>&lt;button id="get-data"&gt;Get editor data&lt;/button&gt;</code>).</p>
<pre class="highlight"><code class="js">ClassicEditor
    .create( document.querySelector( '#editor' ), {
        initialData: appData.data,
        extraPlugins: [ UsersInit, RevisionHistoryIntegration ],
        licenseKey: 'your-license-key',
        sidebar: {
            container: document.querySelector( '#sidebar-container' )
        },
        revisionHistory: {
            editorContainer: document.querySelector( '#editor-container' ),
            viewerContainer: document.querySelector( '#revision-viewer-container' ),
            viewerEditorElement: document.querySelector( '#revision-viewer-editor' ),
            viewerSidebarContainer: document.querySelector( '#revision-viewer-sidebar' )
        },
        toolbar: {
            items: [ 'bold', 'italic', '|', 'revisionHistory' ]
        }
    } )
    .then( editor =&gt; {
        // After the editor is initialized, add an action to be performed after a button is clicked.
        document.querySelector( '#get-data' ).addEventListener( 'click', () =&gt; {
            const revisionHistory = editor.plugins.get( 'RevisionHistory' );

            // Get the document data and the revisions data (in JSON format, so it is easier to save).
            const editorData = editor.data.get();
            const revisionsData = revisionHistory.getRevisions( { toJSON: true } );

            // Now, use `editorData` and `revisionsData` to save the data in your application.
            //
            // Note: it is a good idea to verify the revision `creatorId` parameter when saving
            // a revision in the database, however, do not overwrite the value if it was set to `null`!
            //
            console.log( editorData );
            console.log( revisionsData );
        } );
    } )
    .catch( error =&gt; console.error( error ) );
</code></pre>
<div class="info-box notice"><p>It is recommended to stringify the revisions’ <code>attributes</code> property value to JSON and to save it as a string in your database. Then parse the value from JSON when loading revisions.</p></div>
<h3 id="full-implementation"><a class="headerlink" href="#full-implementation">#</a> Full implementation</h3>
<p>Below you can find the final implementation.</p>
<pre class="highlight"><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;CKEditor 5 with revision history&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .editor-container {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        position: relative;
        width: 1260px;
    }

    #revision-viewer-container {
        display: none;
    }

    .editor-container &gt; .ck-editor {
        position: relative;
        width: 950px;
    }

    .editor-container .ck-editor__top .ck-toolbar {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .editor-container .ck-editor__editable_inline {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .sidebar-container {
        position: relative;
        width: 600px;
        overflow: hidden;
        background: var(--ck-color-toolbar-background);
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;button id="get-data"&gt;Get editor data&lt;/button&gt;
&lt;div class="editors-holder"&gt;
    &lt;!-- The original editor !--&gt;
    &lt;div id="editor-container"&gt;
        &lt;div class="editor-container"&gt;
            &lt;div id="editor"&gt;&lt;/div&gt;
            &lt;div class="sidebar-container" id="sidebar-container"&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Structure for the revision viewer editor !--&gt;
    &lt;div id="revision-viewer-container"&gt;
        &lt;div class="editor-container"&gt;
            &lt;div id="revision-viewer-editor"&gt;&lt;/div&gt;
            &lt;div class="sidebar-container" id="revision-viewer-sidebar"&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;script src="../build/ckeditor.js"&gt;&lt;/script&gt;
&lt;script&gt;
    // Application data will be available under a global variable `appData`.
    const appData = {
        // Initial editor data
        data: `&lt;figure class="image"&gt;
        &lt;img src="https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"&gt;
    &lt;/figure&gt;
    &lt;h1&gt;PUBLISHING AGREEMENT&lt;/h1&gt;
    &lt;h3&gt;Introduction&lt;/h3&gt;
    &lt;p&gt;This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”.&lt;/p&gt;
    &lt;h3&gt;Grant of Rights&lt;/h3&gt;
    &lt;p&gt;The Author grants the Publisher full right and title to the following, in perpetuity:&lt;/p&gt;
    &lt;ul&gt;
        &lt;li&gt;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&lt;/li&gt;
        &lt;li&gt;To create or devise modified, abridged, or derivative works based on the works listed.&lt;/li&gt;
        &lt;li&gt;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&lt;/li&gt;
    &lt;/ul&gt;
    &lt;p&gt;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&lt;/p&gt;
    &lt;p&gt;Any rights not granted to the Publisher above remain with the Author.&lt;/p&gt;
    &lt;p&gt;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&lt;/p&gt;`,

        // User data.
        user: {
            id: 'u1',
            name: 'Joe Doe',
            // Note that the avatar is optional.
            avatar: 'https://randomuser.me/api/portraits/thumb/men/26.jpg'
        },

        // Initial revisions data
        revisions: [
            {
                "id": "initial",
                "name": "Initial revision",
                "creatorId": "u1",
                "authorsIds": [ "u1" ],
                "diffData": {
                    "main": {
                        "insertions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ………… by and between The Lower Shelf, the “Publisher”, and …………, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A."]}]',
                        "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ………… by and between The Lower Shelf, the “Publisher”, and …………, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A."]}]'
                    }
                },
                "createdAt": "2021-05-27T13:22:59.077Z",
                "attributes": {},
                "fromVersion": 1,
                "toVersion": 1
            },
            {
                "id": "e6f80e6be6ee6057fd5a449ab13fba25d",
                "name": "Updated with the actual data",
                "creatorId": "u1",
                "authorsIds": [ "u1" ],
                "diffData": {
                    "main": {
                        "insertions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ",{"name":"revision-start","attributes":[["name","insertion:u1:0"]],"children":[]},"1st",{"name":"revision-end","attributes":[["name","insertion:u1:0"]],"children":[]}," ",{"name":"revision-start","attributes":[["name","insertion:u1:1"]],"children":[]},"June 2020 ",{"name":"revision-end","attributes":[["name","insertion:u1:1"]],"children":[]},"by and between The Lower Shelf, the “Publisher”, and ",{"name":"revision-start","attributes":[["name","insertion:u1:2"]],"children":[]},"John Smith",{"name":"revision-end","attributes":[["name","insertion:u1:2"]],"children":[]},", the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                        "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ",{"name":"revision-start","attributes":[["name","deletion:u1:0"]],"children":[]},"…………",{"name":"revision-end","attributes":[["name","deletion:u1:0"]],"children":[]}," by and between The Lower Shelf, the “Publisher”, and ",{"name":"revision-start","attributes":[["name","deletion:u1:1"]],"children":[]},"…………",{"name":"revision-end","attributes":[["name","deletion:u1:1"]],"children":[]},", the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him",{"name":"revision-start","attributes":[["name","deletion:u1:2"]],"children":[]},"/herself",{"name":"revision-end","attributes":[["name","deletion:u1:2"]],"children":[]}," and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.",{"name":"revision-start","attributes":[["name","deletion:u1:3"]],"children":[]}]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A.",{"name":"revision-end","attributes":[["name","deletion:u1:3"]],"children":[]}]}]'
                    }
                },
                "createdAt": "2021-05-27T13:23:52.553Z",
                "attributes": {},
                "fromVersion": 1,
                "toVersion": 20
            },
            {
                "id": "e6590c50ccbc86acacb7d27231ad32064",
                "name": "Inserted logo",
                "creatorId": "u1",
                "authorsIds": [ "u1" ],
                "diffData": {
                    "main": {
                        "insertions": '[{"name":"figure","attributes":[["data-revision-start-before","insertion:u1:0"],["class","image"]],"children":[{"name":"img","attributes":[["src","https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"]],"children":[]}]},{"name":"h1","attributes":[],"children":[{"name":"revision-end","attributes":[["name","insertion:u1:0"]],"children":[]},"PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                        "deletions": '[{"name":"h1","attributes":[["data-revision-start-before","deletion:u1:0"]],"children":[{"name":"revision-end","attributes":[["name","deletion:u1:0"]],"children":[]},"PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]'
                    }
                },
                "createdAt": "2021-05-27T13:26:39.252Z",
                "attributes": {},
                "fromVersion": 20,
                "toVersion": 24
            },
            // Empty current revision:
            {
                "id": "egh91t5jccbi894cacxx7dz7t36aj3k021",
                "name": null,
                "creatorId": null,
                "authorsIds": [],
                "diffData": {
                    "main": {
                        "insertions": '[{"name":"figure","attributes":[["class","image"]],"children":[{"name":"img","attributes":[["src","https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"]],"children":[]}]},{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                        "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]'
                    }
                },
                "createdAt": "2021-05-27T13:26:39.252Z",
                "attributes": {},
                "fromVersion": 24,
                "toVersion": 24
            }
        ]
    };

    class RevisionHistoryIntegration {
        constructor( editor ) {
            this.editor = editor;
        }

        static get pluginName() {
            return 'RevisionHistoryIntegration';
        }

        static get requires() {
            return [ 'RevisionHistory' ];
        }

        init() {
            const revisionHistory = this.editor.plugins.get( 'RevisionHistory' );

            for ( const revisionData of appData.revisions ) {
                revisionHistory.addRevisionData( revisionData );
            }
        }
    }

    // Initialize users here
    class UsersInit {
        constructor( editor ) {
            this.editor = editor;
        }

        static get pluginName() {
            return 'UsersInit';
        }

        static get requires() {
            return [ 'Users' ];
        }

        init() {
            const users = this.editor.plugins.get( 'Users' );

            users.addUser( appData.user );
            users.defineMe( appData.user.id );
        }
    }

    // In order to load comments and track changes,
    // you should also create the comments and track changes integrations.

    ClassicEditor
        .create( document.querySelector( '#editor' ), {
            initialData: appData.data,
            extraPlugins: [ UsersInit, RevisionHistoryIntegration ],
            licenseKey: 'your-license-key',
            sidebar: {
                container: document.querySelector( '#sidebar-container' )
            },
            revisionHistory: {
                editorContainer: document.querySelector( '#editor-container' ),
                viewerContainer: document.querySelector( '#revision-viewer-container' ),
                viewerEditorElement: document.querySelector( '#revision-viewer-editor' ),
                viewerSidebarContainer: document.querySelector( '#revision-viewer-sidebar' )
            },
            toolbar: {
                items: [ 'bold', 'italic', '|', 'revisionHistory' ]
            }
        } )
        .then( editor =&gt; {
            // After the editor is initialized, add an action to be performed after a button is clicked.
            document.querySelector( '#get-data' ).addEventListener( 'click', async () =&gt; {
                const revisionHistory = editor.plugins.get( 'RevisionHistory' );

                // Get the document data.
                const editorData = editor.data.get();

                // Update the revisions state.
                await editor.plugins.get( 'RevisionTracker' ).update();

                // Get the revisions data (in JSON format, so it is easier to save).
                const revisionsData = revisionHistory.getRevisions( { toJSON: true } );

                // Now, use `editorData` and `revisionsData` to save the data in your application.
                //
                // Note: it is a good idea to verify the revision `creatorId` parameter when saving
                // a revision in the database, however, do not overwrite the value if it was set to `null`!
                //
                console.log( editorData );
                console.log( revisionsData );
            } );
        } )
        .catch( error =&gt; console.error( error ) );
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="demo"><a class="headerlink" href="#demo">#</a> Demo</h3>
<div class="live-snippet"><div class="live-snippet__container loaded revision-integration">
	<div class="row">
        <div class="revision-integration editors-holder">
            <div id="editor-container">
                <div class="editor-container">
                    <div id="editor"></div>
                    <div class="sidebar-container" id="sidebar-container"></div>
                </div>
            </div>
        
			<div id="revision-viewer-container">
				<div class="editor-container">
					<div id="revision-viewer-editor"></div>
					<div class="sidebar-container" id="revision-viewer-sidebar"></div>
				</div>
			</div>
        </div>
	</div>

    <button id="revision-integration-save">Save revisions</button>
</div>

<h3>Console:</h3>
<pre class="highlight language-json" id="revision-integration-console">// Use the `Save revisions` button to see the result...</pre>

<style>
    .editor-container {
        display: flex;
    }
    .sidebar-container {
        min-width: 300px;
        font-size: 20px;
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
        background: var(--ck-color-toolbar-background);
    }
    .revision-integration > button {
		margin-right: 10px;
		color: #333;
		background: hsl(0, 0%, 87%);
		padding: 4px 20px;
		display: inline-block;
		border-radius: 2px;
		font-weight: bold;
		outline: none;
		transition: 300ms ease background;
	}

	.revision-integration > button:hover{
		background: hsl(0, 0%, 82%);
	}

	.revision-integration > button[ disabled ] {
		opacity: 0.2;
		cursor: no-drop;
	}

	#revision-integration-console {
		max-height: 300px;
		overflow: auto;
		white-space: normal;
		background: #2b2c26;
		color: #fff;
		margin-top: 20px;
		transition: background-color 500ms;
	}

	#revision-integration-console.updated {
		background: green;
	}

	.revision-integration-console__suggestions {
		margin-bottom: 10px;
	}

	.revision-integration-console__suggestions::before,
	.revision-integration-console__data::before {
		display: inline-block;
		margin-right: 5px;
		opacity: 0.5;
	}

	.revision-integration-console__suggestions::before {
		content: 'Revisions:'
	}

	.revision-integration-console__data::before {
		content: 'Data:';
	}
	.ck.ck-revision-history-sidebar {
		height: 100%;
	}
	.ck-sidebar-item {
        margin-left: 10px;
        max-width: 275px;
    }

    .live-snippet .ck.ck-editor {
        width: 550px;
    }
</style></div>
<h2 id="adapter-integration"><a class="headerlink" href="#adapter-integration">#</a> Adapter integration</h2>
<p>An adapter integration uses an adapter object — provided by you — to immediately save revisions data in your data store.</p>
<p>This is a recommended way of integrating revision history with your application as it lets you handle the client-server communication in a more secure way. For example, you can check user permissions, validate sent data or update the data with information obtained on the server side.</p>
<p>Additionally, revisions may include significant amount of data. Loading multiple revisions of a big document may adversely impact the loading time of your application. When using an adapter, the revision data is loaded on demand, when needed, which improves the overall user experience.</p>
<p>It is important to load the revisions data during the plugins initialization step, i.e. using the <code>init()</code> method of the integration plugin that you will provide (as in the example below).</p>
<div class="info-box notice"><p>Note that this sample does not contain the comments and track changes adapters. <a href="../comments/comments-integration.html#adapter-integration">Check the comments integration guide</a> and <a href="../track-changes/track-changes-integration.html#adapter-integration">track changes integration guide</a> to learn how to build a complete solution. Also note that those snippets define the same list of users. Make sure to deduplicate this code and define the list of users only once to avoid errors.</p></div>
<h3 id="saving-document-data-and-revisions-data"><a class="headerlink" href="#saving-document-data-and-revisions-data">#</a> Saving document data and revisions data</h3>
<p>Before we move to the actual implementation it is important to note that <strong>document data and revisions data should be always kept in sync</strong>. This means that whenever one is saved, the other should be saved as well. This is natural for “load &amp; save” integration but for adapter integration, we need to keep that in mind. Mismatch in the data will result in the feature not working correctly.</p>
<p>Additionally, document data should not be further post-processed after it is saved. To be precise, it should not be changed in a way that would result in a different model, after the document data is loaded.</p>
<h3 id="implementation"><a class="headerlink" href="#implementation">#</a> Implementation</h3>
<p>First, define the adapter using the <a href="../../../api/module_revision-history_revisionhistory-RevisionHistory.html#member-adapter"><code>RevisionHistory#adapter</code></a> property. The adapter methods allow you to load and save changes in your database. Read the API reference for <a href="../../../api/module_revision-history_revisionhistory-RevisionHistoryAdapter.html"><code>RevisionHistoryAdapter</code></a> carefully to make sure that you integrate the feature with your application correctly.</p>
<p>Each change in revisions is performed immediately on the UI side. However, all adapter actions are asynchronous and are performed in the background. Because of this, all adapter methods need to return a <code>Promise</code>. When the promise is resolved, it means that everything went fine and a local change was successfully saved in the data store. When the promise is rejected, the editor throws a <a href="../../../api/module_utils_ckeditorerror-CKEditorError.html">CKEditorError</a> error, which works nicely together with the <a href="../../watchdog.html">watchdog</a> feature. When you handle the server response, you can decide if the promise should be resolved or rejected.</p>
<p>While the adapter is saving the revision’s data, a pending action is automatically added to the editor <a href="../../../api/module_core_pendingactions-PendingActions.html"><code>PendingActions</code></a> plugin, so you do not have to worry that the editor will be destroyed before the adapter action has finished.</p>
<p>Now you are ready to implement the adapter.</p>
<pre class="highlight"><code class="js">// Application data will be available under a global variable `appData`
const appData = {
    // Initial editor data
    data: `&lt;figure class="image"&gt;
        &lt;img src="https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"&gt;
    &lt;/figure&gt;
    &lt;h1&gt;PUBLISHING AGREEMENT&lt;/h1&gt;
    &lt;h3&gt;Introduction&lt;/h3&gt;
    &lt;p&gt;This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”.&lt;/p&gt;
    &lt;h3&gt;Grant of Rights&lt;/h3&gt;
    &lt;p&gt;The Author grants the Publisher full right and title to the following, in perpetuity:&lt;/p&gt;
    &lt;ul&gt;
        &lt;li&gt;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&lt;/li&gt;
        &lt;li&gt;To create or devise modified, abridged, or derivative works based on the works listed.&lt;/li&gt;
        &lt;li&gt;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&lt;/li&gt;
    &lt;/ul&gt;
    &lt;p&gt;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&lt;/p&gt;
    &lt;p&gt;Any rights not granted to the Publisher above remain with the Author.&lt;/p&gt;
    &lt;p&gt;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&lt;/p&gt;`,

    // User data.
    user: {
        id: 'u1',
        name: 'Joe Doe',
        // Note that the avatar is optional.
        avatar: 'https://randomuser.me/api/portraits/thumb/men/26.jpg'
    },

    // The ID of the current user.
    userId: 'u1'
}

// Plugin that introduces the adapter.
class RevisionHistoryAdapter {
    constructor( editor ) {
        this.editor = editor;
    }

    static get pluginName() {
        return 'RevisionHistoryAdapter';
    }

    static get requires() {
        return [ 'RevisionHistory' ];
    }

    async init() {
        const revisionHistory = this.editor.plugins.get( 'RevisionHistory' );

        revisionHistory.adapter = {
            getRevision: ( { revisionId } ) =&gt; {
                // Get revision data, based on its id.
                // This should be an asynchronous request to your database.
                // Do not dump your revisions data here -- this is only for testing purposes.
                switch ( revisionId ) {
                    case 'initial':
                        return Promise.resolve(
                            {
                                "id": "initial",
                                "name": "Initial revision",
                                "creatorId": "u1",
                                "authorsIds": [ "u1" ],
                                "diffData": {
                                    "main": {
                                        "insertions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ………… by and between The Lower Shelf, the “Publisher”, and …………, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A."]}]',
                                        "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ………… by and between The Lower Shelf, the “Publisher”, and …………, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A."]}]'
                                    }
                                },
                                "createdAt": "2021-05-27T13:22:59.077Z",
                                "attributes": {},
                                "fromVersion": 1,
                                "toVersion": 1
                            }
                        );
                    case 'e6f80e6be6ee6057fd5a449ab13fba25d':
                        return Promise.resolve(
                            {
                                "id": "e6f80e6be6ee6057fd5a449ab13fba25d",
                                "name": "Updated with the actual data",
                                "creatorId": "u1",
                                "authorsIds": [ "u1" ],
                                "diffData": {
                                    "main": {
                                        "insertions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ",{"name":"revision-start","attributes":[["name","insertion:u1:0"]],"children":[]},"1st",{"name":"revision-end","attributes":[["name","insertion:u1:0"]],"children":[]}," ",{"name":"revision-start","attributes":[["name","insertion:u1:1"]],"children":[]},"June 2020 ",{"name":"revision-end","attributes":[["name","insertion:u1:1"]],"children":[]},"by and between The Lower Shelf, the “Publisher”, and ",{"name":"revision-start","attributes":[["name","insertion:u1:2"]],"children":[]},"John Smith",{"name":"revision-end","attributes":[["name","insertion:u1:2"]],"children":[]},", the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                                        "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ",{"name":"revision-start","attributes":[["name","deletion:u1:0"]],"children":[]},"…………",{"name":"revision-end","attributes":[["name","deletion:u1:0"]],"children":[]}," by and between The Lower Shelf, the “Publisher”, and ",{"name":"revision-start","attributes":[["name","deletion:u1:1"]],"children":[]},"…………",{"name":"revision-end","attributes":[["name","deletion:u1:1"]],"children":[]},", the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him",{"name":"revision-start","attributes":[["name","deletion:u1:2"]],"children":[]},"/herself",{"name":"revision-end","attributes":[["name","deletion:u1:2"]],"children":[]}," and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.",{"name":"revision-start","attributes":[["name","deletion:u1:3"]],"children":[]}]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A.",{"name":"revision-end","attributes":[["name","deletion:u1:3"]],"children":[]}]}]'
                                    }
                                },
                                "createdAt": "2021-05-27T13:23:52.553Z",
                                "attributes": {},
                                "fromVersion": 1,
                                "toVersion": 20
                            }
                        );
                    case 'e6590c50ccbc86acacb7d27231ad32064':
                        return Promise.resolve(
                            {
                                "id": "e6590c50ccbc86acacb7d27231ad32064",
                                "name": "Inserted logo",
                                "creatorId": "u1",
                                "authorsIds": [ "u1" ],
                                "diffData": {
                                    "main": {
                                        "insertions": '[{"name":"figure","attributes":[["data-revision-start-before","insertion:u1:0"],["class","image"]],"children":[{"name":"img","attributes":[["src","https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"]],"children":[]}]},{"name":"h1","attributes":[],"children":[{"name":"revision-end","attributes":[["name","insertion:u1:0"]],"children":[]},"PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                                        "deletions": '[{"name":"h1","attributes":[["data-revision-start-before","deletion:u1:0"]],"children":[{"name":"revision-end","attributes":[["name","deletion:u1:0"]],"children":[]},"PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]'
                                    }
                                },
                                "createdAt": "2021-05-27T13:26:39.252Z",
                                "attributes": {},
                                "fromVersion": 20,
                                "toVersion": 24
                            }
                        );
                    case 'egh91t5jccbi894cacxx7dz7t36aj3k021':
                        return Promise.resolve(
                            {
                                "id": "egh91t5jccbi894cacxx7dz7t36aj3k021",
                                "name": null,
                                "creatorId": null,
                                "authorsIds": [],
                                "diffData": {
                                    "main": {
                                        "insertions": '[{"name":"figure","attributes":[["class","image"]],"children":[{"name":"img","attributes":[["src","https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"]],"children":[]}]},{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                                        "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]'
                                    }
                                },
                                "createdAt": "2021-05-27T13:26:39.252Z",
                                "attributes": {},
                                "fromVersion": 24,
                                "toVersion": 24
                            }
                        );
                }
            },
            updateRevisions: revisionsData =&gt; {
                const documentData = this.editor.getData();

                // This should be an asynchronous request to your database
                // that saves `revisionsData` and `documentData`.
                //
                // Document data should be saved each time a revision is saved.
                //
                // `revisionsData` is an array with objects,
                // where each object contains updated and new revisions.
                //
                // See the API reference for `RevisionHistoryAdapter` to learn
                // how to correctly integrate the feature with your application.
                //
                return Promise.resolve();
            }
        };

        // Add the revisions data for existing revisions.
        // You can either dump the revisions data straight in the source code, or
        // you can fetch the data asynchronously from your database (as this example shows).
        //
        // Note that the revisions data does not contain `diffData` property.
        // `diffData` property may be big and will be fetched on demand by `adapter.getRevision()`.
        //
        const revisionsData = await this._fetchRevisionsData();

        for ( const revisionData of revisionsData ) {
            revisionHistory.addRevisionData( revisionData );
        }
    }

    async _fetchRevisionsData() {
        // Make an asynchronous call to your database.
        return Promise.resolve(
            [
                {
                    "id": "initial",
                    "name": "Initial revision",
                    "creatorId": "u1",
                    "authorsIds": [ "u1" ],
                    "createdAt": "2021-05-27T13:22:59.077Z",
                    "attributes": {},
                    "fromVersion": 1,
                    "toVersion": 1
                },
                {
                    "id": "e6f80e6be6ee6057fd5a449ab13fba25d",
                    "name": "Updated with the actual data",
                    "creatorId": "u1",
                    "authorsIds": [ "u1" ],
                    "createdAt": "2021-05-27T13:23:52.553Z",
                    "attributes": {},
                    "fromVersion": 1,
                    "toVersion": 20
                },
                {
                    "id": "e6590c50ccbc86acacb7d27231ad32064",
                    "name": "Inserted logo",
                    "creatorId": "u1",
                    "authorsIds": [ "u1" ],
                    "createdAt": "2021-05-27T13:26:39.252Z",
                    "attributes": {},
                    "fromVersion": 20,
                    "toVersion": 24
                },
                // Empty current revision:
                {
                    "id": "egh91t5jccbi894cacxx7dz7t36aj3k021",
                    "name": null,
                    "creatorId": null,
                    "authorsIds": [],
                    "createdAt": "2021-05-27T13:26:39.252Z",
                    "attributes": {},
                    "fromVersion": 24,
                    "toVersion": 24
                }
            ]
        );
    }
}

// Initialize the users here.
class UsersInit {
    constructor( editor ) {
        this.editor = editor;
    }

    static get pluginName() {
        return 'UsersInit';
    }

    static get requires() {
        return [ 'Users' ];
    }

    init() {
        const users = this.editor.plugins.get( 'Users' );

        users.addUser( appData.user );
        users.defineMe( appData.userId );
    }
}

// In order to load comments and track changes,
// you should also integrate the comments and track changes adapters.

ClassicEditor
    .create( document.querySelector( '#editor' ), {
        initialData: appData.data,
        extraPlugins: [ UsersInit, RevisionHistoryAdapter ],
        licenseKey: 'your-license-key',
        sidebar: {
            container: document.querySelector( '#sidebar-container' )
        },
        revisionHistory: {
            editorContainer: document.querySelector( '#editor-container' ),
            viewerContainer: document.querySelector( '#revision-viewer-container' ),
            viewerEditorElement: document.querySelector( '#revision-viewer-editor' ),
            viewerSidebarContainer: document.querySelector( '#revision-viewer-sidebar' )
        },
        toolbar: {
            items: [ 'bold', 'italic', '|', 'revisionHistory' ]
        }
    } )
    .catch( error =&gt; console.error( error ) );
</code></pre>
<div class="info-box notice"><p>It is recommended to stringify the revisions’ <code>attributes</code> property value to JSON and to save it as a string in your database. Then parse the value from JSON when loading revisions.</p></div>
<p>The adapter is now ready to use with your rich text editor.</p>
<h3 id="full-implementation-2"><a class="headerlink" href="#full-implementation-2">#</a> Full implementation</h3>
<pre class="highlight"><code class="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;CKEditor 5 with revision history&lt;/title&gt;
    &lt;style type="text/css"&gt;
    .editor-container {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        position: relative;
        width: 1260px;
    }

    #revision-viewer-container {
        display: none;
    }

    .editor-container &gt; .ck-editor {
        position: relative;
        width: 950px;
    }

    .editor-container .ck-editor__top .ck-toolbar {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .editor-container .ck-editor__editable_inline {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }

    .sidebar-container {
        position: relative;
        width: 600px;
        overflow: hidden;
        background: var(--ck-color-toolbar-background);
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
    }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div class="editors-holder"&gt;
    &lt;!-- The original editor !--&gt;
    &lt;div id="editor-container"&gt;
        &lt;div class="editor-container"&gt;
            &lt;div id="editor"&gt;&lt;/div&gt;
            &lt;div class="sidebar-container" id="sidebar-container"&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;!-- Structure for the revision viewer editor !--&gt;
    &lt;div id="revision-viewer-container"&gt;
        &lt;div class="editor-container"&gt;
            &lt;div id="revision-viewer-editor"&gt;&lt;/div&gt;
            &lt;div class="sidebar-container" id="revision-viewer-sidebar"&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;script src="../build/ckeditor.js"&gt;&lt;/script&gt;
&lt;script&gt;
    // Application data will be available under a global variable `appData`
    const appData = {
        // Initial editor data
        data: `&lt;figure class="image"&gt;
        &lt;img src="https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"&gt;
    &lt;/figure&gt;
    &lt;h1&gt;PUBLISHING AGREEMENT&lt;/h1&gt;
    &lt;h3&gt;Introduction&lt;/h3&gt;
    &lt;p&gt;This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”.&lt;/p&gt;
    &lt;h3&gt;Grant of Rights&lt;/h3&gt;
    &lt;p&gt;The Author grants the Publisher full right and title to the following, in perpetuity:&lt;/p&gt;
    &lt;ul&gt;
        &lt;li&gt;To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future.&lt;/li&gt;
        &lt;li&gt;To create or devise modified, abridged, or derivative works based on the works listed.&lt;/li&gt;
        &lt;li&gt;To allow others to use the listed works at their discretion, without providing additional compensation to the Author.&lt;/li&gt;
    &lt;/ul&gt;
    &lt;p&gt;These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future.&lt;/p&gt;
    &lt;p&gt;Any rights not granted to the Publisher above remain with the Author.&lt;/p&gt;
    &lt;p&gt;The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.&lt;/p&gt;`,

        // User data.
        user: {
            id: 'u1',
            name: 'Joe Doe',
            // Note that the avatar is optional.
            avatar: 'https://randomuser.me/api/portraits/thumb/men/26.jpg'
        },

        // The ID of the current user.
        userId: 'u1'
    }

    // Plugin that introduces the adapter.
    class RevisionHistoryAdapter {
        constructor( editor ) {
            this.editor = editor;
        }

        static get pluginName() {
            return 'RevisionHistoryAdapter';
        }

        static get requires() {
            return [ 'RevisionHistory' ];
        }

        async init() {
            const revisionHistory = this.editor.plugins.get( 'RevisionHistory' );

            revisionHistory.adapter = {
                getRevision: ( { revisionId } ) =&gt; {
                    // Get revision data, based on its id.
                    // This should be an asynchronous request to your database.
                    // Do not dump your revisions data here -- this is only for testing purposes.
                    switch ( revisionId ) {
                        case 'initial':
                            return Promise.resolve(
                                {
                                    "id": "initial",
                                    "name": "Initial revision",
                                    "creatorId": "u1",
                                    "authorsIds": [ "u1" ],
                                    "diffData": {
                                        "main": {
                                            "insertions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ………… by and between The Lower Shelf, the “Publisher”, and …………, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A."]}]',
                                            "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ………… by and between The Lower Shelf, the “Publisher”, and …………, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him/herself and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A."]}]'
                                        }
                                    },
                                    "createdAt": "2021-05-27T13:22:59.077Z",
                                    "attributes": {},
                                    "fromVersion": 1,
                                    "toVersion": 1
                                }
                            );
                        case 'e6f80e6be6ee6057fd5a449ab13fba25d':
                            return Promise.resolve(
                                {
                                    "id": "e6f80e6be6ee6057fd5a449ab13fba25d",
                                    "name": "Updated with the actual data",
                                    "creatorId": "u1",
                                    "authorsIds": [ "u1" ],
                                    "diffData": {
                                        "main": {
                                            "insertions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ",{"name":"revision-start","attributes":[["name","insertion:u1:0"]],"children":[]},"1st",{"name":"revision-end","attributes":[["name","insertion:u1:0"]],"children":[]}," ",{"name":"revision-start","attributes":[["name","insertion:u1:1"]],"children":[]},"June 2020 ",{"name":"revision-end","attributes":[["name","insertion:u1:1"]],"children":[]},"by and between The Lower Shelf, the “Publisher”, and ",{"name":"revision-start","attributes":[["name","insertion:u1:2"]],"children":[]},"John Smith",{"name":"revision-end","attributes":[["name","insertion:u1:2"]],"children":[]},", the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                                            "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of ",{"name":"revision-start","attributes":[["name","deletion:u1:0"]],"children":[]},"…………",{"name":"revision-end","attributes":[["name","deletion:u1:0"]],"children":[]}," by and between The Lower Shelf, the “Publisher”, and ",{"name":"revision-start","attributes":[["name","deletion:u1:1"]],"children":[]},"…………",{"name":"revision-end","attributes":[["name","deletion:u1:1"]],"children":[]},", the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him",{"name":"revision-start","attributes":[["name","deletion:u1:2"]],"children":[]},"/herself",{"name":"revision-end","attributes":[["name","deletion:u1:2"]],"children":[]}," and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature.",{"name":"revision-start","attributes":[["name","deletion:u1:3"]],"children":[]}]},{"name":"p","attributes":[],"children":["Publishing formats are enumerated in Appendix A.",{"name":"revision-end","attributes":[["name","deletion:u1:3"]],"children":[]}]}]'
                                        }
                                    },
                                    "createdAt": "2021-05-27T13:23:52.553Z",
                                    "attributes": {},
                                    "fromVersion": 1,
                                    "toVersion": 20
                                }
                            );
                        case 'e6590c50ccbc86acacb7d27231ad32064':
                            return Promise.resolve(
                                {
                                    "id": "e6590c50ccbc86acacb7d27231ad32064",
                                    "name": "Inserted logo",
                                    "creatorId": "u1",
                                    "authorsIds": [ "u1" ],
                                    "diffData": {
                                        "main": {
                                            "insertions": '[{"name":"figure","attributes":[["data-revision-start-before","insertion:u1:0"],["class","image"]],"children":[{"name":"img","attributes":[["src","https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"]],"children":[]}]},{"name":"h1","attributes":[],"children":[{"name":"revision-end","attributes":[["name","insertion:u1:0"]],"children":[]},"PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                                            "deletions": '[{"name":"h1","attributes":[["data-revision-start-before","deletion:u1:0"]],"children":[{"name":"revision-end","attributes":[["name","deletion:u1:0"]],"children":[]},"PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]'
                                        }
                                    },
                                    "createdAt": "2021-05-27T13:26:39.252Z",
                                    "attributes": {},
                                    "fromVersion": 20,
                                    "toVersion": 24
                                }
                            );
                        case 'egh91t5jccbi894cacxx7dz7t36aj3k021':
                            return Promise.resolve(
                                {
                                    "id": "egh91t5jccbi894cacxx7dz7t36aj3k021",
                                    "name": null,
                                    "creatorId": null,
                                    "authorsIds": [],
                                    "diffData": {
                                        "main": {
                                            "insertions": '[{"name":"figure","attributes":[["class","image"]],"children":[{"name":"img","attributes":[["src","https://ckeditor.com/docs/ckeditor5/latest/assets/img/revision-history-demo.png"]],"children":[]}]},{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]',
                                            "deletions": '[{"name":"h1","attributes":[],"children":["PUBLISHING AGREEMENT"]},{"name":"h3","attributes":[],"children":["Introduction"]},{"name":"p","attributes":[],"children":["This publishing contract, the “contract”, is entered into as of 1st June 2020 by and between The Lower Shelf, the “Publisher”, and John Smith, the “Author”."]},{"name":"h3","attributes":[],"children":["Grant of Rights"]},{"name":"p","attributes":[],"children":["The Author grants the Publisher full right and title to the following, in perpetuity:"]},{"name":"ul","attributes":[],"children":[{"name":"li","attributes":[],"children":["To publish, sell, and profit from the listed works in all languages and formats in existence today and at any point in the future."]},{"name":"li","attributes":[],"children":["To create or devise modified, abridged, or derivative works based on the works listed."]},{"name":"li","attributes":[],"children":["To allow others to use the listed works at their discretion, without providing additional compensation to the Author."]}]},{"name":"p","attributes":[],"children":["These rights are granted by the Author on behalf of him and their successors, heirs, executors, and any other party who may attempt to lay claim to these rights at any point now or in the future."]},{"name":"p","attributes":[],"children":["Any rights not granted to the Publisher above remain with the Author."]},{"name":"p","attributes":[],"children":["The rights granted to the Publisher by the Author shall not be constrained by geographic territories and are considered global in nature."]}]'
                                        }
                                    },
                                    "createdAt": "2021-05-27T13:26:39.252Z",
                                    "attributes": {},
                                    "fromVersion": 24,
                                    "toVersion": 24
                                }
                            );
                    }
                },
                updateRevisions: revisionsData =&gt; {
                    const documentData = this.editor.getData();

                    // This should be an asynchronous request to your database
                    // that saves `revisionsData` and `documentData`.
                    //
                    // Document data should be saved each time a revision is saved.
                    //
                    // `revisionsData` is an array with objects,
                    // where each object contains updated and new revisions.
                    //
                    // See the API reference for `RevisionHistoryAdapter` to learn
                    // how to correctly integrate the feature with your application.
                    //
                    return Promise.resolve();
                }
            };

            // Add the revisions data for existing revisions.
            // You can either dump the revisions data straight in the source code, or
            // you can fetch the data asynchronously from your database (as this example shows).
            //
            // Note that the revisions data does not contain `diffData` property.
            // `diffData` property may be big and will be fetched on demand by `adapter.getRevision()`.
            //
            const revisionsData = await this._fetchRevisionsData();

            for ( const revisionData of revisionsData ) {
                revisionHistory.addRevisionData( revisionData );
            }
        }

        async _fetchRevisionsData() {
            // Make an asynchronous call to your database.
            return Promise.resolve(
                    [
                        {
                            "id": "initial",
                            "name": "Initial revision",
                            "creatorId": "u1",
                            "authorsIds": [ "u1" ],
                            "createdAt": "2021-05-27T13:22:59.077Z",
                            "attributes": {},
                            "fromVersion": 1,
                            "toVersion": 1
                        },
                        {
                            "id": "e6f80e6be6ee6057fd5a449ab13fba25d",
                            "name": "Updated with the actual data",
                            "creatorId": "u1",
                            "authorsIds": [ "u1" ],
                            "createdAt": "2021-05-27T13:23:52.553Z",
                            "attributes": {},
                            "fromVersion": 1,
                            "toVersion": 20
                        },
                        {
                            "id": "e6590c50ccbc86acacb7d27231ad32064",
                            "name": "Inserted logo",
                            "creatorId": "u1",
                            "authorsIds": [ "u1" ],
                            "createdAt": "2021-05-27T13:26:39.252Z",
                            "attributes": {},
                            "fromVersion": 20,
                            "toVersion": 24
                        },
                        // Empty current revision:
                        {
                            "id": "egh91t5jccbi894cacxx7dz7t36aj3k021",
                            "name": null,
                            "creatorId": null,
                            "authorsIds": [],
                            "createdAt": "2021-05-27T13:26:39.252Z",
                            "attributes": {},
                            "fromVersion": 24,
                            "toVersion": 24
                        }
                    ]
            );
        }
    }

    // Initialize the users here.
    class UsersInit {
        constructor( editor ) {
            this.editor = editor;
        }

        static get pluginName() {
            return 'UsersInit';
        }

        static get requires() {
            return [ 'Users' ];
        }

        init() {
            const users = this.editor.plugins.get( 'Users' );

            users.addUser( appData.user );
            users.defineMe( appData.userId );
        }
    }

    // In order to load comments and track changes,
    // you should also integrate the comments and track changes adapters.

    ClassicEditor
        .create( document.querySelector( '#editor' ), {
            initialData: appData.data,
            extraPlugins: [ UsersInit, RevisionHistoryAdapter ],
            licenseKey: 'your-license-key',
            sidebar: {
                container: document.querySelector( '#sidebar-container' )
            },
            revisionHistory: {
                editorContainer: document.querySelector( '#editor-container' ),
                viewerContainer: document.querySelector( '#revision-viewer-container' ),
                viewerEditorElement: document.querySelector( '#revision-viewer-editor' ),
                viewerSidebarContainer: document.querySelector( '#revision-viewer-sidebar' )
            },
            toolbar: {
                items: [ 'bold', 'italic', '|', 'revisionHistory' ]
            }
        } )
        .catch( error =&gt; console.error( error ) );
&lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="demo-2"><a class="headerlink" href="#demo-2">#</a> Demo</h3>
<div class="live-snippet"><div class="live-snippet__container loaded revision-integration">
	<div class="row">
        <div class="revision-adapter editors-holder">
            <div id="editor-container">
                <div class="editor-container">
                    <div id="editor"></div>
                    <div class="sidebar-container" id="sidebar-container"></div>
                </div>
            </div>
        
			<div id="revision-viewer-container">
				<div class="editor-container">
					<div id="revision-viewer-editor"></div>
					<div class="sidebar-container" id="revision-viewer-sidebar"></div>
				</div>
			</div>
        </div>
	</div>
</div>
<h3>Revision history adapter actions console:</h3>

<pre class="highlight language-json" id="revision-adapter-console">// Create new version to see the result...</pre>

<style>
    .editor-container {
        display: flex;
    }
    .sidebar-container {
        min-width: 300px;
        font-size: 20px;
        border: 1px solid var(--ck-color-toolbar-border);
        margin-left: -1px;
        background: var(--ck-color-toolbar-background);
    }
    #revision-adapter-console {
		padding: 20px;
		overflow: auto;
		white-space: normal;
		background: #2b2c26;
		color: #fff;
		word-break: break-all;
		transition: background-color 500ms;
	}

	#revision-viewer-container {
        display: none;
    }
	
	#revision-adapter-console.updated {
		background: green;
	}

	.revision-adapter-console__action::before,
	.revision-adapter-console__data::before {
		display: inline-block;
		margin-right: 5px;
		opacity: 0.5;
	}

	.revision-adapter-console__action::before {
		content: 'Action:'
	}

	.revision-adapter-console__data::before {
		content: 'Versions data:';
	}
	.ck.ck-revision-history-sidebar {
		height: 100%;
	}
    .ck-sidebar-item {
        margin-left: 10px;
        max-width: 275px;
    }

    .live-snippet .ck.ck-editor {
        width: 550px;
    }
	@media only screen and (min-width: 1600px) {
        .main .main__content-inner {
            width: 905px;
        }
    }
</style></div>
<h2 id="learn-more"><a class="headerlink" href="#learn-more">#</a> Learn more</h2>
<h3 id="pending-actions"><a class="headerlink" href="#pending-actions">#</a> Pending actions</h3>
<p>Revision history uses <a href="../../../api/module_core_pendingactions-PendingActions.html">pending actions</a> feature. Pending actions are added when revisions data is being updated through the revision history adapter, to prevent closing the editor before the update finishes.</p>
<h3 id="editor-initial-data-and-revision-data"><a class="headerlink" href="#editor-initial-data-and-revision-data">#</a> Editor initial data and revision data</h3>
<p>When the revision history feature is used, it is crucial to keep the revisions state in synchronization with the document data. Because of that, if there are any revisions saved for a document, the editor initial data will be discarded and the data saved with the most recent revision will be used instead.</p>
<div class="info-box notice"><p>Since the editor initial data is discarded, you can lower the data load by setting document initial data to empty (applies only to documents for which at least one revision was created).</p></div>
<p>If the editor initial data was set, and it was different from the revision data, a warning will be logged in the console.</p>
<h3 id="autosave-integration"><a class="headerlink" href="#autosave-integration">#</a> Autosave integration</h3>
<div class="info-box notice"><p>If you are using the real-time collaboration feature, refer to the <a href="../real-time-collaboration/real-time-collaboration-integration.html#autosave-for-revision-history">Autosave for revision history</a> section in the <a href="../real-time-collaboration/real-time-collaboration-integration.html">Real-time collaboration features integration</a> guide.</p></div>
<p>Below section describes how to correctly integrate revision history with the autosave plugin. This way you can frequently save both your document data and your revisions data, and keep them in sync.</p>
<div class="info-box notice"><p>Although this guide provides ready-to-use snippets, we encourage you to also read <a href="#how-revisions-are-updated-and-saved">How revisions are saved and updated</a> section to get a better understanding of this subject.</p></div>
<div class="info-box notice"><p>If the autosave plugin is enabled, the autosave callback is additionally called when the revision history view is opened.</p></div>
<p>The integration differs a bit whether you use adapter or not.</p>
<h4 id="autosave-and-load-save-integration"><a class="headerlink" href="#autosave-and-load-save-integration">#</a> Autosave and “load &amp; save” integration</h4>
<p>Update the revision and make sure that the updated or created revision is saved together with the editor data:</p>
<pre class="highlight"><code class="js">autosave: {
    save: async editor =&gt; {
        const revisionTracker = editor.plugins.get( 'RevisionTracker' );

        await revisionTracker.update();

        const revisionData = revisionTracker.currentRevision.toJSON();
        const documentData = editor.getData();

        // `saveData()` should save document and revision data in your database
        // and return a `Promise` that resolves when the save is completed.
        return saveData( documentData, revisionData );
    }
}
</code></pre>
<h4 id="autosave-and-adapter-integration"><a class="headerlink" href="#autosave-and-adapter-integration">#</a> Autosave and adapter integration</h4>
<p>Integration when using the adapter is easier, because your revision adapter should save the document data as well, as was already shown in the earlier examples.</p>
<p>Since the adapter already takes care of saving both revision data and the document data, all that needs to be done in the autosave integration is to update the revision:</p>
<pre class="highlight"><code class="js">autosave: {
    save: editor =&gt; {
        const revisionTracker = editor.plugins.get( 'RevisionTracker' );

        return revisionTracker.update();
    }
}
</code></pre>
<h4 id="advanced-autosave-strategies"><a class="headerlink" href="#advanced-autosave-strategies">#</a> Advanced autosave strategies</h4>
<p>Presented integrations will simply keep on updating the same revision until the user explicitly saves or names the current revision or closes the editor.</p>
<p>This may result in creating a very big revision, containing a lot of changes. To prevent that, autosave integration could create new revisions basing on your custom strategy.</p>
<p>For example, you may decide to save the current revision (unsaved changes) after chosen number of autosave callbacks since the last saved revision:</p>
<pre class="highlight"><code class="js">// Create a new plugin that will handle the autosave logic.
class RevisionHistoryAutosaveIntegration extends Plugin {
    init() {
        this._saveAfter = 100; // Create a new revision after 100 saves.
        this._autosaveCount = 1; // Current autosave counter.
        this._lastCreatedAt = null; // Revision `createdAt` value, when the revision was last time autosaved.
    }

    async autosave() {
        const revisionTracker = this.editor.plugins.get( 'RevisionTracker' );
        const currentRevision = revisionTracker.currentRevision;

        if ( currentRevision.createdAt &gt; this._lastCreatedAt ) {
            // Revision was saved or updated in the meantime by a different source (not autosave).
            // Reset the counter.
            this._autosaveCount = 1;
        }

        if ( this._autosaveCount === this._saveAfter ) {
            // We reached the count, save all changes as a new revision. Reset the counter.
            await revisionTracker.saveRevision();

            this._autosaveCount = 1;
            this._lastCreatedAt = currentRevision.createdAt;
        } else {
            // Try updating "current revision" with the new document changes.
            // If there are any new changes, `createdAt` property will change it's value.
            // Don't raise the counter, if the revision has not been updated!
            await revisionTracker.update();

            if ( currentRevision.createdAt &gt; this._lastCreatedAt ) {
                this._autosaveCount++;
                this._lastCreatedAt = currentRevision.createdAt;
            }
        }

        return true;
    }
}

ClassicEditor
    .create( document.querySelector( '#editor' ), {
        extraPlugins: [
            // ...
            // Add the new plugin to the editor configuration:
            RevisionHistoryAutosaveIntegration
        ],
        // ...
        // Add autosave configuration -- call the plugin method:
        autosave: {
            save: editor =&gt; {
                return editor.plugins.get( RevisionHistoryAutosaveIntegration ).autosave();
            }
        }
    } )
    .catch( error =&gt; console.error( error ) );
</code></pre>
<p>Similarly, you can implement a saving strategy that would include time since the last saved revision, number of operations, or multiple variables used together to decide if a new revision should be saved.</p>
<h3 id="how-revisions-are-updated-and-saved"><a class="headerlink" href="#how-revisions-are-updated-and-saved">#</a> How revisions are updated and saved</h3>
<p>Understanding how and when revisions are updated and saved is important when it comes to writing custom code that integrates with revision history, including autosave integration.</p>
<p>There are always at least two revisions available for a document: the initial revision and the current revision. If the document is new and no revisions has been created for it yet, the two revisions are created when the editor is initialized.</p>
<p>The initial revision contains the editor data from when the document was initialized for the first time. It can be empty or contain some content. The initial revision’s id will equal to document id or to <code>'initial'</code> if the document id is not specified.</p>
<p>The current revision is a revision that stores all unsaved document changes, i.e. changes that has not been saved in earlier revisions. It is always on top of the revisions list. If a new revision is created it will contain all unsaved changes and will be added below the current revision. Then, the current revision will be empty, until again updated with new, unsaved document changes. An empty current revision is not shown on the revisions list.</p>
<p>Note, that the current revision is not updated automatically when document is changed. The update can be done using the revisions feature API. It is enough to update the current revision only when you need to save it – e.g. in the autosave callback. The update is also triggered when the revision history view is opened. In this case, either autosave callback is called, or the current revision is updated (if autosave plugin is not used).</p>
<p>A new revision can be saved using the revisions feature API. Also, a new revision will be created when:</p>
<ul>
<li>A user saves a revision using the dropdown in the editor toolbar.</li>
<li>A user gives a name to the current revision (in the revision history view).</li>
<li>Each time the editor is initialized (a new current revision will be created, while the old current revision will become a regular revision).</li>
</ul>
<h4 id="save-or-update-revision-using-the-feature-api"><a class="headerlink" href="#save-or-update-revision-using-the-feature-api">#</a> Save or update revision using the feature API</h4>
<pre class="highlight"><code class="js">const revisionTrackerPlugin = this.editor.plugins.get( 'RevisionTracker' );

// Updates "current revision", i.e. the revision containing unsaved changes.
revisionTrackerPlugin.update();

// Creates a new revision that will contain all the unsaved changes.
// See API reference to learn more.
revisionTrackerPlugin.saveRevision();
revisionTrackerPlugin.saveRevision( { name: 'My revision' } );
</code></pre>

          <div class="info-box notice notice__feedback">
            <p>
              Every day, we work hard to keep our documentation complete. Have you spotted outdated information? Is something missing?
              Please report it via our <a href="https://github.com/ckeditor/ckeditor5/issues/new?labels=squad%3Accx%2Ctype%3Adocs&amp;template=7-docs-issue-community.yml&amp;title=Docs+issue+report+from+%22features%2Fcollaboration%2Frevision-history%2Frevision-history-integration.html%22&amp;project-version=36.0.1" id="report-widget-issue-tracker">issue tracker</a>.
            </p>
          </div>
          <script>
            ( () => {
                const issueTracker = document.getElementById( 'report-widget-issue-tracker' );
                const hrefUrl = new URL( issueTracker.href );
                hrefUrl.searchParams.set( 'user-agent', navigator.userAgent )
                hrefUrl.searchParams.set( 'origin-url', location.href )
                issueTracker.href = hrefUrl.toString();
            } )();
          </script>
        </div>
      </section>
      <div class="side-navigation">
        <div class="side-navigation__wrapper">
          <nav class="side-navigation__inner">
            <ul class="tree guide-tree">
                          <li><a href="../../index.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">CKEditor 5 features overview</span>
                              </div></a></li>
                          <li><a href="../../autoformat.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Autoformatting</span>
                              </div></a></li>
                          <li><a href="../../text-transformation.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Automatic text transformation</span>
                              </div></a></li>
                          <li><a href="../../basic-styles.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Basic text styles</span>
                              </div></a></li>
                          <li><a href="../../indent.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block indentation</span>
                              </div></a></li>
                          <li><a href="../../block-quote.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block quote</span>
                              </div></a></li>
                          <li><a href="../../code-blocks.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code blocks</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Collaboration</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                            </div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../collaboration.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Comments</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../comments/comments.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../comments/comments-integration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                                  </div></a></li>
                                              <li><a href="../comments/comments-only-mode.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Comments-only mode</span>
                                                  </div></a></li>
                                              <li><a href="../comments/comments-outside-editor.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Comments outside the editor</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Track changes</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../track-changes/track-changes.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../track-changes/track-changes-integration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                                  </div></a></li>
                                              <li><a href="../track-changes/track-changes-custom-features.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom features</span>
                                                  </div></a></li>
                                              <li><a href="../track-changes/track-changes-data.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Saving data without suggestions</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Real-time collaboration</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../real-time-collaboration/real-time-collaboration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../real-time-collaboration/real-time-collaboration-integration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration</span>
                                                  </div></a></li>
                                              <li><a href="../real-time-collaboration/users-in-real-time-collaboration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Users in real-time collaboration</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Revision history</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="revision-history.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="">
                                                  <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Integration</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li><a href="../users.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Users</span>
                                        </div></a></li>
                                    <li><a href="../context-and-collaboration-features.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Context and collaboration features</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Annotations</span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../annotations/annotations.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../annotations/annotations-display-mode.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Display mode</span>
                                                  </div></a></li>
                                              <li><a href="../annotations/annotations-custom-configuration.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Configuration</span>
                                                  </div></a></li>
                                              <li><a href="../annotations/annotations-custom-theme.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom theme</span>
                                                  </div></a></li>
                                              <li><a href="../annotations/annotations-custom-template.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom template</span>
                                                  </div></a></li>
                                              <li><a href="../annotations/annotations-custom-view.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom view</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                            </ul>
                          </li>
                          <li><a href="../../minimap.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Content minimap</span>
                              </div></a></li>
                          <li><a href="../../title.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document title</span>
                              </div></a></li>
                          <li><a href="../../editor-placeholder.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor placeholder</span>
                              </div></a></li>
                          <li><a href="../../export-pdf.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Export to PDF</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                              </div></a></li>
                          <li><a href="../../export-word.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Export to Word</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                              </div></a></li>
                          <li><a href="../../find-and-replace.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Find and replace</span>
                              </div></a></li>
                          <li><a href="../../font.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Font</span>
                              </div></a></li>
                          <li><a href="../../general-html-support.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">General HTML Support</span>
                              </div></a></li>
                          <li><a href="../../headings.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Headings</span>
                              </div></a></li>
                          <li><a href="../../highlight.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Highlight</span>
                              </div></a></li>
                          <li><a href="../../horizontal-line.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Horizontal line</span>
                              </div></a></li>
                          <li><a href="../../html-embed.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">HTML embed</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Images</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../../images/images-overview.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                        </div></a></li>
                                    <li><a href="../../images/images-installation.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Installation</span>
                                        </div></a></li>
                                    <li><a href="../../images/images-text-alternative.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text alternative</span>
                                        </div></a></li>
                                    <li><a href="../../images/images-captions.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Image captions</span>
                                        </div></a></li>
                                    <li><a href="../../images/images-resizing.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Resizing images</span>
                                        </div></a></li>
                                    <li><a href="../../images/images-styles.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Image styles</span>
                                        </div></a></li>
                                    <li><a href="../../images/images-linking.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Linking images</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Image upload</span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../../images/image-upload/image-upload.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                                  </div></a></li>
                                              <li><a href="../../images/image-upload/ckbox.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">CKBox file manager</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                                  </div></a></li>
                                              <li><a href="../../images/image-upload/easy-image.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Easy Image</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                                  </div></a></li>
                                              <li><a href="../../images/image-upload/ckfinder.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">CKFinder file manager</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                                                  </div></a></li>
                                              <li><a href="../../images/image-upload/base64-upload-adapter.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Base64 upload adapter</span>
                                                  </div></a></li>
                                              <li><a href="../../images/image-upload/simple-upload-adapter.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Simple upload adapter</span>
                                                  </div></a></li>
                                              <li><a href="../../images/image-upload/images-inserting.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Inserting images via URL</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Import from Word</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                            </div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../../import-word/import-word.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Import from Word</span>
                                        </div></a></li>
                                    <li><a href="../../import-word/features-comparison.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Features comparison</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../../keyboard-support.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Keyboard support</span>
                              </div></a></li>
                          <li><a href="../../link.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Link</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Lists</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../../lists/lists.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Ordered and unordered lists</span>
                                        </div></a></li>
                                    <li><a href="../../lists/todo-lists.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">To-do lists</span>
                                        </div></a></li>
                                    <li><a href="../../lists/document-lists.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document lists</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../../markdown.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Markdown output</span>
                              </div></a></li>
                          <li><a href="../../math-equations.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Math and chemical formulas</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                              </div></a></li>
                          <li><a href="../../media-embed.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Media embed</span>
                              </div></a></li>
                          <li><a href="../../mentions.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Mentions</span>
                              </div></a></li>
                          <li><a href="../../page-break.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Page break</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Pagination</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                            </div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../../pagination/pagination.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                                        </div></a></li>
                                    <li><a href="../../pagination/pagination-integration.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Integration with Export to PDF/Word</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Pasting</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../../pasting/paste-from-word.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste from Word</span>
                                        </div></a></li>
                                    <li><a href="../../pasting/paste-from-google-docs.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste from Google Docs</span>
                                        </div></a></li>
                                    <li><a href="../../pasting/paste-plain-text.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Paste plain text</span>
                                        </div></a></li>
                                    <li><a href="../../pasting/drag-drop.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Drag and drop</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../../read-only.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Read-only support</span>
                              </div></a></li>
                          <li><a href="../../remove-format.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Remove formatting</span>
                              </div></a></li>
                          <li><a href="../../restricted-editing.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Restricted editing</span>
                              </div></a></li>
                          <li><a href="../../select-all.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Select all</span>
                              </div></a></li>
                          <li><a href="../../source-editing.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Source editing</span>
                              </div></a></li>
                          <li><a href="../../special-characters.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Special characters</span>
                              </div></a></li>
                          <li><a href="../../spelling-and-grammar-checking.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Spell and grammar checker</span><span class="tree__item__badge tree__item__badge_premium" data-badge-tooltip="Premium feature"><span class="tree__item__badge__text">Premium feature</span></span>
                              </div></a></li>
                          <li><a href="../../style.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Styles</span>
                              </div></a></li>
                          <li><a href="../../table.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Tables</span>
                              </div></a></li>
                          <li><a href="../../text-alignment.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text alignment</span>
                              </div></a></li>
                          <li><a href="../../language.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Text part language</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Toolbar</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../../toolbar/toolbar.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editor toolbar</span>
                                        </div></a></li>
                                    <li><a href="../../toolbar/blocktoolbar.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Block toolbar</span>
                                        </div></a></li>
                            </ul>
                          </li>
                          <li><a href="../../ui-language.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI language</span>
                              </div></a></li>
                          <li><a href="../../undo-redo.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Undo/Redo</span>
                              </div></a></li>
                          <li><a href="../../watchdog.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Watchdog</span>
                              </div></a></li>
                          <li><a href="../../word-count.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Word and character count</span>
                              </div></a></li>
            </ul>
          </nav>
        </div>
      </div>
    </main>
    <footer class="footer footer--bordered">
      <p>&copy; 2003-2023 <a href="http://cksource.com">CKSource</a>. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
docsearch({
apiKey:'fc463c26455365ad403d5ec51796cd73',indexName:'ckeditor_nightly',inputSelector:'#docsearch_input',algoliaOptions:{hitsPerPage:250,attributesToRetrieve:'*'},
transformData: function( hits ) {var sortingFn = function( a, b ) {a.custom_ranking = a.custom_ranking || 0;b.custom_ranking = b.custom_ranking || 0;if ( a.custom_ranking === b.custom_ranking ) return a.index - b.index;if ( a.custom_ranking > b.custom_ranking ) return -1;if ( a.custom_ranking < b.custom_ranking ) return 1;};var result = [];var tags = [ 'installation', 'features', 'examples', 'updating', 'support', 'framework', 'api' ];var hitsGrouped = { api: [] };hitsGrouped[ 'features' ] = hits.filter( function( h ) {return h.tags.includes( 'ckeditor5' ) && h.tags.includes( 'features' );} ).slice( 0, 7 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn );tags.forEach( function( tag ) {if ( tag !== 'features' ) {hitsGrouped[ tag ] = hits.filter( function( h ) {return h.tags.includes( 'ckeditor5' ) && h.tags.includes( tag );} ).slice( 0, 10 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn ).slice( 0, 3 );}} );var apiSearchHits = [];if ( window.apiSearch ) apiSearchHits = window.apiSearch();hitsGrouped.api = hitsGrouped.api.filter( function( h ) {var isDuplicated = false;for ( var i = 0; i < apiSearchHits.length; i++ ) {if ( h.url.includes( apiSearchHits[ i ].urlShort ) ) {isDuplicated = true;break;}}return !isDuplicated;} );hitsGrouped.api = ( apiSearchHits || [] ).concat( hitsGrouped.api );result = result.concat( hitsGrouped[ 'features' ] );tags.forEach( function( tag ) {if ( tag !== 'features' ) result = result.concat( hitsGrouped[ tag ].slice( 0, 4 ) );} );return result;}
});
</script>
    <script src="../../../../../assets/2.3.1/scripts/app.js"></script>
    <script src="../../../assets/snippet.js"></script>
    <script src="../../../snippets/assets.js"></script>
    <script src="../../../snippets/features/revision-history-build/snippet.js"></script>
    <script src="../../../snippets/features/revision-history-load-save-integration/snippet.js"></script>
    <script src="../../../snippets/features/revision-history-adapter/snippet.js"></script>
    <script src="../../../assets/buildwarningbanner.js" async></script>
  </body>
</html>