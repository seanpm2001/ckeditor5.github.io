<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Update to v35.x - CKEditor 5 Documentation</title>
    <meta name="description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:card" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:site" content="@ckeditor">
    <meta name="x-generated-at" content="Wed Mar 01 2023 04:12:37 GMT+0000 (Coordinated Universal Time)">
    <meta property="og:title" content="Update to v35.x - CKEditor 5 Documentation">
    <meta property="og:description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ckeditor.com/docs/ckeditor5/latest/updating/guides/update-to-35.html">
    <meta property="DC.language" content="en">
    <meta property="DC.publisher" content="CKSource">
    <meta property="DC.creator" content="CKEditor">
    <meta property="DC.title" content="Update to v35.x - CKEditor 5 Documentation">
    <meta property="DC.format" content="text/html">
    <meta property="DC.type" content="Text">
    <meta property="DC.description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <link rel="canonical" href="https://ckeditor.com/docs/ckeditor5/latest/updating/guides/update-to-35.html">
    <link rel="icon" type="image/png" href="../../assets/img/favicons/16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="../../assets/img/favicons/32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../assets/img/favicons/96x96.png" sizes="96x96">
    <link rel="apple-touch-icon" type="image/png" href="../../assets/img/favicons/200x200.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
    <link rel="stylesheet" href="../../../../assets/2.4.0/css/styles.css" type="text/css" media="all">
    <link rel="stylesheet" href="../../assets/styles.css" type="text/css">
    <script>if ( ["ckeditor5.github.io"].indexOf( location.hostname ) !== -1 ) {
      	function pageView() {
      		ga( 'send', 'pageview', location.pathname + location.search + location.hash );
      	}
      
      	(function( i, s, o, g, r, a, m ) {
      		i[ 'GoogleAnalyticsObject' ] = r;
      		i[ r ] = i[ r ] || function() {
      				(i[ r ].q = i[ r ].q || []).push( arguments )
      			}, i[ r ].l = 1 * new Date();
      		a = s.createElement( o ),
      			m = s.getElementsByTagName( o )[ 0 ];
      		a.async = 1;
      		a.src = g;
      		m.parentNode.insertBefore( a, m )
      	})( window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga' );
      
      	ga( 'create', {"trackingId":"UA-271067-19","cookieDomain":"ckeditor5.github.io"} );
      
      	pageView();
      
      	window.addEventListener( 'hashchange', pageView );
      }
    </script>
  <meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    <header class="top" data-project="ckeditor5">
      <div class="header__main">
        <div class="header__main-rwd-button"><a href="#"><span></span><span></span><span></span></a></div>
        <div class="header__main-title"><a class="header__main-title-home" href="../../../../index.html">CKEditor Ecosystem Documentation</a></div>
        <div class="top__search">
          <input class="top__search__box" type="text" id="docsearch_input" placeholder="Search in CKEditor 5">
          <div class="top__search__button"><img src="../../../../assets/2.4.0/img/loupe.svg" alt="Search"></div>
        </div>
      </div>
      <div class="header__sub">
        <ul class="top__menu">
          <li class="top__menu-project-logo"><a href="../../index.html">CKEditor 5</a></li>
          <li><a href="../../installation/index.html">Getting started</a></li>
          <li><a href="../../features/index.html">Features</a></li>
          <li><a href="../../examples/index.html">Examples</a></li>
          <li><a class="top__menu__item--active" href="../index.html">Updating</a></li>
          <li><a href="../../support/index.html">Support</a></li>
          <li><a href="../../framework/index.html">Framework</a></li>
          <li><a class="top__menu__api" href="../../api/index.html">API</a></li>
          <li><a class="top__menu-github-link" href="https://github.com/ckeditor/ckeditor5" target="_blank" title="CKEditor 5 on GitHub."><svg viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></li>
        </ul>
      </div>
      <div class="header__menu-rwd">
        <ul class="header__menu-rwd__projects">
          <li data-project="ckeditor5"><a href="../../../latest/index.html">CKEditor 5</a>
            <ul class="tree header__menu-rwd__projects-pages">
              <li data-group="installation"><a href="../../installation/index.html">Getting started</a>
              </li>
              <li data-group="features"><a href="../../features/index.html">Features</a>
              </li>
              <li data-group="examples"><a href="../../examples/index.html">Examples</a>
              </li>
              <li data-group="updating"><a href="../index.html">Updating</a>
                <ul class="header__menu-rwd__projects-subpages">
                          <li><a href="../index.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                              </div></a></li>
                          <li><a href="../migration-from-ckeditor-4.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Migration from CKEditor 4</span>
                              </div></a></li>
                          <li><a href="../maintaining.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Maintaining your editor</span>
                              </div></a></li>
                          <li><a href="../release-process.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Release process</span>
                              </div></a></li>
                          <li><a href="../versioning-policy.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Versioning policy</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Update guides</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="updating-ckeditor-5.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Updating CKEditor 5</span>
                                      </div></a></li>
                                  <li><a href="changelog.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Recent release changelog</span>
                                      </div></a></li>
                                  <li><a href="update-to-36.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v36.x</span>
                                      </div></a></li>
                                  <li><a href="">
                                      <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Update to v35.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-34.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v34.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-33.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v33.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-32.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v32.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-31.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v31.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-30.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v30.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-29.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v29.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-28.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v28.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-27.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v27.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-26.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v26.x</span>
                                      </div></a></li>
                                  <li><a href="update-to-25.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v25.x</span>
                                      </div></a></li>
                            </ul>
                          </li>
                </ul>
              </li>
              <li data-group="support"><a href="../../support/index.html">Support</a>
              </li>
              <li data-group="framework"><a href="../../framework/index.html">Framework</a>
              </li>
              <li data-group="api-reference"><a href="../../api/index.html">API</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </header>
    <main class="main">
      <section class="main__content formatted">
        <div class="main__content-inner">
          <div class="github-contrib"><a href="https://github.com/ckeditor/ckeditor5/blob/master/docs/updating/update-to-35.md" title="Contribute to this guide"><img src="../../../../assets/2.4.0/img/edit.svg" alt="Contribute to this guide"></a>
          </div>
          <div class="rwd-breadcrumbs"><a href="../../../../index.html">Home</a><span class="rwd-breadcrumbs__separator">/</span><a href="../../index.html">CKEditor 5</a><span class="rwd-breadcrumbs__separator">/</span><a href="../index.html">Updating</a>
          </div>
          <h1 class="main__content-title"><img src="../../../../assets/2.4.0/img/book.svg" alt="guide">Update to CKEditor 5 v35.x
          </h1><nav class="secondary-navigation"><h3>Table of contents</h3><ol><li><a href="#update-to-ckeditor-5-v3520">Update to CKEditor 5 v35.2.0</a><ol><li><a href="#introducing-external-comments">Introducing external comments</a><ol><li><a href="#saving-external-comments-and-suggestions-data">Saving external comments and suggestions data</a></li><li><a href="#templates-for-link-modulecommentscommentsuiviewcommentview~commentviewgettemplate-commentview-and-link-moduletrack-changesuiviewsuggestionthreadview~suggestionthreadviewgettemplate-suggestionthreadview-have-changed">Templates for CommentView and SuggestionThreadView have changed</a></li></ol></li><li><a href="#comment-input-editor-is-now-loaded-on-demand">Comment input editor is now loaded on demand</a></li><li><a href="#custom-annotations-must-be-registered-in-link-modulecommentsannotationseditorannotations~editorannotations-editorannotations-plugin">Custom annotations must be registered in EditorAnnotations plugin</a></li><li><a href="#icons-paths-changed">Icons paths changed</a></li></ol></li><li><a href="#update-to-ckeditor-5-v3510">Update to CKEditor 5 v35.1.0</a><ol><li><a href="#changes-to-api-providing-the-accessible-navigation-between-editing-roots-and-toolbars-on-kbdaltkbdkbdf10kbd-and-kbdesckbd-keystrokes">Changes to API providing the accessible navigation between editing roots and toolbars on Alt+F10 and Esc keystrokes</a></li><li><a href="#removal-of-the-tooltipview-class-and-changes-to-the-tooltip-system">Removal of the TooltipView class and changes to the tooltip system</a></li><li><a href="#changes-to-the-color-palette-in-the-ui">Changes to the color palette in the UI</a></li><li><a href="#renaming-the-properties-of-balloonpanelview">Renaming the properties of BalloonPanelView</a></li></ol></li><li><a href="#update-to-ckeditor-5-v3500">Update to CKEditor 5 v35.0.0</a><ol><li><a href="#the-source-element-is-not-updated-automatically-after-the-editor-destroy">The source element is not updated automatically after the editor destroy</a></li><li><a href="#dropdown-focus-is-moved-back-to-the-dropdown-button-after-choosing-an-option">Dropdown focus is moved back to the dropdown button after choosing an option</a></li><li><a href="#there-is-now-a-typescript-code-on-github-and-how-it-affects-your-build">There is now a TypeScript code on GitHub (and how it affects your build)</a><ol><li><a href="#whom-does-it-affect">Whom does it affect?</a></li><li><a href="#how-does-it-affect-you">How does it affect you?</a></li></ol></li></ol></li></ol></nav>
<div class="info-box notice"><p>When updating your CKEditor 5 installation, make sure <strong>all the packages are the same version</strong> to avoid errors.</p><p>For custom builds, you may try removing the <code>package-lock.json</code> or <code>yarn.lock</code> files (if applicable) and reinstalling all packages before rebuilding the editor. For best results, make sure you use the most recent package versions.</p></div>
<h2 id="update-to-ckeditor-5-v3520"><a class="headerlink" href="#update-to-ckeditor-5-v3520">#</a> Update to CKEditor 5 v35.2.0</h2>
<p>For the entire list of changes introduced in version 35.2.0, see the <a href="https://github.com/ckeditor/ckeditor5/releases/tag/v35.2.0">release notes for CKEditor 5 v35.2.0</a>.</p>
<p>Listed below are the most important changes that require your attention when upgrading to CKEditor 5 v35.2.0.</p>
<h3 id="introducing-external-comments"><a class="headerlink" href="#introducing-external-comments">#</a> Introducing external comments</h3>
<p>In this release, we are introducing external comments and suggestions. Currently, they are used by the import from Word feature. However, other features may use them in the future as well.</p>
<p>External comments and suggestions display their content, author name and date as provided from an external source (e.g. a Word document).</p>
<p>Even if you do not plan to use the import from Word feature, we recommend following this migration guide. It will make your integration ready in case you decide to use external comments or suggestions in the future.</p>
<h4 id="saving-external-comments-and-suggestions-data"><a class="headerlink" href="#saving-external-comments-and-suggestions-data">#</a> Saving external comments and suggestions data</h4>
<div class="info-box notice"><p>This information applies only to integrations that use the <strong>non-real-time</strong> collaboration features.</p></div>
<p>The external data for external comments and suggestions is kept in the newly added <code>@external</code> <a href="../../api/module_comments_comments_commentsrepository-Comment.html#member-attributes">attribute</a>. It is an object with two fields: <code>authorName</code> (<code>String</code>) and <code>createdAt</code> (<code>Date</code>).</p>
<p>Other properties and attributes for comments and suggestions are used in the regular way. The <code>authorId</code> property is set to the author who performed the import.</p>
<p>The external data is shown in the UI, but it is not authenticated (as it comes from an external source). Because of that, it is important to introduce some security measures when saving external comments and suggestions:</p>
<ul>
<li>The <code>@external</code> attribute should be read-only and possible to set only when a comment or suggestion is created.</li>
<li>Other comment and suggestion properties (like <code>content</code>) should be read-only as well, if the <code>@external</code> attribute is set.</li>
</ul>
<h4 id="templates-for-link-modulecommentscommentsuiviewcommentview~commentviewgettemplate-commentview-and-link-moduletrack-changesuiviewsuggestionthreadview~suggestionthreadviewgettemplate-suggestionthreadview-have-changed"><a class="headerlink" href="#templates-for-link-modulecommentscommentsuiviewcommentview~commentviewgettemplate-commentview-and-link-moduletrack-changesuiviewsuggestionthreadview~suggestionthreadviewgettemplate-suggestionthreadview-have-changed">#</a> Templates for <a href="../../api/module_comments_comments_ui_view_commentview-CommentView.html#function-getTemplate"><code>CommentView</code></a> and <a href="../../api/module_track-changes_ui_view_suggestionthreadview-SuggestionThreadView.html#function-getTemplate"><code>SuggestionThreadView</code></a> have changed</h4>
<div class="info-box notice"><p>This information applies only to integrations that use custom annotation views or templates.</p></div>
<p>Since the data in external comments and suggestions is not authenticated, we decided to add a label that informs users that a given item comes from an external source.</p>
<p>This changes the <a href="../../api/module_comments_comments_ui_view_commentview-CommentView.html#function-getTemplate"><code>CommentView</code> template</a> and the <a href="../../api/module_track-changes_ui_view_suggestionthreadview-SuggestionThreadView.html#function-getTemplate"><code>SuggestionThreadView</code> template</a>. The label is added at the end of these templates. Please check the new templates to see whether this change affects your custom view.</p>
<h3 id="comment-input-editor-is-now-loaded-on-demand"><a class="headerlink" href="#comment-input-editor-is-now-loaded-on-demand">#</a> Comment input editor is now loaded on demand</h3>
<div class="info-box notice"><p>This information applies only to custom features depending on the comment input editor.</p></div>
<p>Comment input editor is now initialized on demand (when the comment view is focused for the first time) instead of when it is rendered.</p>
<p>If your custom feature somehow depends on comment input editor, it may need to be updated.</p>
<h3 id="custom-annotations-must-be-registered-in-link-modulecommentsannotationseditorannotations~editorannotations-editorannotations-plugin"><a class="headerlink" href="#custom-annotations-must-be-registered-in-link-modulecommentsannotationseditorannotations~editorannotations-editorannotations-plugin">#</a> Custom annotations must be registered in <a href="../../api/module_comments_annotations_editorannotations-EditorAnnotations.html"><code>EditorAnnotations</code></a> plugin</h3>
<div class="info-box notice"><p>This information applies only to custom features that create their own <a href="../../api/module_comments_annotations_annotation-Annotation.html"><code>Annotation</code></a> instances.</p></div>
<p>The <a href="../../api/module_comments_annotations_annotation-Annotation.html"><code>Annotation</code></a> instances <strong>which target to a marker or a DOM element inside the editor editable</strong> must now be manually registered using <a href="../../api/module_comments_annotations_editorannotations-EditorAnnotations.html#function-registerAnnotation"><code>EditorAnnotations#registerAnnotation()</code></a> to provide correct focus tracking between the annotation and the editor.</p>
<pre class="highlight"><code class="js">// Before:
const annotation = new Annotation( ... );
editor.plugins.get( 'Annotations' ).add( annotation );

// After:
const annotation = new Annotation( ... );
editor.plugins.get( 'EditorAnnotations' ).registerAnnotation( annotation );
editor.plugins.get( 'Annotations' ).add( annotation );
</code></pre>
<h3 id="icons-paths-changed"><a class="headerlink" href="#icons-paths-changed">#</a> Icons paths changed</h3>
<p>Among other changes, a few icons have been moved around the project. Please observe these changes especially if you use custom UI elements that call these icons.</p>
<ul>
<li>The <code>bold</code> icon has been moved to the <code>@ckeditor/ckeditor5-core</code> package.</li>
<li>The <code>paragraph</code> icon has been moved to the <code>@ckeditor/ckeditor5-core</code> package.</li>
</ul>
<p>The rest of the import path remained unchanged (<code>/theme/icons/</code>).</p>
<h2 id="update-to-ckeditor-5-v3510"><a class="headerlink" href="#update-to-ckeditor-5-v3510">#</a> Update to CKEditor 5 v35.1.0</h2>
<p>For the entire list of changes introduced in version 35.1.0, see the <a href="https://github.com/ckeditor/ckeditor5/releases/tag/v35.1.0">release notes for CKEditor 5 v35.1.0</a>.</p>
<p>Listed below are the most important changes that require your attention when upgrading to CKEditor 5 v35.1.0.</p>
<h3 id="changes-to-api-providing-the-accessible-navigation-between-editing-roots-and-toolbars-on-kbdaltkbdkbdf10kbd-and-kbdesckbd-keystrokes"><a class="headerlink" href="#changes-to-api-providing-the-accessible-navigation-between-editing-roots-and-toolbars-on-kbdaltkbdkbdf10kbd-and-kbdesckbd-keystrokes">#</a> Changes to API providing the accessible navigation between editing roots and toolbars on <kbd>Alt</kbd>+<kbd>F10</kbd> and <kbd>Esc</kbd> keystrokes</h3>
<div class="info-box notice"><p>This information applies only to integrators who develop their own <a href="../../framework/deep-dive/ui/custom-editor-creator.html">editor creators</a> from scratch by using the <a href="../../api/module_core_editor_editor-Editor.html"><code>Editor</code></a> and <a href="../../api/module_core_editor_editorui-EditorUI.html"><code>EditorUI</code></a> classes as building blocks.</p></div>
<ul>
<li>The <code>enableToolbarKeyboardFocus()</code> helper that allowed the navigation has been removed. To bring this functionality back, use the <a href="../../api/module_core_editor_editorui-EditorUI.html#function-addToolbar"><code>addToolbar</code></a> method instead.</li>
<li>Also, please note that editable elements are now automatically added to the <a href="../../api/module_core_editor_editorui-EditorUI.html#member-focusTracker">main focus tracker</a> and should not be added individually.</li>
</ul>
<p><strong>Before</strong>:</p>
<pre class="highlight"><code class="js">import { EditorUI } from 'ckeditor5/src/core';

export default class MyEditorUI extends EditorUI {
    // ...

    init() {
        const view = this.view;
        const editableElement = view.editable.element;
        const toolbarViewInstance = this.view.toolbar;

        // ...

        this.setEditableElement( 'editableName', editableElement );

        this.focusTracker.add( editableElement );

        enableToolbarKeyboardFocus( {
            // ...

            toolbar: toolbarViewInstance
        } );

        // ...
    }
}
</code></pre>
<p><strong>After</strong>:</p>
<pre class="highlight"><code class="js">import { EditorUI } from 'ckeditor5/src/core';
// Or `import { EditorUI } from 'ckeditor5/src/ui';` if you update to v36.x;

export default class MyEditorUI extends EditorUI {
    // ...

    init() {
        const view = this.view;
        const editableElement = view.editable.element;
        const toolbarViewInstance = this.view.toolbar;

        // ...

        // Note: You should not add the editable element to the focus tracker here.
        // This is handled internally by the EditorUI#setEditableElement() method.
        this.setEditableElement( 'editableName', editableElement );

        // Note: Add the toolbar to enable Alt+F10 navigation.
        // The rest (e.g. the Esc key handling) is handled by EditorUI#setEditableElement() method.
        this.addToolbar( toolbarViewInstance );

        // ...
    }
}
</code></pre>
<h3 id="removal-of-the-tooltipview-class-and-changes-to-the-tooltip-system"><a class="headerlink" href="#removal-of-the-tooltipview-class-and-changes-to-the-tooltip-system">#</a> Removal of the <code>TooltipView</code> class and changes to the tooltip system</h3>
<div class="info-box notice"><p>Please note, that this change does not affect integrations that configure tooltips of core UI components, for instance <a href="../../api/module_ui_button_buttonview-ButtonView.html#member-tooltip"><code>tooltip</code></a>.</p></div>
<p>Starting with v35.1.0, the <code>TooltipView</code> UI component has been removed from the <a href="https://www.npmjs.com/package/@ckeditor/ckeditor5-ui">ckeditor5-ui</a> package. Instead, a new tooltip API is available based on the <code>data-cke-tooltip-*</code> DOM element attributes.</p>
<p>It may happen that your integration creates instances of <code>TooltipView</code> and injects them into the DOM in a similar way:</p>
<pre class="highlight"><code class="js">// ❌ Old tooltip API
import { TooltipView } from 'ckeditor5/src/ui';

const tooltip = new TooltipView();

tooltip.text = 'Tooltip text';
tooltip.position = 'sw';
tooltip.render();

DOMElementThatNeedsTooltip.appendChild( tooltip.element );
</code></pre>
<pre class="highlight"><code class="css">/* ❌ Old tooltip API */
.dom-element-that-needs-tooltip:hover .ck-tooltip {
    visibility: visible;
    opacity: 1;
}
</code></pre>
<p>If this is the case, you should now use the <code>data-cke-tooltip-*</code> attributes and let the editor’s built–in <a href="../../api/module_ui_tooltipmanager-TooltipManager.html"><code>TooltipManager</code></a> handle the rest:</p>
<pre class="highlight"><code class="js">// ✅ New tooltip API
DOMElementThatNeedsTooltip.dataset.ckeTooltipText = 'Tooltip text';
DOMElementThatNeedsTooltip.dataset.ckeTooltipPosition = 'sw';
</code></pre>
<p>Keep in mind that you do not need to worry about showing and hiding your custom tooltips in CSS. The <code>TooltipManager</code> will attach a tooltip whenever the user moves the mouse or brings the focus to a DOM element with the <code>data-cke-tooltip-*</code> attributes. For more information, please refer to the <a href="../../api/module_ui_tooltipmanager-TooltipManager.html"><code>TooltipManager</code></a> API.</p>
<h3 id="changes-to-the-color-palette-in-the-ui"><a class="headerlink" href="#changes-to-the-color-palette-in-the-ui">#</a> Changes to the color palette in the UI</h3>
<p>In this release, several changes were made to improve the accessibility and overall contrast of the UI. Since we understand that some integrations may prefer the previous look of the editor, we prepared a CSS snippet you can use to bring it back.</p>
<p>For the best results, make sure the custom properties listed below are set after the main editor style sheets. For more information, please check out the <a href="../../framework/deep-dive/ui/theme-customization.html">theme customization guide</a>.</p>
<pre class="highlight"><code class="css">:root {
    --ck-color-base-border: 						hsl(0, 0%, 77%);
    --ck-color-base-action: 						hsl(104, 44%, 48%);
    --ck-color-base-active: 						hsl(208, 88%, 52%);
    --ck-color-base-active-focus:					hsl(208, 88%, 47%);
    --ck-color-focus-border-coordinates: 			208, 79%, 51%;
    --ck-color-focus-outer-shadow: 					hsl(207, 89%, 86%);

    --ck-color-button-default-hover-background: 	hsl(0, 0%, 90%);
    --ck-color-button-default-active-background: 	hsl(0, 0%, 85%);
    --ck-color-button-default-active-shadow: 		hsl(0, 0%, 75%);

    --ck-color-button-on-background: 				hsl(0, 0%, 87%);
    --ck-color-button-on-hover-background: 			hsl(0, 0%, 77%);
    --ck-color-button-on-active-background: 		hsl(0, 0%, 73%);
    --ck-color-button-on-active-shadow: 			hsl(0, 0%, 63%);
    --ck-color-button-on-disabled-background: 		hsl(0, 0%, 87%);
    --ck-color-button-on-color:						var(--ck-color-text);

    --ck-color-button-action-hover-background: 		hsl(104, 44%, 43%);
    --ck-color-button-action-active-background: 	hsl(104, 44%, 41%);
    --ck-color-button-action-active-shadow: 		hsl(104, 44%, 36%);

    --ck-color-switch-button-off-background:		hsl(0, 0%, 69%);
    --ck-color-switch-button-off-hover-background:	hsl(0, 0%, 64%);
    --ck-color-switch-button-on-hover-background: 	hsl(104, 44%, 43%);

    --ck-color-input-border: 						hsl(0, 0%, 78%);
    --ck-color-input-disabled-border: 				hsl(0, 0%, 78%);

    --ck-color-list-button-on-background: 			var(--ck-color-base-active);
    --ck-color-list-button-on-background-focus: 	var(--ck-color-base-active-focus);

    --ck-color-toolbar-background: 					var(--ck-color-base-foreground);
}
</code></pre>
<h3 id="renaming-the-properties-of-balloonpanelview"><a class="headerlink" href="#renaming-the-properties-of-balloonpanelview">#</a> Renaming the properties of <code>BalloonPanelView</code></h3>
<p>The static properties of <code>BalloonPanelView</code> have been renamed.</p>
<p>The <code>BalloonPanelView.arrowVerticalOffset</code> static property is now <code>arrowHeightOffset</code> and <code>BalloonPanelView.arrowHorizontalOffset</code> is now <code>arrowSideOffset</code>.</p>
<h2 id="update-to-ckeditor-5-v3500"><a class="headerlink" href="#update-to-ckeditor-5-v3500">#</a> Update to CKEditor 5 v35.0.0</h2>
<p>For the entire list of changes introduced in version 35.0.0, see the <a href="https://github.com/ckeditor/ckeditor5/releases/tag/v35.0.0">release notes for CKEditor 5 v35.0.0</a>.</p>
<p>Listed below are the most important changes that require your attention when upgrading to CKEditor 5 v35.0.0.</p>
<h3 id="the-source-element-is-not-updated-automatically-after-the-editor-destroy"><a class="headerlink" href="#the-source-element-is-not-updated-automatically-after-the-editor-destroy">#</a> The source element is not updated automatically after the editor destroy</h3>
<p>The last version of CKEditor 5 changes the default behavior of the source element after the editor is destroyed (when <code>editor.destroy()</code> is called). So far, the source element was updated with the output coming from <code>editor.getData()</code>. Now, the source element becomes empty after the editor is destroyed and it is not updated anymore.</p>
<p>However, this behavior is configurable and could be enabled with the <a href="../../api/module_core_editor_editorconfig-EditorConfig.html#member-updateSourceElementOnDestroy"><code>updateSourceElementOnDestroy</code></a> configuration option:</p>
<pre class="highlight"><code class="js">ClassicEditor.create( sourceElement, {
    // ...
    updateSourceElementOnDestroy: true
} );
</code></pre>
<div class="info-box notice notice__warning"><p>Enabling the <code>updateSourceElementOnDestroy</code> option in your configuration, depending on the plugins you use, might have some security implications. While the editing view is secured, there might be some unsafe content in the data output, so enable this option only if you know what you are doing. Be especially careful when using the Markdown, General HTML Support and HTML embed features.</p></div>
<h3 id="dropdown-focus-is-moved-back-to-the-dropdown-button-after-choosing-an-option"><a class="headerlink" href="#dropdown-focus-is-moved-back-to-the-dropdown-button-after-choosing-an-option">#</a> Dropdown focus is moved back to the dropdown button after choosing an option</h3>
<p>Due to the ongoing accessibility improvements the default behavior of the <a href="../../api/module_ui_dropdown_dropdownview-DropdownView.html">dropdown UI component</a> has been changed. From now on, by default, after choosing an option from a dropdown (either by mouse or keyboard), the focus will be automatically moved to the dropdown button.</p>
<p>This default behavior of the dropdown component needs to be overridden in scenarios where the focus should be moved back to the editing area. An example of such a feature would be the “Heading” dropdown — choosing one of the options should result in the focus returning to the editing area instead of the button itself.</p>
<p>This behavior can be customized by using the listener on the dropdown’s <a href="../../api/module_ui_dropdown_dropdownview-DropdownView.html#event-execute"><code>execute</code> event</a>, e.g.:</p>
<pre class="highlight"><code class="js">// Option 1.
// If the `execute` event is delegated to the dropdown, one listener can handle both:
// executing the command (assuming the dropdown executes it) and focusing the editor editing view.
dropdownView.on( 'execute', () =&gt; {
    editor.execute( 'myCommand' );
    editor.editing.view.focus();
} );

// Option 2.
// Otherwise, a dedicated listener may need to be added.
buttonInsideADropdown.on( 'execute', () =&gt; {
    editor.execute( 'myCommand' );
} );

dropdownView.on( 'execute', () =&gt; {
    editor.editing.view.focus();
} );
</code></pre>
<h3 id="there-is-now-a-typescript-code-on-github-and-how-it-affects-your-build"><a class="headerlink" href="#there-is-now-a-typescript-code-on-github-and-how-it-affects-your-build">#</a> There is now a TypeScript code on GitHub (and how it affects your build)</h3>
<p>Starting from v35.0.0, the first of CKEditor 5 packages (namely: <code>@ckeditor/ckeditor5-utils</code>) is developed in TypeScript. This is the first step of <a href="https://github.com/ckeditor/ckeditor5/issues/11704">our migration to TypeScript</a>.</p>
<h4 id="whom-does-it-affect"><a class="headerlink" href="#whom-does-it-affect">#</a> Whom does it affect?</h4>
<p>It affects you <strong>only if</strong> you use the <a href="https://github.com/ckeditor/ckeditor5">source code directly from git repository (GitHub)</a>. If you use it via any other channel (npm, CDN, ZIP, etc.) this change is completely transparent for you as we publish only JavaScript code there.</p>
<h4 id="how-does-it-affect-you"><a class="headerlink" href="#how-does-it-affect-you">#</a> How does it affect you?</h4>
<p>For instance, if you happen to have a custom CKEditor 5 build that, for some reason, installs its dependencies from the git repository, you will need to update your webpack config to support the TypeScript code.</p>
<p>You can find the inspiration on how to change your configuration in <a href="https://github.com/ckeditor/ckeditor5/commit/1dd4075983d97c61b1f668add764525c7fcf2a2d">this commit</a> (this one makes the discussed change in our builds).</p>

          <div class="info-box notice notice__feedback">
            <p>
              Every day, we work hard to keep our documentation complete. Have you spotted outdated information? Is something missing?
              Please report it via our <a href="https://github.com/ckeditor/ckeditor5/issues/new?labels=squad%3Accx%2Ctype%3Adocs&amp;template=7-docs-issue-community.yml&amp;title=Docs+issue+report+from+%22updating%2Fguides%2Fupdate-to-35.html%22&amp;project-version=36.0.1" id="report-widget-issue-tracker">issue tracker</a>.
            </p>
          </div>
          <script>
            ( () => {
                const issueTracker = document.getElementById( 'report-widget-issue-tracker' );
                const hrefUrl = new URL( issueTracker.href );
                hrefUrl.searchParams.set( 'user-agent', navigator.userAgent )
                hrefUrl.searchParams.set( 'origin-url', location.href )
                issueTracker.href = hrefUrl.toString();
            } )();
          </script>
        </div>
      </section>
      <div class="side-navigation">
        <div class="side-navigation__wrapper">
          <nav class="side-navigation__inner">
            <ul class="tree guide-tree">
                          <li><a href="../index.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                              </div></a></li>
                          <li><a href="../migration-from-ckeditor-4.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Migration from CKEditor 4</span>
                              </div></a></li>
                          <li><a href="../maintaining.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Maintaining your editor</span>
                              </div></a></li>
                          <li><a href="../release-process.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Release process</span>
                              </div></a></li>
                          <li><a href="../versioning-policy.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Versioning policy</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Update guides</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="updating-ckeditor-5.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Updating CKEditor 5</span>
                                        </div></a></li>
                                    <li><a href="changelog.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Recent release changelog</span>
                                        </div></a></li>
                                    <li><a href="update-to-36.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v36.x</span>
                                        </div></a></li>
                                    <li><a href="">
                                        <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Update to v35.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-34.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v34.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-33.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v33.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-32.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v32.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-31.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v31.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-30.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v30.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-29.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v29.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-28.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v28.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-27.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v27.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-26.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v26.x</span>
                                        </div></a></li>
                                    <li><a href="update-to-25.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Update to v25.x</span>
                                        </div></a></li>
                            </ul>
                          </li>
            </ul>
          </nav>
        </div>
      </div>
    </main>
    <footer class="footer footer--bordered">
      <p>&copy; 2003-2023 <a href="http://cksource.com">CKSource</a>. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
docsearch({
apiKey:'fc463c26455365ad403d5ec51796cd73',indexName:'ckeditor_nightly',inputSelector:'#docsearch_input',algoliaOptions:{hitsPerPage:250,attributesToRetrieve:'*'},
transformData: function( hits ) {var sortingFn = function( a, b ) {a.custom_ranking = a.custom_ranking || 0;b.custom_ranking = b.custom_ranking || 0;if ( a.custom_ranking === b.custom_ranking ) return a.index - b.index;if ( a.custom_ranking > b.custom_ranking ) return -1;if ( a.custom_ranking < b.custom_ranking ) return 1;};var result = [];var tags = [ 'installation', 'features', 'examples', 'updating', 'support', 'framework', 'api' ];var hitsGrouped = { api: [] };hitsGrouped[ 'updating' ] = hits.filter( function( h ) {return h.tags.includes( 'ckeditor5' ) && h.tags.includes( 'updating' );} ).slice( 0, 7 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn );tags.forEach( function( tag ) {if ( tag !== 'updating' ) {hitsGrouped[ tag ] = hits.filter( function( h ) {return h.tags.includes( 'ckeditor5' ) && h.tags.includes( tag );} ).slice( 0, 10 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn ).slice( 0, 3 );}} );var apiSearchHits = [];if ( window.apiSearch ) apiSearchHits = window.apiSearch();hitsGrouped.api = hitsGrouped.api.filter( function( h ) {var isDuplicated = false;for ( var i = 0; i < apiSearchHits.length; i++ ) {if ( h.url.includes( apiSearchHits[ i ].urlShort ) ) {isDuplicated = true;break;}}return !isDuplicated;} );hitsGrouped.api = ( apiSearchHits || [] ).concat( hitsGrouped.api );result = result.concat( hitsGrouped[ 'updating' ] );tags.forEach( function( tag ) {if ( tag !== 'updating' ) result = result.concat( hitsGrouped[ tag ].slice( 0, 4 ) );} );return result;}
});
</script>
    <script src="../../../../assets/2.4.0/scripts/app.js"></script>
    <script src="../../assets/buildwarningbanner.js" async></script>
  </body>
</html>