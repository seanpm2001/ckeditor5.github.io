<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Model to view (downcast) - CKEditor 5 Documentation</title>
    <meta name="description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:card" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta name="twitter:site" content="@ckeditor">
    <meta name="x-generated-at" content="Fri Jan 06 2023 03:34:31 GMT+0000 (Coordinated Universal Time)">
    <meta property="og:title" content="Model to view (downcast) - CKEditor 5 Documentation">
    <meta property="og:description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/deep-dive/conversion/downcast.html">
    <meta property="DC.language" content="en">
    <meta property="DC.publisher" content="CKSource">
    <meta property="DC.creator" content="CKEditor">
    <meta property="DC.title" content="Model to view (downcast) - CKEditor 5 Documentation">
    <meta property="DC.format" content="text/html">
    <meta property="DC.type" content="Text">
    <meta property="DC.description" content="Learn how to install, integrate and configure CKEditor 5 Builds and how to work with CKEditor 5 Framework, customize it, create your own plugins and custom editors, change the UI or even bring your own UI to the editor. API reference and examples included.">
    <link rel="canonical" href="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/deep-dive/conversion/downcast.html">
    <link rel="icon" type="image/png" href="../../../../assets/img/favicons/16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="../../../../assets/img/favicons/32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="../../../../assets/img/favicons/96x96.png" sizes="96x96">
    <link rel="apple-touch-icon" type="image/png" href="../../../../assets/img/favicons/200x200.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
    <link rel="stylesheet" href="../../../../../../assets/2.2.0/css/styles.css" type="text/css" media="all">
    <link rel="stylesheet" href="../../../../assets/styles.css" type="text/css">
    <link rel="stylesheet" href="../../../../snippets/framework/mini-inspector/snippet.css" type="text/css" data-cke="true">
    <link rel="stylesheet" href="../../../../assets/snippet-styles.css" type="text/css" data-cke="true">
    <link rel="stylesheet" href="../../../../snippets/assets.css" type="text/css" data-cke="true">
    <script>if ( ["ckeditor5.github.io"].indexOf( location.hostname ) !== -1 ) {
      	function pageView() {
      		ga( 'send', 'pageview', location.pathname + location.search + location.hash );
      	}
      
      	(function( i, s, o, g, r, a, m ) {
      		i[ 'GoogleAnalyticsObject' ] = r;
      		i[ r ] = i[ r ] || function() {
      				(i[ r ].q = i[ r ].q || []).push( arguments )
      			}, i[ r ].l = 1 * new Date();
      		a = s.createElement( o ),
      			m = s.getElementsByTagName( o )[ 0 ];
      		a.async = 1;
      		a.src = g;
      		m.parentNode.insertBefore( a, m )
      	})( window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga' );
      
      	ga( 'create', {"trackingId":"UA-271067-19","cookieDomain":"ckeditor5.github.io"} );
      
      	pageView();
      
      	window.addEventListener( 'hashchange', pageView );
      }
    </script>
  <meta name="generator" content="Hexo 6.3.0"></head>
  <body>
    <header class="top" data-project="ckeditor5">
      <div class="header__main">
        <div class="header__main-rwd-button"><a href="#"><span></span><span></span><span></span></a></div>
        <div class="header__main-title"><a class="header__main-title-home" href="../../../../../../index.html">CKEditor Ecosystem Documentation</a></div>
        <div class="top__search">
          <input class="top__search__box" type="text" id="docsearch_input" placeholder="Search in CKEditor 5">
          <div class="top__search__button"><img src="../../../../../../assets/2.2.0/img/loupe.svg" alt="Search"></div>
        </div>
      </div>
      <div class="header__sub">
        <ul class="top__menu">
          <li class="top__menu-project-logo"><a href="../../../../index.html">CKEditor 5</a></li>
          <li><a href="../../../../installation/index.html">Getting started</a></li>
          <li><a href="../../../../features/index.html">Features</a></li>
          <li><a href="../../../../examples/index.html">Examples</a></li>
          <li><a href="../../../../updating/index.html">Updating</a></li>
          <li><a href="../../../../support/index.html">Support</a></li>
          <li><a class="top__menu__item--active" href="../../../index.html">Framework</a></li>
          <li><a class="top__menu__api" href="../../../../api/index.html">API</a></li>
          <li><a class="top__menu-github-link" href="https://github.com/ckeditor/ckeditor5" target="_blank" title="CKEditor 5 on GitHub."><svg viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a></li>
        </ul>
      </div>
      <div class="header__menu-rwd">
        <ul class="header__menu-rwd__projects">
          <li data-project="ckeditor5"><a href="../../../../../latest/index.html">CKEditor 5</a>
            <ul class="tree header__menu-rwd__projects-pages">
              <li data-group="installation"><a href="../../../../installation/index.html">Getting started</a>
              </li>
              <li data-group="features"><a href="../../../../features/index.html">Features</a>
              </li>
              <li data-group="examples"><a href="../../../../examples/index.html">Examples</a>
              </li>
              <li data-group="updating"><a href="../../../../updating/index.html">Updating</a>
              </li>
              <li data-group="support"><a href="../../../../support/index.html">Support</a>
              </li>
              <li data-group="framework"><a href="../../../index.html">Framework</a>
                <ul class="header__menu-rwd__projects-subpages">
                          <li><a href="../../../index.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Guides</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                  <li><a href="../../quick-start.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Quick start</span>
                                      </div></a></li>
                                  <li><a href="../../development-tools.html">
                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development tools</span>
                                      </div></a></li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Architecture</span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../../architecture/intro.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                              </div></a></li>
                                          <li><a href="../../architecture/core-editor-architecture.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Core editor architecture</span>
                                              </div></a></li>
                                          <li><a href="../../architecture/editing-engine.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editing engine</span>
                                              </div></a></li>
                                          <li><a href="../../architecture/ui-library.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI library</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Developing custom plugins</span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../../plugins/creating-simple-plugin-timestamp.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating a basic plugin</span>
                                              </div></a></li>
                                          <li>
                                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Creating an abbreviation plugin</span>
                                            </div>
                                            <ul class="tree__item-nested-list">
                                                  <li><a href="../../plugins/abbreviation-plugin/abbreviation-plugin-level-1.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating a toolbar button</span>
                                                      </div></a></li>
                                                  <li><a href="../../plugins/abbreviation-plugin/abbreviation-plugin-level-2.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Getting user input with a custom UI</span>
                                                      </div></a></li>
                                                  <li><a href="../../plugins/abbreviation-plugin/abbreviation-plugin-level-3.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Improving accessibility and adding a command</span>
                                                      </div></a></li>
                                            </ul>
                                          </li>
                                          <li>
                                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Package Generator</span>
                                            </div>
                                            <ul class="tree__item-nested-list">
                                                  <li><a href="../../plugins/package-generator/using-package-generator.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using package generator</span>
                                                      </div></a></li>
                                                  <li><a href="../../plugins/package-generator/javascript-package.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">JavaScript package</span>
                                                      </div></a></li>
                                                  <li><a href="../../plugins/package-generator/typescript-package.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">TypeScript package</span>
                                                      </div></a></li>
                                            </ul>
                                          </li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Advanced tutorials</span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../../tutorials/implementing-a-block-widget.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing a block widget</span>
                                              </div></a></li>
                                          <li><a href="../../tutorials/implementing-an-inline-widget.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing an inline widget</span>
                                              </div></a></li>
                                          <li><a href="../../tutorials/data-from-external-source.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Data from external source</span><span class="tree__item__badge tree__item__badge_new" data-badge-tooltip="New or updated content">New</span>
                                              </div></a></li>
                                          <li><a href="../../tutorials/using-react-in-a-widget.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using a React component in a widget</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Deep dive</span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../clipboard.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Clipboard</span>
                                              </div></a></li>
                                          <li><a href="../upload-adapter.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom upload adapter</span>
                                              </div></a></li>
                                          <li><a href="../event-system.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Event system</span>
                                              </div></a></li>
                                          <li><a href="../observables.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Observables</span>
                                              </div></a></li>
                                          <li><a href="../schema.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Schema</span>
                                              </div></a></li>
                                          <li>
                                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion</span>
                                            </div>
                                            <ul class="tree__item-nested-list">
                                                  <li><a href="intro.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                                      </div></a></li>
                                                  <li><a href="">
                                                      <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Model to view (downcast)</span>
                                                      </div></a></li>
                                                  <li><a href="upcast.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">View to model (upcast)</span>
                                                      </div></a></li>
                                                  <li>
                                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion helpers</span>
                                                    </div>
                                                    <ul class="tree__item-nested-list">
                                                          <li><a href="helpers/intro.html">
                                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                                              </div></a></li>
                                                          <li><a href="helpers/downcast.html">
                                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Downcast helpers</span>
                                                              </div></a></li>
                                                          <li><a href="helpers/upcast.html">
                                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Upcast helpers</span>
                                                              </div></a></li>
                                                    </ul>
                                                  </li>
                                            </ul>
                                          </li>
                                          <li>
                                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">User interface</span>
                                            </div>
                                            <ul class="tree__item-nested-list">
                                                  <li><a href="../ui/focus-tracking.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Focus tracking</span>
                                                      </div></a></li>
                                                  <li><a href="../ui/widget-internals.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Widget internals</span>
                                                      </div></a></li>
                                                  <li><a href="../ui/theme-customization.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Theme customization</span>
                                                      </div></a></li>
                                                  <li><a href="../ui/external-ui.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Third–party UI</span>
                                                      </div></a></li>
                                                  <li><a href="../ui/document-editor.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document editor</span>
                                                      </div></a></li>
                                                  <li><a href="../ui/custom-editor-creator.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating custom editor</span>
                                                      </div></a></li>
                                                  <li><a href="../ui/localization.html">
                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Localization</span>
                                                      </div></a></li>
                                            </ul>
                                          </li>
                                    </ul>
                                  </li>
                                  <li>
                                    <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Contributing</span>
                                    </div>
                                    <ul class="tree__item-nested-list">
                                          <li><a href="../../contributing/contributing.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Contributing</span>
                                              </div></a></li>
                                          <li><a href="../../contributing/development-environment.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development environment</span>
                                              </div></a></li>
                                          <li><a href="../../contributing/testing-environment.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Testing environment</span>
                                              </div></a></li>
                                          <li><a href="../../contributing/code-style.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code style</span>
                                              </div></a></li>
                                          <li><a href="../../contributing/package-metadata.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Package metadata</span>
                                              </div></a></li>
                                          <li><a href="../../contributing/git-commit-message-convention.html">
                                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Git commit message convention</span>
                                              </div></a></li>
                                    </ul>
                                  </li>
                            </ul>
                          </li>
                </ul>
              </li>
              <li data-group="api-reference"><a href="../../../../api/index.html">API</a>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </header>
    <main class="main">
      <section class="main__content formatted">
        <div class="main__content-inner">
          <div class="github-contrib"><a href="https://github.com/ckeditor/ckeditor5/blob/master/packages/ckeditor5-engine/docs/framework/guides/deep-dive/conversion/downcast.md" title="Contribute to this guide"><img src="../../../../../../assets/2.2.0/img/edit.svg" alt="Contribute to this guide"></a>
          </div>
          <div class="rwd-breadcrumbs"><a href="../../../../../../index.html">Home</a><span class="rwd-breadcrumbs__separator">/</span><a href="../../../../index.html">CKEditor 5</a><span class="rwd-breadcrumbs__separator">/</span><a href="../../../index.html">Framework</a>
          </div>
          <h1 class="main__content-title"><img src="../../../../../../assets/2.2.0/img/book.svg" alt="guide">Downcast conversion — model to view
          </h1><nav class="secondary-navigation"><h3>Table of contents</h3><ol><li><a href="#introduction">Introduction</a></li><li><a href="#registering-a-converter">Registering a converter</a></li><li><a href="#downcast-pipelines">Downcast pipelines</a></li><li><a href="#converting-text-attributes">Converting text attributes</a></li><li><a href="#converting-element-to-element">Converting element to element</a></li><li><a href="#converting-element-to-structure">Converting element to structure</a></li><li><a href="#further-reading">Further reading</a></li></ol></nav>
<h2 id="introduction"><a class="headerlink" href="#introduction">#</a> Introduction</h2>
<p>The process of converting the <strong>model</strong> to the <strong>view</strong> is called a <strong>downcast</strong>.</p>
<p><img src="../../../../assets/img/downcast-basic.svg" data-lightbox="true" alt="Basic downcast conversion diagram." width="238"></p>
<p>The downcast process happens every time a model node or attribute needs to be converted into a view node or attribute.</p>
<p>The editor engine runs the conversion process and uses converters registered by the plugins.</p>
<div class="live-snippet"><style>
	.mini-inspector-editor {
		display: none;
	}

	.ck-inspector.ck-mini-inspector {
		/* Vertical spacing like around code snippets. */
		margin: 1em 0;

		/* Match the look of the diagrams */
		border-radius: 5px;
	}

	.ck-inspector.ck-mini-inspector .ck-inspector-code {
		font-weight: bold;
		--ck-inspector-code-font-size: 13px;

		/* FYI: This is Umberto's mono stack. */
		--ck-inspector-code-font-family: Monaco, Menlo, Consolas, "Roboto Mono", "Courier New", "Ubuntu Mono", monospace;
	}

	.ck-inspector.ck-mini-inspector .ck-inspector-tree .ck-inspector-tree__position.ck-inspector-tree__position_selection {
		display: none;
	}

	.ck-inspector.ck-mini-inspector .ck-inspector-tree > .ck-inspector-tree-node > :first-child,
	.ck-inspector.ck-mini-inspector .ck-inspector-tree > .ck-inspector-tree-node > :last-child {
		opacity: 0.4;
		filter: grayscale(1);
	}

	.ck-inspector.ck-mini-inspector .ck-inspector-tree > .ck-inspector-tree-node > :first-child {
		text-overflow: ellipsis;
		overflow: hidden;
		width: 100%;
		white-space: nowrap;
		display: block;
	}

	/* Match the look of the diagrams */
	.ck-inspector.ck-mini-inspector .ck-inspector-tree:first-child,
	.ck-inspector.ck-mini-inspector .ck-inspector-tree:last-child {
		border: 2px solid hsl(0, 0%, 0%);
	}

	.ck-inspector.ck-mini-inspector .ck-inspector-tree:first-child {
		border-radius: 5px 0 0 5px;
		background: hsl(338deg 100% 99%);
	}

	.ck-inspector.ck-mini-inspector .ck-inspector-tree:first-child::before {
		background: hsl(339, 81%, 85%);
		content: "Model";
	}

	.ck-inspector.ck-mini-inspector .ck-inspector-tree:last-child {
		border-radius: 0 5px 5px 0;
		background: hsl(187deg 100% 98%);
		border-left: 0;
	}

	.ck-inspector.ck-mini-inspector .ck-inspector-tree:last-child::before {
		background: hsl(187, 71%, 82%);
		content: "View";
	}

	.ck-inspector.ck-mini-inspector .ck-inspector-tree:first-child::before,
	.ck-inspector.ck-mini-inspector .ck-inspector-tree:last-child::before {
		font-size: 14px;
		text-align: center;

		border-bottom: 2px solid hsl(0, 0%, 0%);

		/* FYI: This is Umberto's sans-serif stack. */
		font-family: "Source Sans Pro", system-ui, Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif;
	}
</style>
</div>
<h2 id="registering-a-converter"><a class="headerlink" href="#registering-a-converter">#</a> Registering a converter</h2>
<p>In order to tell the engine how to convert a specific model element into a view element, you need to register a <strong>downcast converter</strong> by using the <code>editor.conversion.for( 'downcast' )</code> method, listing the elements that should be converted in the process:</p>
<pre class="highlight"><code class="js">editor.conversion
    .for( 'downcast' )
    .elementToElement( {
        model: 'paragraph',
        view: 'p'
    } );
</code></pre>
<p>The above converter will handle the conversion of every <code>&lt;paragraph&gt;</code> model element into a <code>&lt;p&gt;</code> view element. You can see the input and output in the snippet below.</p>
<div class="live-snippet"><div id="mini-inspector-paragraph" class="mini-inspector-editor">
	<p></p>
</div>

<div id="mini-inspector-paragraph-container"></div>
</div>
<div class="info-box notice"><p>This is just an example. In fact, paragraph support is already provided by the <a href="../../../../api/paragraph.html">paragraph plugin</a> so you do not really need to write your own <code>&lt;paragraph&gt;</code> element to <code>&lt;p&gt;</code> element conversion.</p></div>
<div class="info-box notice"><p>You just learned about the <a href="helpers/downcast.html#element-to-element-conversion-helper"><code>elementToElement()</code> <strong>downcast</strong> conversion helper method</a>! More helpers are documented in the following chapters.</p></div>
<h2 id="downcast-pipelines"><a class="headerlink" href="#downcast-pipelines">#</a> Downcast pipelines</h2>
<p>The CKEditor 5 engine uses two different views: the <strong>data view</strong> and the <strong>editing view</strong>.</p>
<p>The <strong>data view</strong> is used when generating the editor output. This process is controlled by the data pipeline.</p>
<p>The <strong>editing view</strong>, on the other hand, is what you see when you open the editor. This is controlled by the editing pipeline.</p>
<p><img src="../../../../assets/img/downcast-pipelines.svg" data-lightbox="true" alt="Downcast conversion pipelines diagram." width="444"></p>
<p>The simple code example presented before registers a converter for both of these pipelines at once. It means that a <code>&lt;paragraph&gt;</code> model element will be converted to a <code>&lt;p&gt;</code> view element in both the <strong>data view</strong> and the <strong>editing view</strong> all the same.</p>
<p>Sometimes you may want to alter the converter logic for a specific pipeline. For example, in the editing view you may want to add some additional class to the view element. This kind of operation requires setting separate converters for both views, unlike the previous example where one, general downcast was set up.</p>
<pre class="highlight"><code class="js">// dataDowncast for data pipeline
editor.conversion
    .for( 'dataDowncast' )
    .elementToElement( {
        model: 'paragraph',
        view: 'p'
    } );

// editingDowncast for editing pipeline
editor.conversion
    .for( 'editingDowncast' )
    .elementToElement( {
        model: 'paragraph',
        view: {
            name: 'p',
            classes: 'paragraph-in-editing-view'
        }
    } );
</code></pre>
<div class="live-snippet"><div id="mini-inspector-paragraph" class="mini-inspector-editor">
	<p></p>
</div>

<div id="mini-inspector-paragraph-container"></div>
</div>
<h2 id="converting-text-attributes"><a class="headerlink" href="#converting-text-attributes">#</a> Converting text attributes</h2>
<p>As you should already know from the <a href="../../architecture/editing-engine.html#model">chapter about the model</a>, an <strong>attribute</strong> may be applied to a model text node.</p>
<p>Such text node attributes may be converted into view elements.</p>
<p>In order to do so, you can register a converter by using the <a href="helpers/downcast.html#attribute-to-element-conversion-helper"><code>attributeToElement()</code> conversion helper</a>:</p>
<pre class="highlight"><code class="js">editor.conversion
    .for( 'downcast' )
    .attributeToElement( {
        model: 'bold',
        view: 'strong'
    } );
</code></pre>
<p>The above converter will handle the conversion of every <code>bold</code> model text node attribute to a <code>&lt;strong&gt;</code> view element, as shown in the snippet below.</p>
<div class="live-snippet"><div id="mini-inspector-bold" class="mini-inspector-editor">
	<p><strong>Text in bold</strong></p>
</div>

<div id="mini-inspector-bold-container"></div>
</div>
<div class="info-box notice"><p>Again, this is just an example for the sake of simplicity. Bold support is actually provided by the <a href="../../../../features/basic-styles.html">basic styles</a> plugin so you do not have to write your own bold attribute to strong element conversion.</p></div>
<h2 id="converting-element-to-element"><a class="headerlink" href="#converting-element-to-element">#</a> Converting element to element</h2>
<p>Similar to the previous example, you can convert a <code>&lt;heading&gt;</code> model element into an <code>&lt;h1&gt;</code> view element with the use of the <a href="helpers/downcast.html#element-to-element-conversion-helper"><code>elementToElement()</code> conversion helper</a>. A code to achieve it would look like this:</p>
<pre class="highlight"><code class="js">editor.conversion
    .for( 'downcast' )
    .elementToElement( {
        model: 'heading',
        view: 'h1'
    } );
</code></pre>
<p>Which is equivalent to:</p>
<pre class="highlight"><code class="js">editor.conversion
    .for( 'downcast' )
    .elementToElement( {
        model: 'heading',
        view: ( modelElement, { writer } ) =&gt; {
            return writer.createContainerElement(
                'h1'
            );
        }
    } );
</code></pre>
<p>You have previously learnt that the <code>view</code> property can be a simple string or an object. The example above shows it is also possible to define a custom callback function to return the created element instead. The effect for this kind of conversion can be observed in the snippet below:</p>
<div class="live-snippet"><div id="mini-inspector-heading" class="mini-inspector-editor">
	<h1></h1>
</div>

<div id="mini-inspector-heading-container"></div>
</div>
<p>The <code>&lt;heading&gt;</code> element makes the most sense if you can set the heading level in the view.</p>
<p>In the previous chapter you have learnt that you can apply attributes to text nodes. It is also possible to add attributes to elements, like in this example:</p>
<pre class="highlight"><code class="js">editor.conversion
    .for( 'downcast' )
    .elementToElement( {
        model: {
            name: 'heading',
            attributes: [ 'level' ]
        },
        view: ( modelElement, { writer } ) =&gt; {
            return writer.createContainerElement(
                'h' + modelElement.getAttribute( 'level' )
            );
        }
    } );
</code></pre>
<p>From now on, every time a level attribute updates, the whole <code>&lt;heading&gt;</code> element will be converted to the <code>&lt;h[level]&gt;</code> element (for example <code>&lt;h1&gt;</code>, <code>&lt;h2&gt;</code>, etc).</p>
<p>You can check this in action by using the example below. Use the dropdown to change heading level in the model and see how view elements are updated by the converter:</p>
<div class="live-snippet"><div id="mini-inspector-heading-interactive" class="mini-inspector-editor">
	<h1></h1>
</div>

<label class="mini-inspector-heading-level-dropdown">
	<strong>Update heading level:</strong>
	<select id="mini-inspector-heading-interactive-dropdown">
		<option value="1">Level 1 (h1)</option>
		<option value="2">Level 2 (h2)</option>
		<option value="3">Level 3 (h3)</option>
		<option value="4">Level 4 (h4)</option>
		<option value="5">Level 5 (h5)</option>
		<option value="6">Level 6 (h6)</option>
	</select>
</label>

<div id="mini-inspector-heading-interactive-container"></div>

<style>
	.mini-inspector-heading-level-dropdown {
		display: block;
		margin-bottom: 20px;
	}

	#mini-inspector-heading-interactive-dropdown {
		padding: 5px;
	}

	#mini-inspector-heading-interactive-container .ck-mini-inspector > div:first-child .ck-inspector-tree-node__attribute {
		background: #fdfd77;
	}

	#mini-inspector-heading-interactive-container .ck-mini-inspector > div:last-child .ck-inspector-tree-node__content .ck-inspector-tree-node__name {
		display: inline;
		background: #fdfd77;
	}
</style>
</div>
<div class="info-box notice"><p>This, again, is just an example. Heading support is actually provided by the <a href="../../../../features/headings.html">headings feature</a> so you do not have to write your own <code>&lt;heading level="1"&gt;</code> to <code>&lt;h1&gt;</code> element conversion.</p></div>
<h2 id="converting-element-to-structure"><a class="headerlink" href="#converting-element-to-structure">#</a> Converting element to structure</h2>
<p>Sometimes you may want to convert a <strong>single model element</strong> into a more complex view structure consisting of a <strong>single view element with children</strong>.</p>
<p>You can use the <a href="helpers/downcast.html#element-to-structure-conversion-helper"><code>elementToStructure()</code> conversion helper</a> for this purpose:</p>
<pre class="highlight"><code class="js">editor.conversion
    .for( 'downcast' ).elementToStructure( {
        model: 'myElement',
        view: ( modelElement, { writer } ) =&gt; {
            return writer.createContainerElement( 'div', { class: 'wrapper' }, [
                writer.createContainerElement( 'div', { class: 'inner-wrapper' }, [
                    writer.createSlot()
                ] )
            ] );
        }
    } );
</code></pre>
<p>The above converter will convert all <code>&lt;myElement&gt;</code> model elements to <code>&lt;div class="wrapper"&gt;&lt;div class="inner-wrapper"&gt;&lt;p&gt;...&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;</code> structures, as shown below:</p>
<div class="live-snippet"><div id="mini-inspector-structure" class="mini-inspector-editor">
	<div class="wrapper">
		<div class="inner-wrapper">
			<p>
				Example structure
			</p>
		</div>
	</div>
</div>

<div id="mini-inspector-structure-container"></div>
</div>
<div class="info-box notice"><p>Using your own custom model element requires defining it in the <a href="../schema.html">schema</a> first.</p></div>
<div class="info-box notice"><p>For editor users, the best way to interact with complex structures is to act as independent entities and stay intact, for instance, when copied, pasted, and edited. CKEditor 5 allows that through the <a href="../../../../api/module_widget_utils.html#function-toWidget">widget API</a>. If you want to learn how to use it on top of <code>elementToStructure()</code>, be sure to check out the <a href="../../tutorials/implementing-a-block-widget.html">Implementing a block widget</a> tutorial.</p></div>
<h2 id="further-reading"><a class="headerlink" href="#further-reading">#</a> Further reading</h2>
<p>If you want to learn more about downcast helpers mentioned in this guide, we have <a href="helpers/downcast.html">rounded them up</a> for you with complete descriptions and examples. We also recommend you to check out the <a href="upcast.html">upcast conversion</a> guide and learn how to convert raw data on the editor input into a live model state.</p>

          <div class="info-box notice notice__feedback">
            <p>
              Every day, we work hard to keep our documentation complete. Have you spotted outdated information? Is something missing?
              Please report it via our <a href="https://github.com/ckeditor/ckeditor5/issues/new?labels=squad%3Accx%2Ctype%3Adocs&amp;template=7-docs-issue-community.yml&amp;title=Docs+issue+report+from+%22framework%2Fguides%2Fdeep-dive%2Fconversion%2Fdowncast.html%22&amp;project-version=35.4.0" id="report-widget-issue-tracker">issue tracker</a>.
            </p>
          </div>
          <script>
            ( () => {
                const issueTracker = document.getElementById( 'report-widget-issue-tracker' );
                const hrefUrl = new URL( issueTracker.href );
                hrefUrl.searchParams.set( 'user-agent', navigator.userAgent )
                hrefUrl.searchParams.set( 'origin-url', location.href )
                issueTracker.href = hrefUrl.toString();
            } )();
          </script>
        </div>
      </section>
      <div class="side-navigation">
        <div class="side-navigation__wrapper">
          <nav class="side-navigation__inner">
            <ul class="tree guide-tree">
                          <li><a href="../../../index.html">
                              <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Overview</span>
                              </div></a></li>
                          <li>
                            <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Guides</span>
                            </div>
                            <ul class="tree__item-nested-list">
                                    <li><a href="../../quick-start.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Quick start</span>
                                        </div></a></li>
                                    <li><a href="../../development-tools.html">
                                        <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development tools</span>
                                        </div></a></li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Architecture</span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../../architecture/intro.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                                  </div></a></li>
                                              <li><a href="../../architecture/core-editor-architecture.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Core editor architecture</span>
                                                  </div></a></li>
                                              <li><a href="../../architecture/editing-engine.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Editing engine</span>
                                                  </div></a></li>
                                              <li><a href="../../architecture/ui-library.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">UI library</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Developing custom plugins</span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../../plugins/creating-simple-plugin-timestamp.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating a basic plugin</span>
                                                  </div></a></li>
                                              <li>
                                                <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Creating an abbreviation plugin</span>
                                                </div>
                                                <ul class="tree__item-nested-list">
                                                        <li><a href="../../plugins/abbreviation-plugin/abbreviation-plugin-level-1.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating a toolbar button</span>
                                                            </div></a></li>
                                                        <li><a href="../../plugins/abbreviation-plugin/abbreviation-plugin-level-2.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Getting user input with a custom UI</span>
                                                            </div></a></li>
                                                        <li><a href="../../plugins/abbreviation-plugin/abbreviation-plugin-level-3.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Improving accessibility and adding a command</span>
                                                            </div></a></li>
                                                </ul>
                                              </li>
                                              <li>
                                                <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Package Generator</span>
                                                </div>
                                                <ul class="tree__item-nested-list">
                                                        <li><a href="../../plugins/package-generator/using-package-generator.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using package generator</span>
                                                            </div></a></li>
                                                        <li><a href="../../plugins/package-generator/javascript-package.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">JavaScript package</span>
                                                            </div></a></li>
                                                        <li><a href="../../plugins/package-generator/typescript-package.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">TypeScript package</span>
                                                            </div></a></li>
                                                </ul>
                                              </li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Advanced tutorials</span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../../tutorials/implementing-a-block-widget.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing a block widget</span>
                                                  </div></a></li>
                                              <li><a href="../../tutorials/implementing-an-inline-widget.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Implementing an inline widget</span>
                                                  </div></a></li>
                                              <li><a href="../../tutorials/data-from-external-source.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Data from external source</span><span class="tree__item__badge tree__item__badge_new" data-badge-tooltip="New or updated content">New</span>
                                                  </div></a></li>
                                              <li><a href="../../tutorials/using-react-in-a-widget.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Using a React component in a widget</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Deep dive</span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../clipboard.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Clipboard</span>
                                                  </div></a></li>
                                              <li><a href="../upload-adapter.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Custom upload adapter</span>
                                                  </div></a></li>
                                              <li><a href="../event-system.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Event system</span>
                                                  </div></a></li>
                                              <li><a href="../observables.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Observables</span>
                                                  </div></a></li>
                                              <li><a href="../schema.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Schema</span>
                                                  </div></a></li>
                                              <li>
                                                <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion</span>
                                                </div>
                                                <ul class="tree__item-nested-list">
                                                        <li><a href="intro.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                                            </div></a></li>
                                                        <li><a href="">
                                                            <div class="tree__item__wrapper tree__item__wrapper--active"><span class="tree__item--guide tree__item__text">Model to view (downcast)</span>
                                                            </div></a></li>
                                                        <li><a href="upcast.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">View to model (upcast)</span>
                                                            </div></a></li>
                                                        <li>
                                                          <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Conversion helpers</span>
                                                          </div>
                                                          <ul class="tree__item-nested-list">
                                                                  <li><a href="helpers/intro.html">
                                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Introduction</span>
                                                                      </div></a></li>
                                                                  <li><a href="helpers/downcast.html">
                                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Downcast helpers</span>
                                                                      </div></a></li>
                                                                  <li><a href="helpers/upcast.html">
                                                                      <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Upcast helpers</span>
                                                                      </div></a></li>
                                                          </ul>
                                                        </li>
                                                </ul>
                                              </li>
                                              <li>
                                                <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">User interface</span>
                                                </div>
                                                <ul class="tree__item-nested-list">
                                                        <li><a href="../ui/focus-tracking.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Focus tracking</span>
                                                            </div></a></li>
                                                        <li><a href="../ui/widget-internals.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Widget internals</span>
                                                            </div></a></li>
                                                        <li><a href="../ui/theme-customization.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Theme customization</span>
                                                            </div></a></li>
                                                        <li><a href="../ui/external-ui.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Third–party UI</span>
                                                            </div></a></li>
                                                        <li><a href="../ui/document-editor.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Document editor</span>
                                                            </div></a></li>
                                                        <li><a href="../ui/custom-editor-creator.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Creating custom editor</span>
                                                            </div></a></li>
                                                        <li><a href="../ui/localization.html">
                                                            <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Localization</span>
                                                            </div></a></li>
                                                </ul>
                                              </li>
                                      </ul>
                                    </li>
                                    <li>
                                      <div class="tree__item__wrapper"><span class="tree__item--folder tree__item__text">Contributing</span>
                                      </div>
                                      <ul class="tree__item-nested-list">
                                              <li><a href="../../contributing/contributing.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Contributing</span>
                                                  </div></a></li>
                                              <li><a href="../../contributing/development-environment.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Development environment</span>
                                                  </div></a></li>
                                              <li><a href="../../contributing/testing-environment.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Testing environment</span>
                                                  </div></a></li>
                                              <li><a href="../../contributing/code-style.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Code style</span>
                                                  </div></a></li>
                                              <li><a href="../../contributing/package-metadata.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Package metadata</span>
                                                  </div></a></li>
                                              <li><a href="../../contributing/git-commit-message-convention.html">
                                                  <div class="tree__item__wrapper"><span class="tree__item--guide tree__item__text">Git commit message convention</span>
                                                  </div></a></li>
                                      </ul>
                                    </li>
                            </ul>
                          </li>
            </ul>
          </nav>
        </div>
      </div>
    </main>
    <footer class="footer footer--bordered">
      <p>&copy; 2003-2023 <a href="http://cksource.com">CKSource</a>. All rights reserved.</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script type="text/javascript">
docsearch({
apiKey:'fc463c26455365ad403d5ec51796cd73',indexName:'ckeditor_nightly',inputSelector:'#docsearch_input',algoliaOptions:{hitsPerPage:250,attributesToRetrieve:'*'},
transformData: function( hits ) {var sortingFn = function( a, b ) {a.custom_ranking = a.custom_ranking || 0;b.custom_ranking = b.custom_ranking || 0;if ( a.custom_ranking === b.custom_ranking ) return a.index - b.index;if ( a.custom_ranking > b.custom_ranking ) return -1;if ( a.custom_ranking < b.custom_ranking ) return 1;};var result = [];var tags = [ 'installation', 'features', 'examples', 'updating', 'support', 'framework', 'api' ];var hitsGrouped = { api: [] };hitsGrouped[ 'framework' ] = hits.filter( function( h ) {return h.tags.includes( 'ckeditor5' ) && h.tags.includes( 'framework' );} ).slice( 0, 7 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn );tags.forEach( function( tag ) {if ( tag !== 'framework' ) {hitsGrouped[ tag ] = hits.filter( function( h ) {return h.tags.includes( 'ckeditor5' ) && h.tags.includes( tag );} ).slice( 0, 10 ).map( function( item, idx ) {item.index = idx;return item;} ).sort( sortingFn ).slice( 0, 3 );}} );var apiSearchHits = [];if ( window.apiSearch ) apiSearchHits = window.apiSearch();hitsGrouped.api = hitsGrouped.api.filter( function( h ) {var isDuplicated = false;for ( var i = 0; i < apiSearchHits.length; i++ ) {if ( h.url.includes( apiSearchHits[ i ].urlShort ) ) {isDuplicated = true;break;}}return !isDuplicated;} );hitsGrouped.api = ( apiSearchHits || [] ).concat( hitsGrouped.api );result = result.concat( hitsGrouped[ 'framework' ] );tags.forEach( function( tag ) {if ( tag !== 'framework' ) result = result.concat( hitsGrouped[ tag ].slice( 0, 4 ) );} );return result;}
});
</script>
    <script src="../../../../../../assets/2.2.0/scripts/app.js"></script>
    <script src="../../../../assets/snippet.js"></script>
    <script src="../../../../snippets/assets.js"></script>
    <script src="../../../../snippets/framework/mini-inspector/snippet.js"></script>
    <script src="../../../../snippets/framework/mini-inspector-paragraph/snippet.js"></script>
    <script src="../../../../snippets/framework/mini-inspector-bold/snippet.js"></script>
    <script src="../../../../snippets/framework/mini-inspector-heading/snippet.js"></script>
    <script src="../../../../snippets/framework/mini-inspector-heading-interactive/snippet.js"></script>
    <script src="../../../../snippets/framework/mini-inspector-structure/snippet.js"></script>
    <script src="../../../../assets/buildwarningbanner.js" async></script>
  </body>
</html>